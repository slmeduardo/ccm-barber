function UR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function BR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zR={exports:{}},Tm={},HR={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud=Symbol.for("react.element"),lj=Symbol.for("react.portal"),cj=Symbol.for("react.fragment"),uj=Symbol.for("react.strict_mode"),dj=Symbol.for("react.profiler"),fj=Symbol.for("react.provider"),hj=Symbol.for("react.context"),pj=Symbol.for("react.forward_ref"),mj=Symbol.for("react.suspense"),gj=Symbol.for("react.memo"),vj=Symbol.for("react.lazy"),gT=Symbol.iterator;function yj(t){return t===null||typeof t!="object"?null:(t=gT&&t[gT]||t["@@iterator"],typeof t=="function"?t:null)}var $R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WR=Object.assign,GR={};function Pc(t,e,n){this.props=t,this.context=e,this.refs=GR,this.updater=n||$R}Pc.prototype.isReactComponent={};Pc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qR(){}qR.prototype=Pc.prototype;function Cw(t,e,n){this.props=t,this.context=e,this.refs=GR,this.updater=n||$R}var Aw=Cw.prototype=new qR;Aw.constructor=Cw;WR(Aw,Pc.prototype);Aw.isPureReactComponent=!0;var vT=Array.isArray,QR=Object.prototype.hasOwnProperty,Rw={current:null},KR={key:!0,ref:!0,__self:!0,__source:!0};function YR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)QR.call(e,r)&&!KR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ud,type:t,key:s,ref:o,props:i,_owner:Rw.current}}function _j(t,e){return{$$typeof:Ud,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ud}function wj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yT=/\/+/g;function Hg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wj(""+t.key):e.toString(36)}function vh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ud:case lj:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hg(o,0):r,vT(i)?(n="",t!=null&&(n=t.replace(yT,"$&/")+"/"),vh(i,e,n,"",function(c){return c})):i!=null&&(Iw(i)&&(i=_j(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Hg(s,a);o+=vh(s,e,n,l,i)}else if(l=yj(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Hg(s,a++),o+=vh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Df(t,e,n){if(t==null)return t;var r=[],i=0;return vh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ej(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zn={current:null},yh={transition:null},bj={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:yh,ReactCurrentOwner:Rw};function ZR(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:Df,forEach:function(t,e,n){Df(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Df(t,function(){e++}),e},toArray:function(t){return Df(t,function(e){return e})||[]},only:function(t){if(!Iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Pc;st.Fragment=cj;st.Profiler=dj;st.PureComponent=Cw;st.StrictMode=uj;st.Suspense=mj;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bj;st.act=ZR;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)QR.call(e,l)&&!KR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ud,type:t.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(t){return t={$$typeof:hj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fj,_context:t},t.Consumer=t};st.createElement=YR;st.createFactory=function(t){var e=YR.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:pj,render:t}};st.isValidElement=Iw;st.lazy=function(t){return{$$typeof:vj,_payload:{_status:-1,_result:t},_init:Ej}};st.memo=function(t,e){return{$$typeof:gj,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=yh.transition;yh.transition={};try{t()}finally{yh.transition=e}};st.unstable_act=ZR;st.useCallback=function(t,e){return Zn.current.useCallback(t,e)};st.useContext=function(t){return Zn.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return Zn.current.useDeferredValue(t)};st.useEffect=function(t,e){return Zn.current.useEffect(t,e)};st.useId=function(){return Zn.current.useId()};st.useImperativeHandle=function(t,e,n){return Zn.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return Zn.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return Zn.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return Zn.current.useMemo(t,e)};st.useReducer=function(t,e,n){return Zn.current.useReducer(t,e,n)};st.useRef=function(t){return Zn.current.useRef(t)};st.useState=function(t){return Zn.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return Zn.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return Zn.current.useTransition()};st.version="18.3.1";HR.exports=st;var _=HR.exports;const Ue=BR(_),Dw=UR({__proto__:null,default:Ue},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj=_,Tj=Symbol.for("react.element"),xj=Symbol.for("react.fragment"),Cj=Object.prototype.hasOwnProperty,Aj=Sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rj={key:!0,ref:!0,__self:!0,__source:!0};function XR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Cj.call(e,r)&&!Rj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Tj,type:t,key:s,ref:o,props:i,_owner:Aj.current}}Tm.Fragment=xj;Tm.jsx=XR;Tm.jsxs=XR;zR.exports=Tm;var y=zR.exports,JR={exports:{}},Cr={},eI={exports:{}},tI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ee){var pe=H.length;H.push(ee);e:for(;0<pe;){var Ie=pe-1>>>1,ke=H[Ie];if(0<i(ke,ee))H[Ie]=ee,H[pe]=ke,pe=Ie;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],pe=H.pop();if(pe!==ee){H[0]=pe;e:for(var Ie=0,ke=H.length,ze=ke>>>1;Ie<ze;){var ct=2*(Ie+1)-1,it=H[ct],mt=ct+1,U=H[mt];if(0>i(it,pe))mt<ke&&0>i(U,it)?(H[Ie]=U,H[mt]=pe,Ie=mt):(H[Ie]=it,H[ct]=pe,Ie=ct);else if(mt<ke&&0>i(U,pe))H[Ie]=U,H[mt]=pe,Ie=mt;else break e}}return ee}function i(H,ee){var pe=H.sortIndex-ee.sortIndex;return pe!==0?pe:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,w=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=H)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function A(H){if(g=!1,x(H),!w)if(n(l)!==null)w=!0,le(O);else{var ee=n(c);ee!==null&&ve(A,ee.startTime-H)}}function O(H,ee){w=!1,g&&(g=!1,b(C),C=-1),p=!0;var pe=h;try{for(x(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||H&&!N());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,h=f.priorityLevel;var ke=Ie(f.expirationTime<=ee);ee=t.unstable_now(),typeof ke=="function"?f.callback=ke:f===n(l)&&r(l),x(ee)}else r(l);f=n(l)}if(f!==null)var ze=!0;else{var ct=n(c);ct!==null&&ve(A,ct.startTime-ee),ze=!1}return ze}finally{f=null,h=pe,p=!1}}var V=!1,S=null,C=-1,R=5,I=-1;function N(){return!(t.unstable_now()-I<R)}function P(){if(S!==null){var H=t.unstable_now();I=H;var ee=!0;try{ee=S(!0,H)}finally{ee?k():(V=!1,S=null)}}else V=!1}var k;if(typeof v=="function")k=function(){v(P)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,fe=Y.port2;Y.port1.onmessage=P,k=function(){fe.postMessage(null)}}else k=function(){E(P,0)};function le(H){S=H,V||(V=!0,k())}function ve(H,ee){C=E(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,le(O))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var pe=h;h=ee;try{return H()}finally{h=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pe=h;h=H;try{return ee()}finally{h=pe}},t.unstable_scheduleCallback=function(H,ee,pe){var Ie=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ie+pe:Ie):pe=Ie,H){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=pe+ke,H={id:u++,callback:ee,priorityLevel:H,startTime:pe,expirationTime:ke,sortIndex:-1},pe>Ie?(H.sortIndex=pe,e(c,H),n(l)===null&&H===n(c)&&(g?(b(C),C=-1):g=!0,ve(A,pe-Ie))):(H.sortIndex=ke,e(l,H),w||p||(w=!0,le(O))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var ee=h;return function(){var pe=h;h=ee;try{return H.apply(this,arguments)}finally{h=pe}}}})(tI);eI.exports=tI;var Ij=eI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj=_,Tr=Ij;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nI=new Set,td={};function tl(t,e){oc(t,e),oc(t+"Capture",e)}function oc(t,e){for(td[t]=e,t=0;t<e.length;t++)nI.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uy=Object.prototype.hasOwnProperty,kj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_T={},wT={};function Pj(t){return uy.call(wT,t)?!0:uy.call(_T,t)?!1:kj.test(t)?wT[t]=!0:(_T[t]=!0,!1)}function Nj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Oj(t,e,n,r){if(e===null||typeof e>"u"||Nj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kw=/[\-:]([a-z])/g;function Pw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kw,Pw);Rn[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kw,Pw);Rn[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kw,Pw);Rn[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nw(t,e,n,r){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Oj(e,n,i,r)&&(n=null),r||i===null?Pj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ss=Dj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kf=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Dl=Symbol.for("react.fragment"),Ow=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),rI=Symbol.for("react.provider"),iI=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),fy=Symbol.for("react.suspense"),hy=Symbol.for("react.suspense_list"),Lw=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),sI=Symbol.for("react.offscreen"),ET=Symbol.iterator;function ou(t){return t===null||typeof t!="object"?null:(t=ET&&t[ET]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,$g;function bu(t){if($g===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$g=e&&e[1]||""}return`
`+$g+t}var Wg=!1;function Gg(t,e){if(!t||Wg)return"";Wg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bu(t):""}function Mj(t){switch(t.tag){case 5:return bu(t.type);case 16:return bu("Lazy");case 13:return bu("Suspense");case 19:return bu("SuspenseList");case 0:case 2:case 15:return t=Gg(t.type,!1),t;case 11:return t=Gg(t.type.render,!1),t;case 1:return t=Gg(t.type,!0),t;default:return""}}function py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dl:return"Fragment";case Il:return"Portal";case dy:return"Profiler";case Ow:return"StrictMode";case fy:return"Suspense";case hy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iI:return(t.displayName||"Context")+".Consumer";case rI:return(t._context.displayName||"Context")+".Provider";case Mw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lw:return e=t.displayName||null,e!==null?e:py(t.type)||"Memo";case Us:e=t._payload,t=t._init;try{return py(t(e))}catch{}}return null}function Lj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return py(e);case 8:return e===Ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vj(t){var e=oI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pf(t){t._valueTracker||(t._valueTracker=Vj(t))}function aI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function my(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Eo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lI(t,e){e=e.checked,e!=null&&Nw(t,"checked",e,!1)}function gy(t,e){lI(t,e);var n=Eo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vy(t,e.type,n):e.hasOwnProperty("defaultValue")&&vy(t,e.type,Eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ST(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vy(t,e,n){(e!=="number"||Xh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Su=Array.isArray;function Hl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Eo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function TT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Su(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Eo(n)}}function cI(t,e){var n=Eo(e.value),r=Eo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _y(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nf,dI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nf=Nf||document.createElement("div"),Nf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jj=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(t){jj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ou[e]=Ou[t]})});function fI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ou.hasOwnProperty(t)&&Ou[t]?(""+e).trim():e+"px"}function hI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Fj=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(t,e){if(e){if(Fj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function Vw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sy=null,$l=null,Wl=null;function CT(t){if(t=Hd(t)){if(typeof Sy!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Im(e),Sy(t.stateNode,t.type,e))}}function pI(t){$l?Wl?Wl.push(t):Wl=[t]:$l=t}function mI(){if($l){var t=$l,e=Wl;if(Wl=$l=null,CT(t),e)for(t=0;t<e.length;t++)CT(e[t])}}function gI(t,e){return t(e)}function vI(){}var qg=!1;function yI(t,e,n){if(qg)return t(e,n);qg=!0;try{return gI(t,e,n)}finally{qg=!1,($l!==null||Wl!==null)&&(vI(),mI())}}function rd(t,e){var n=t.stateNode;if(n===null)return null;var r=Im(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Ty=!1;if(ls)try{var au={};Object.defineProperty(au,"passive",{get:function(){Ty=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Ty=!1}function Uj(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Mu=!1,Jh=null,ep=!1,xy=null,Bj={onError:function(t){Mu=!0,Jh=t}};function zj(t,e,n,r,i,s,o,a,l){Mu=!1,Jh=null,Uj.apply(Bj,arguments)}function Hj(t,e,n,r,i,s,o,a,l){if(zj.apply(this,arguments),Mu){if(Mu){var c=Jh;Mu=!1,Jh=null}else throw Error(ne(198));ep||(ep=!0,xy=c)}}function nl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _I(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function AT(t){if(nl(t)!==t)throw Error(ne(188))}function $j(t){var e=t.alternate;if(!e){if(e=nl(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return AT(i),t;if(s===r)return AT(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function wI(t){return t=$j(t),t!==null?EI(t):null}function EI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EI(t);if(e!==null)return e;t=t.sibling}return null}var bI=Tr.unstable_scheduleCallback,RT=Tr.unstable_cancelCallback,Wj=Tr.unstable_shouldYield,Gj=Tr.unstable_requestPaint,nn=Tr.unstable_now,qj=Tr.unstable_getCurrentPriorityLevel,jw=Tr.unstable_ImmediatePriority,SI=Tr.unstable_UserBlockingPriority,tp=Tr.unstable_NormalPriority,Qj=Tr.unstable_LowPriority,TI=Tr.unstable_IdlePriority,xm=null,wi=null;function Kj(t){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(xm,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:Xj,Yj=Math.log,Zj=Math.LN2;function Xj(t){return t>>>=0,t===0?32:31-(Yj(t)/Zj|0)|0}var Of=64,Mf=4194304;function Tu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function np(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Tu(a):(s&=o,s!==0&&(r=Tu(s)))}else o=n&~i,o!==0?r=Tu(o):s!==0&&(r=Tu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xr(e),i=1<<n,r|=t[n],e&=~i;return r}function Jj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Jj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Cy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xI(){var t=Of;return Of<<=1,!(Of&4194240)&&(Of=64),t}function Qg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=n}function tF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ct=0;function CI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AI,Uw,RI,II,DI,Ay=!1,Lf=[],ro=null,io=null,so=null,id=new Map,sd=new Map,Hs=[],nF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IT(t,e){switch(t){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":id.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sd.delete(e.pointerId)}}function lu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hd(e),e!==null&&Uw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rF(t,e,n,r,i){switch(e){case"focusin":return ro=lu(ro,t,e,n,r,i),!0;case"dragenter":return io=lu(io,t,e,n,r,i),!0;case"mouseover":return so=lu(so,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return id.set(s,lu(id.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sd.set(s,lu(sd.get(s)||null,t,e,n,r,i)),!0}return!1}function kI(t){var e=ma(t.target);if(e!==null){var n=nl(e);if(n!==null){if(e=n.tag,e===13){if(e=_I(n),e!==null){t.blockedOn=e,DI(t.priority,function(){RI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _h(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ry(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);by=r,n.target.dispatchEvent(r),by=null}else return e=Hd(n),e!==null&&Uw(e),t.blockedOn=n,!1;e.shift()}return!0}function DT(t,e,n){_h(t)&&n.delete(e)}function iF(){Ay=!1,ro!==null&&_h(ro)&&(ro=null),io!==null&&_h(io)&&(io=null),so!==null&&_h(so)&&(so=null),id.forEach(DT),sd.forEach(DT)}function cu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ay||(Ay=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,iF)))}function od(t){function e(i){return cu(i,t)}if(0<Lf.length){cu(Lf[0],t);for(var n=1;n<Lf.length;n++){var r=Lf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ro!==null&&cu(ro,t),io!==null&&cu(io,t),so!==null&&cu(so,t),id.forEach(e),sd.forEach(e),n=0;n<Hs.length;n++)r=Hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hs.length&&(n=Hs[0],n.blockedOn===null);)kI(n),n.blockedOn===null&&Hs.shift()}var Gl=Ss.ReactCurrentBatchConfig,rp=!0;function sF(t,e,n,r){var i=Ct,s=Gl.transition;Gl.transition=null;try{Ct=1,Bw(t,e,n,r)}finally{Ct=i,Gl.transition=s}}function oF(t,e,n,r){var i=Ct,s=Gl.transition;Gl.transition=null;try{Ct=4,Bw(t,e,n,r)}finally{Ct=i,Gl.transition=s}}function Bw(t,e,n,r){if(rp){var i=Ry(t,e,n,r);if(i===null)iv(t,e,r,ip,n),IT(t,r);else if(rF(i,t,e,n,r))r.stopPropagation();else if(IT(t,r),e&4&&-1<nF.indexOf(t)){for(;i!==null;){var s=Hd(i);if(s!==null&&AI(s),s=Ry(t,e,n,r),s===null&&iv(t,e,r,ip,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else iv(t,e,r,null,n)}}var ip=null;function Ry(t,e,n,r){if(ip=null,t=Vw(r),t=ma(t),t!==null)if(e=nl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_I(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ip=t,null}function PI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qj()){case jw:return 1;case SI:return 4;case tp:case Qj:return 16;case TI:return 536870912;default:return 16}default:return 16}}var Ys=null,zw=null,wh=null;function NI(){if(wh)return wh;var t,e=zw,n=e.length,r,i="value"in Ys?Ys.value:Ys.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wh=i.slice(t,1<r?1-r:void 0)}function Eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vf(){return!0}function kT(){return!1}function Ar(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vf:kT,this.isPropagationStopped=kT,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),e}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hw=Ar(Nc),zd=qt({},Nc,{view:0,detail:0}),aF=Ar(zd),Kg,Yg,uu,Cm=qt({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$w,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uu&&(uu&&t.type==="mousemove"?(Kg=t.screenX-uu.screenX,Yg=t.screenY-uu.screenY):Yg=Kg=0,uu=t),Kg)},movementY:function(t){return"movementY"in t?t.movementY:Yg}}),PT=Ar(Cm),lF=qt({},Cm,{dataTransfer:0}),cF=Ar(lF),uF=qt({},zd,{relatedTarget:0}),Zg=Ar(uF),dF=qt({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),fF=Ar(dF),hF=qt({},Nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pF=Ar(hF),mF=qt({},Nc,{data:0}),NT=Ar(mF),gF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _F(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yF[t])?!!e[t]:!1}function $w(){return _F}var wF=qt({},zd,{key:function(t){if(t.key){var e=gF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$w,charCode:function(t){return t.type==="keypress"?Eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EF=Ar(wF),bF=qt({},Cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OT=Ar(bF),SF=qt({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$w}),TF=Ar(SF),xF=qt({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),CF=Ar(xF),AF=qt({},Cm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RF=Ar(AF),IF=[9,13,27,32],Ww=ls&&"CompositionEvent"in window,Lu=null;ls&&"documentMode"in document&&(Lu=document.documentMode);var DF=ls&&"TextEvent"in window&&!Lu,OI=ls&&(!Ww||Lu&&8<Lu&&11>=Lu),MT=" ",LT=!1;function MI(t,e){switch(t){case"keyup":return IF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kl=!1;function kF(t,e){switch(t){case"compositionend":return LI(e);case"keypress":return e.which!==32?null:(LT=!0,MT);case"textInput":return t=e.data,t===MT&&LT?null:t;default:return null}}function PF(t,e){if(kl)return t==="compositionend"||!Ww&&MI(t,e)?(t=NI(),wh=zw=Ys=null,kl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OI&&e.locale!=="ko"?null:e.data;default:return null}}var NF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NF[t.type]:e==="textarea"}function VI(t,e,n,r){pI(r),e=sp(e,"onChange"),0<e.length&&(n=new Hw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vu=null,ad=null;function OF(t){QI(t,0)}function Am(t){var e=Ol(t);if(aI(e))return t}function MF(t,e){if(t==="change")return e}var jI=!1;if(ls){var Xg;if(ls){var Jg="oninput"in document;if(!Jg){var jT=document.createElement("div");jT.setAttribute("oninput","return;"),Jg=typeof jT.oninput=="function"}Xg=Jg}else Xg=!1;jI=Xg&&(!document.documentMode||9<document.documentMode)}function FT(){Vu&&(Vu.detachEvent("onpropertychange",FI),ad=Vu=null)}function FI(t){if(t.propertyName==="value"&&Am(ad)){var e=[];VI(e,ad,t,Vw(t)),yI(OF,e)}}function LF(t,e,n){t==="focusin"?(FT(),Vu=e,ad=n,Vu.attachEvent("onpropertychange",FI)):t==="focusout"&&FT()}function VF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Am(ad)}function jF(t,e){if(t==="click")return Am(e)}function FF(t,e){if(t==="input"||t==="change")return Am(e)}function UF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:UF;function ld(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!uy.call(e,i)||!ei(t[i],e[i]))return!1}return!0}function UT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BT(t,e){var n=UT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UT(n)}}function UI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BI(){for(var t=window,e=Xh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xh(t.document)}return e}function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BF(t){var e=BI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UI(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=BT(n,s);var o=BT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zF=ls&&"documentMode"in document&&11>=document.documentMode,Pl=null,Iy=null,ju=null,Dy=!1;function zT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dy||Pl==null||Pl!==Xh(r)||(r=Pl,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ju&&ld(ju,r)||(ju=r,r=sp(Iy,"onSelect"),0<r.length&&(e=new Hw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pl)))}function jf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nl={animationend:jf("Animation","AnimationEnd"),animationiteration:jf("Animation","AnimationIteration"),animationstart:jf("Animation","AnimationStart"),transitionend:jf("Transition","TransitionEnd")},ev={},zI={};ls&&(zI=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Rm(t){if(ev[t])return ev[t];if(!Nl[t])return t;var e=Nl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zI)return ev[t]=e[n];return t}var HI=Rm("animationend"),$I=Rm("animationiteration"),WI=Rm("animationstart"),GI=Rm("transitionend"),qI=new Map,HT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){qI.set(t,e),tl(e,[t])}for(var tv=0;tv<HT.length;tv++){var nv=HT[tv],HF=nv.toLowerCase(),$F=nv[0].toUpperCase()+nv.slice(1);Vo(HF,"on"+$F)}Vo(HI,"onAnimationEnd");Vo($I,"onAnimationIteration");Vo(WI,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(GI,"onTransitionEnd");oc("onMouseEnter",["mouseout","mouseover"]);oc("onMouseLeave",["mouseout","mouseover"]);oc("onPointerEnter",["pointerout","pointerover"]);oc("onPointerLeave",["pointerout","pointerover"]);tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WF=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function $T(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Hj(r,e,void 0,t),t.currentTarget=null}function QI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$T(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$T(i,a,c),s=l}}}if(ep)throw t=xy,ep=!1,xy=null,t}function Lt(t,e){var n=e[My];n===void 0&&(n=e[My]=new Set);var r=t+"__bubble";n.has(r)||(KI(e,t,2,!1),n.add(r))}function rv(t,e,n){var r=0;e&&(r|=4),KI(n,t,r,e)}var Ff="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[Ff]){t[Ff]=!0,nI.forEach(function(n){n!=="selectionchange"&&(WF.has(n)||rv(n,!1,t),rv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ff]||(e[Ff]=!0,rv("selectionchange",!1,e))}}function KI(t,e,n,r){switch(PI(e)){case 1:var i=sF;break;case 4:i=oF;break;default:i=Bw}n=i.bind(null,e,n,t),i=void 0,!Ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function iv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ma(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yI(function(){var c=s,u=Vw(n),f=[];e:{var h=qI.get(t);if(h!==void 0){var p=Hw,w=t;switch(t){case"keypress":if(Eh(n)===0)break e;case"keydown":case"keyup":p=EF;break;case"focusin":w="focus",p=Zg;break;case"focusout":w="blur",p=Zg;break;case"beforeblur":case"afterblur":p=Zg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=TF;break;case HI:case $I:case WI:p=fF;break;case GI:p=CF;break;case"scroll":p=aF;break;case"wheel":p=RF;break;case"copy":case"cut":case"paste":p=pF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OT}var g=(e&4)!==0,E=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,x;v!==null;){x=v;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,b!==null&&(A=rd(v,b),A!=null&&g.push(ud(v,A,x)))),E)break;v=v.return}0<g.length&&(h=new p(h,w,null,n,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==by&&(w=n.relatedTarget||n.fromElement)&&(ma(w)||w[cs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?ma(w):null,w!==null&&(E=nl(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(g=PT,A="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=OT,A="onPointerLeave",b="onPointerEnter",v="pointer"),E=p==null?h:Ol(p),x=w==null?h:Ol(w),h=new g(A,v+"leave",p,n,u),h.target=E,h.relatedTarget=x,A=null,ma(u)===c&&(g=new g(b,v+"enter",w,n,u),g.target=x,g.relatedTarget=E,A=g),E=A,p&&w)t:{for(g=p,b=w,v=0,x=g;x;x=hl(x))v++;for(x=0,A=b;A;A=hl(A))x++;for(;0<v-x;)g=hl(g),v--;for(;0<x-v;)b=hl(b),x--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=hl(g),b=hl(b)}g=null}else g=null;p!==null&&WT(f,h,p,g,!1),w!==null&&E!==null&&WT(f,E,w,g,!0)}}e:{if(h=c?Ol(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=MF;else if(VT(h))if(jI)O=FF;else{O=VF;var V=LF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=jF);if(O&&(O=O(t,c))){VI(f,O,n,u);break e}V&&V(t,h,c),t==="focusout"&&(V=h._wrapperState)&&V.controlled&&h.type==="number"&&vy(h,"number",h.value)}switch(V=c?Ol(c):window,t){case"focusin":(VT(V)||V.contentEditable==="true")&&(Pl=V,Iy=c,ju=null);break;case"focusout":ju=Iy=Pl=null;break;case"mousedown":Dy=!0;break;case"contextmenu":case"mouseup":case"dragend":Dy=!1,zT(f,n,u);break;case"selectionchange":if(zF)break;case"keydown":case"keyup":zT(f,n,u)}var S;if(Ww)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else kl?MI(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(OI&&n.locale!=="ko"&&(kl||C!=="onCompositionStart"?C==="onCompositionEnd"&&kl&&(S=NI()):(Ys=u,zw="value"in Ys?Ys.value:Ys.textContent,kl=!0)),V=sp(c,C),0<V.length&&(C=new NT(C,t,null,n,u),f.push({event:C,listeners:V}),S?C.data=S:(S=LI(n),S!==null&&(C.data=S)))),(S=DF?kF(t,n):PF(t,n))&&(c=sp(c,"onBeforeInput"),0<c.length&&(u=new NT("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=S))}QI(f,e)})}function ud(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rd(t,n),s!=null&&r.unshift(ud(t,s,i)),s=rd(t,e),s!=null&&r.push(ud(t,s,i))),t=t.return}return r}function hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=rd(n,s),l!=null&&o.unshift(ud(n,l,a))):i||(l=rd(n,s),l!=null&&o.push(ud(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var GF=/\r\n?/g,qF=/\u0000|\uFFFD/g;function GT(t){return(typeof t=="string"?t:""+t).replace(GF,`
`).replace(qF,"")}function Uf(t,e,n){if(e=GT(e),GT(t)!==e&&n)throw Error(ne(425))}function op(){}var ky=null,Py=null;function Ny(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,QF=typeof clearTimeout=="function"?clearTimeout:void 0,qT=typeof Promise=="function"?Promise:void 0,KF=typeof queueMicrotask=="function"?queueMicrotask:typeof qT<"u"?function(t){return qT.resolve(null).then(t).catch(YF)}:Oy;function YF(t){setTimeout(function(){throw t})}function sv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),od(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);od(e)}function oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function QT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),mi="__reactFiber$"+Oc,dd="__reactProps$"+Oc,cs="__reactContainer$"+Oc,My="__reactEvents$"+Oc,ZF="__reactListeners$"+Oc,XF="__reactHandles$"+Oc;function ma(t){var e=t[mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cs]||n[mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=QT(t);t!==null;){if(n=t[mi])return n;t=QT(t)}return e}t=n,n=t.parentNode}return null}function Hd(t){return t=t[mi]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Im(t){return t[dd]||null}var Ly=[],Ml=-1;function jo(t){return{current:t}}function Ft(t){0>Ml||(t.current=Ly[Ml],Ly[Ml]=null,Ml--)}function It(t,e){Ml++,Ly[Ml]=t.current,t.current=e}var bo={},Bn=jo(bo),or=jo(!1),Oa=bo;function ac(t,e){var n=t.type.contextTypes;if(!n)return bo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ar(t){return t=t.childContextTypes,t!=null}function ap(){Ft(or),Ft(Bn)}function KT(t,e,n){if(Bn.current!==bo)throw Error(ne(168));It(Bn,e),It(or,n)}function YI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,Lj(t)||"Unknown",i));return qt({},n,r)}function lp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bo,Oa=Bn.current,It(Bn,t),It(or,or.current),!0}function YT(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=YI(t,e,Oa),r.__reactInternalMemoizedMergedChildContext=t,Ft(or),Ft(Bn),It(Bn,t)):Ft(or),It(or,n)}var Ki=null,Dm=!1,ov=!1;function ZI(t){Ki===null?Ki=[t]:Ki.push(t)}function JF(t){Dm=!0,ZI(t)}function Fo(){if(!ov&&Ki!==null){ov=!0;var t=0,e=Ct;try{var n=Ki;for(Ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ki=null,Dm=!1}catch(i){throw Ki!==null&&(Ki=Ki.slice(t+1)),bI(jw,Fo),i}finally{Ct=e,ov=!1}}return null}var Ll=[],Vl=0,cp=null,up=0,Dr=[],kr=0,Ma=null,Zi=1,Xi="";function na(t,e){Ll[Vl++]=up,Ll[Vl++]=cp,cp=t,up=e}function XI(t,e,n){Dr[kr++]=Zi,Dr[kr++]=Xi,Dr[kr++]=Ma,Ma=t;var r=Zi;t=Xi;var i=32-Xr(r)-1;r&=~(1<<i),n+=1;var s=32-Xr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-Xr(e)+i|n<<i|r,Xi=s+t}else Zi=1<<s|n<<i|r,Xi=t}function qw(t){t.return!==null&&(na(t,1),XI(t,1,0))}function Qw(t){for(;t===cp;)cp=Ll[--Vl],Ll[Vl]=null,up=Ll[--Vl],Ll[Vl]=null;for(;t===Ma;)Ma=Dr[--kr],Dr[kr]=null,Xi=Dr[--kr],Dr[kr]=null,Zi=Dr[--kr],Dr[kr]=null}var wr=null,yr=null,zt=!1,Gr=null;function JI(t,e){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ZT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,yr=oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ma!==null?{id:Zi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,yr=null,!0):!1;default:return!1}}function Vy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jy(t){if(zt){var e=yr;if(e){var n=e;if(!ZT(t,e)){if(Vy(t))throw Error(ne(418));e=oo(n.nextSibling);var r=wr;e&&ZT(t,e)?JI(r,n):(t.flags=t.flags&-4097|2,zt=!1,wr=t)}}else{if(Vy(t))throw Error(ne(418));t.flags=t.flags&-4097|2,zt=!1,wr=t}}}function XT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function Bf(t){if(t!==wr)return!1;if(!zt)return XT(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ny(t.type,t.memoizedProps)),e&&(e=yr)){if(Vy(t))throw eD(),Error(ne(418));for(;e;)JI(t,e),e=oo(e.nextSibling)}if(XT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yr=oo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yr=null}}else yr=wr?oo(t.stateNode.nextSibling):null;return!0}function eD(){for(var t=yr;t;)t=oo(t.nextSibling)}function lc(){yr=wr=null,zt=!1}function Kw(t){Gr===null?Gr=[t]:Gr.push(t)}var eU=Ss.ReactCurrentBatchConfig;function du(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function zf(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JT(t){var e=t._init;return e(t._payload)}function tD(t){function e(b,v){if(t){var x=b.deletions;x===null?(b.deletions=[v],b.flags|=16):x.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=uo(b,v),b.index=0,b.sibling=null,b}function s(b,v,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<v?(b.flags|=2,v):x):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,v,x,A){return v===null||v.tag!==6?(v=hv(x,b.mode,A),v.return=b,v):(v=i(v,x),v.return=b,v)}function l(b,v,x,A){var O=x.type;return O===Dl?u(b,v,x.props.children,A,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Us&&JT(O)===v.type)?(A=i(v,x.props),A.ref=du(b,v,x),A.return=b,A):(A=Rh(x.type,x.key,x.props,null,b.mode,A),A.ref=du(b,v,x),A.return=b,A)}function c(b,v,x,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=pv(x,b.mode,A),v.return=b,v):(v=i(v,x.children||[]),v.return=b,v)}function u(b,v,x,A,O){return v===null||v.tag!==7?(v=Aa(x,b.mode,A,O),v.return=b,v):(v=i(v,x),v.return=b,v)}function f(b,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hv(""+v,b.mode,x),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kf:return x=Rh(v.type,v.key,v.props,null,b.mode,x),x.ref=du(b,null,v),x.return=b,x;case Il:return v=pv(v,b.mode,x),v.return=b,v;case Us:var A=v._init;return f(b,A(v._payload),x)}if(Su(v)||ou(v))return v=Aa(v,b.mode,x,null),v.return=b,v;zf(b,v)}return null}function h(b,v,x,A){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(b,v,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kf:return x.key===O?l(b,v,x,A):null;case Il:return x.key===O?c(b,v,x,A):null;case Us:return O=x._init,h(b,v,O(x._payload),A)}if(Su(x)||ou(x))return O!==null?null:u(b,v,x,A,null);zf(b,x)}return null}function p(b,v,x,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(x)||null,a(v,b,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case kf:return b=b.get(A.key===null?x:A.key)||null,l(v,b,A,O);case Il:return b=b.get(A.key===null?x:A.key)||null,c(v,b,A,O);case Us:var V=A._init;return p(b,v,x,V(A._payload),O)}if(Su(A)||ou(A))return b=b.get(x)||null,u(v,b,A,O,null);zf(v,A)}return null}function w(b,v,x,A){for(var O=null,V=null,S=v,C=v=0,R=null;S!==null&&C<x.length;C++){S.index>C?(R=S,S=null):R=S.sibling;var I=h(b,S,x[C],A);if(I===null){S===null&&(S=R);break}t&&S&&I.alternate===null&&e(b,S),v=s(I,v,C),V===null?O=I:V.sibling=I,V=I,S=R}if(C===x.length)return n(b,S),zt&&na(b,C),O;if(S===null){for(;C<x.length;C++)S=f(b,x[C],A),S!==null&&(v=s(S,v,C),V===null?O=S:V.sibling=S,V=S);return zt&&na(b,C),O}for(S=r(b,S);C<x.length;C++)R=p(S,b,C,x[C],A),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?C:R.key),v=s(R,v,C),V===null?O=R:V.sibling=R,V=R);return t&&S.forEach(function(N){return e(b,N)}),zt&&na(b,C),O}function g(b,v,x,A){var O=ou(x);if(typeof O!="function")throw Error(ne(150));if(x=O.call(x),x==null)throw Error(ne(151));for(var V=O=null,S=v,C=v=0,R=null,I=x.next();S!==null&&!I.done;C++,I=x.next()){S.index>C?(R=S,S=null):R=S.sibling;var N=h(b,S,I.value,A);if(N===null){S===null&&(S=R);break}t&&S&&N.alternate===null&&e(b,S),v=s(N,v,C),V===null?O=N:V.sibling=N,V=N,S=R}if(I.done)return n(b,S),zt&&na(b,C),O;if(S===null){for(;!I.done;C++,I=x.next())I=f(b,I.value,A),I!==null&&(v=s(I,v,C),V===null?O=I:V.sibling=I,V=I);return zt&&na(b,C),O}for(S=r(b,S);!I.done;C++,I=x.next())I=p(S,b,C,I.value,A),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),v=s(I,v,C),V===null?O=I:V.sibling=I,V=I);return t&&S.forEach(function(P){return e(b,P)}),zt&&na(b,C),O}function E(b,v,x,A){if(typeof x=="object"&&x!==null&&x.type===Dl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case kf:e:{for(var O=x.key,V=v;V!==null;){if(V.key===O){if(O=x.type,O===Dl){if(V.tag===7){n(b,V.sibling),v=i(V,x.props.children),v.return=b,b=v;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Us&&JT(O)===V.type){n(b,V.sibling),v=i(V,x.props),v.ref=du(b,V,x),v.return=b,b=v;break e}n(b,V);break}else e(b,V);V=V.sibling}x.type===Dl?(v=Aa(x.props.children,b.mode,A,x.key),v.return=b,b=v):(A=Rh(x.type,x.key,x.props,null,b.mode,A),A.ref=du(b,v,x),A.return=b,b=A)}return o(b);case Il:e:{for(V=x.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(b,v.sibling),v=i(v,x.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=pv(x,b.mode,A),v.return=b,b=v}return o(b);case Us:return V=x._init,E(b,v,V(x._payload),A)}if(Su(x))return w(b,v,x,A);if(ou(x))return g(b,v,x,A);zf(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,x),v.return=b,b=v):(n(b,v),v=hv(x,b.mode,A),v.return=b,b=v),o(b)):n(b,v)}return E}var cc=tD(!0),nD=tD(!1),dp=jo(null),fp=null,jl=null,Yw=null;function Zw(){Yw=jl=fp=null}function Xw(t){var e=dp.current;Ft(dp),t._currentValue=e}function Fy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ql(t,e){fp=t,Yw=jl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function Mr(t){var e=t._currentValue;if(Yw!==t)if(t={context:t,memoizedValue:e,next:null},jl===null){if(fp===null)throw Error(ne(308));jl=t,fp.dependencies={lanes:0,firstContext:t}}else jl=jl.next=t;return e}var ga=null;function Jw(t){ga===null?ga=[t]:ga.push(t)}function rD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jw(e)):(n.next=i.next,i.next=n),e.interleaved=n,us(t,r)}function us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bs=!1;function eE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ao(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,us(t,n)}return i=r.interleaved,i===null?(e.next=e,Jw(r)):(e.next=i.next,i.next=e),r.interleaved=e,us(t,n)}function bh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}function e0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hp(t,e,n,r){var i=t.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,g=a;switch(h=e,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=qt({},f,h);break e;case 2:Bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Va|=o,t.lanes=o,t.memoizedState=f}}function t0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var $d={},Ei=jo($d),fd=jo($d),hd=jo($d);function va(t){if(t===$d)throw Error(ne(174));return t}function tE(t,e){switch(It(hd,e),It(fd,t),It(Ei,$d),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_y(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_y(e,t)}Ft(Ei),It(Ei,e)}function uc(){Ft(Ei),Ft(fd),Ft(hd)}function sD(t){va(hd.current);var e=va(Ei.current),n=_y(e,t.type);e!==n&&(It(fd,t),It(Ei,n))}function nE(t){fd.current===t&&(Ft(Ei),Ft(fd))}var $t=jo(0);function pp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var av=[];function rE(){for(var t=0;t<av.length;t++)av[t]._workInProgressVersionPrimary=null;av.length=0}var Sh=Ss.ReactCurrentDispatcher,lv=Ss.ReactCurrentBatchConfig,La=0,Gt=null,pn=null,_n=null,mp=!1,Fu=!1,pd=0,tU=0;function On(){throw Error(ne(321))}function iE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function sE(t,e,n,r,i,s){if(La=s,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sh.current=t===null||t.memoizedState===null?sU:oU,t=n(r,i),Fu){s=0;do{if(Fu=!1,pd=0,25<=s)throw Error(ne(301));s+=1,_n=pn=null,e.updateQueue=null,Sh.current=aU,t=n(r,i)}while(Fu)}if(Sh.current=gp,e=pn!==null&&pn.next!==null,La=0,_n=pn=Gt=null,mp=!1,e)throw Error(ne(300));return t}function oE(){var t=pd!==0;return pd=0,t}function fi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Gt.memoizedState=_n=t:_n=_n.next=t,_n}function Lr(){if(pn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=pn.next;var e=_n===null?Gt.memoizedState:_n.next;if(e!==null)_n=e,pn=t;else{if(t===null)throw Error(ne(310));pn=t,t={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},_n===null?Gt.memoizedState=_n=t:_n=_n.next=t}return _n}function md(t,e){return typeof e=="function"?e(t):e}function cv(t){var e=Lr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=pn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((La&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Gt.lanes|=u,Va|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ei(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Gt.lanes|=s,Va|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uv(t){var e=Lr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ei(s,e.memoizedState)||(ir=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function oD(){}function aD(t,e){var n=Gt,r=Lr(),i=e(),s=!ei(r.memoizedState,i);if(s&&(r.memoizedState=i,ir=!0),r=r.queue,aE(uD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,gd(9,cD.bind(null,n,r,i,e),void 0,null),wn===null)throw Error(ne(349));La&30||lD(n,e,i)}return i}function lD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cD(t,e,n,r){e.value=n,e.getSnapshot=r,dD(e)&&fD(t)}function uD(t,e,n){return n(function(){dD(e)&&fD(t)})}function dD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch{return!0}}function fD(t){var e=us(t,1);e!==null&&Jr(e,t,1,-1)}function n0(t){var e=fi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},e.queue=t,t=t.dispatch=iU.bind(null,Gt,t),[e.memoizedState,t]}function gd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hD(){return Lr().memoizedState}function Th(t,e,n,r){var i=fi();Gt.flags|=t,i.memoizedState=gd(1|e,n,void 0,r===void 0?null:r)}function km(t,e,n,r){var i=Lr();r=r===void 0?null:r;var s=void 0;if(pn!==null){var o=pn.memoizedState;if(s=o.destroy,r!==null&&iE(r,o.deps)){i.memoizedState=gd(e,n,s,r);return}}Gt.flags|=t,i.memoizedState=gd(1|e,n,s,r)}function r0(t,e){return Th(8390656,8,t,e)}function aE(t,e){return km(2048,8,t,e)}function pD(t,e){return km(4,2,t,e)}function mD(t,e){return km(4,4,t,e)}function gD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vD(t,e,n){return n=n!=null?n.concat([t]):null,km(4,4,gD.bind(null,e,t),n)}function lE(){}function yD(t,e){var n=Lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _D(t,e){var n=Lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wD(t,e,n){return La&21?(ei(n,e)||(n=xI(),Gt.lanes|=n,Va|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function nU(t,e){var n=Ct;Ct=n!==0&&4>n?n:4,t(!0);var r=lv.transition;lv.transition={};try{t(!1),e()}finally{Ct=n,lv.transition=r}}function ED(){return Lr().memoizedState}function rU(t,e,n){var r=co(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bD(t))SD(e,n);else if(n=rD(t,e,n,r),n!==null){var i=Kn();Jr(n,t,r,i),TD(n,e,r)}}function iU(t,e,n){var r=co(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bD(t))SD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ei(a,o)){var l=e.interleaved;l===null?(i.next=i,Jw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rD(t,e,i,r),n!==null&&(i=Kn(),Jr(n,t,r,i),TD(n,e,r))}}function bD(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function SD(t,e){Fu=mp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}var gp={readContext:Mr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},sU={readContext:Mr,useCallback:function(t,e){return fi().memoizedState=[t,e===void 0?null:e],t},useContext:Mr,useEffect:r0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Th(4194308,4,gD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Th(4194308,4,t,e)},useInsertionEffect:function(t,e){return Th(4,2,t,e)},useMemo:function(t,e){var n=fi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rU.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=fi();return t={current:t},e.memoizedState=t},useState:n0,useDebugValue:lE,useDeferredValue:function(t){return fi().memoizedState=t},useTransition:function(){var t=n0(!1),e=t[0];return t=nU.bind(null,t[1]),fi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,i=fi();if(zt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),wn===null)throw Error(ne(349));La&30||lD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,r0(uD.bind(null,r,s,t),[t]),r.flags|=2048,gd(9,cD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fi(),e=wn.identifierPrefix;if(zt){var n=Xi,r=Zi;n=(r&~(1<<32-Xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oU={readContext:Mr,useCallback:yD,useContext:Mr,useEffect:aE,useImperativeHandle:vD,useInsertionEffect:pD,useLayoutEffect:mD,useMemo:_D,useReducer:cv,useRef:hD,useState:function(){return cv(md)},useDebugValue:lE,useDeferredValue:function(t){var e=Lr();return wD(e,pn.memoizedState,t)},useTransition:function(){var t=cv(md)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:oD,useSyncExternalStore:aD,useId:ED,unstable_isNewReconciler:!1},aU={readContext:Mr,useCallback:yD,useContext:Mr,useEffect:aE,useImperativeHandle:vD,useInsertionEffect:pD,useLayoutEffect:mD,useMemo:_D,useReducer:uv,useRef:hD,useState:function(){return uv(md)},useDebugValue:lE,useDeferredValue:function(t){var e=Lr();return pn===null?e.memoizedState=t:wD(e,pn.memoizedState,t)},useTransition:function(){var t=uv(md)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:oD,useSyncExternalStore:aD,useId:ED,unstable_isNewReconciler:!1};function Hr(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pm={isMounted:function(t){return(t=t._reactInternals)?nl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=co(t),s=rs(r,i);s.payload=e,n!=null&&(s.callback=n),e=ao(t,s,i),e!==null&&(Jr(e,t,i,r),bh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=co(t),s=rs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ao(t,s,i),e!==null&&(Jr(e,t,i,r),bh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kn(),r=co(t),i=rs(n,r);i.tag=2,e!=null&&(i.callback=e),e=ao(t,i,r),e!==null&&(Jr(e,t,r,n),bh(e,t,r))}};function i0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ld(n,r)||!ld(i,s):!0}function xD(t,e,n){var r=!1,i=bo,s=e.contextType;return typeof s=="object"&&s!==null?s=Mr(s):(i=ar(e)?Oa:Bn.current,r=e.contextTypes,s=(r=r!=null)?ac(t,i):bo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function s0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pm.enqueueReplaceState(e,e.state,null)}function By(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},eE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mr(s):(s=ar(e)?Oa:Bn.current,i.context=ac(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pm.enqueueReplaceState(i,i.state,null),hp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dc(t,e){try{var n="",r=e;do n+=Mj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function dv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lU=typeof WeakMap=="function"?WeakMap:Map;function CD(t,e,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yp||(yp=!0,Xy=r),zy(t,e)},n}function AD(t,e,n){n=rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zy(t,e),typeof r!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function o0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bU.bind(null,t,e,n),e.then(t,t))}function a0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rs(-1,1),e.tag=2,ao(n,e,1))),n.lanes|=1),t)}var cU=Ss.ReactCurrentOwner,ir=!1;function Gn(t,e,n,r){e.child=t===null?nD(e,null,n,r):cc(e,t.child,n,r)}function c0(t,e,n,r,i){n=n.render;var s=e.ref;return ql(e,i),r=sE(t,e,n,r,s,i),n=oE(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(zt&&n&&qw(e),e.flags|=1,Gn(t,e,r,i),e.child)}function u0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,RD(t,e,s,r,i)):(t=Rh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ld,n(o,r)&&t.ref===e.ref)return ds(t,e,i)}return e.flags|=1,t=uo(s,r),t.ref=e.ref,t.return=e,e.child=t}function RD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ld(s,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,ds(t,e,i)}return Hy(t,e,n,r,i)}function ID(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Ul,hr),hr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(Ul,hr),hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,It(Ul,hr),hr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,It(Ul,hr),hr|=r;return Gn(t,e,i,n),e.child}function DD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hy(t,e,n,r,i){var s=ar(n)?Oa:Bn.current;return s=ac(e,s),ql(e,i),n=sE(t,e,n,r,s,i),r=oE(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(zt&&r&&qw(e),e.flags|=1,Gn(t,e,n,i),e.child)}function d0(t,e,n,r,i){if(ar(n)){var s=!0;lp(e)}else s=!1;if(ql(e,i),e.stateNode===null)xh(t,e),xD(e,n,r),By(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mr(c):(c=ar(n)?Oa:Bn.current,c=ac(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&s0(e,o,r,c),Bs=!1;var h=e.memoizedState;o.state=h,hp(e,r,o,i),l=e.memoizedState,a!==r||h!==l||or.current||Bs?(typeof u=="function"&&(Uy(e,n,u,r),l=e.memoizedState),(a=Bs||i0(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hr(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mr(l):(l=ar(n)?Oa:Bn.current,l=ac(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&s0(e,o,r,l),Bs=!1,h=e.memoizedState,o.state=h,hp(e,r,o,i);var w=e.memoizedState;a!==f||h!==w||or.current||Bs?(typeof p=="function"&&(Uy(e,n,p,r),w=e.memoizedState),(c=Bs||i0(e,n,c,r,h,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return $y(t,e,n,r,s,i)}function $y(t,e,n,r,i,s){DD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&YT(e,n,!1),ds(t,e,s);r=e.stateNode,cU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cc(e,t.child,null,s),e.child=cc(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&YT(e,n,!0),e.child}function kD(t){var e=t.stateNode;e.pendingContext?KT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KT(t,e.context,!1),tE(t,e.containerInfo)}function f0(t,e,n,r,i){return lc(),Kw(i),e.flags|=256,Gn(t,e,n,r),e.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function Gy(t){return{baseLanes:t,cachePool:null,transitions:null}}function PD(t,e,n){var r=e.pendingProps,i=$t.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),It($t,i&1),t===null)return jy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mm(o,r,0,null),t=Aa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gy(n),e.memoizedState=Wy,t):cE(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uU(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=uo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=uo(a,s):(s=Aa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wy,r}return s=t.child,t=s.sibling,r=uo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cE(t,e){return e=Mm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hf(t,e,n,r){return r!==null&&Kw(r),cc(e,t.child,null,n),t=cE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uU(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=dv(Error(ne(422))),Hf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mm({mode:"visible",children:r.children},i,0,null),s=Aa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cc(e,t.child,null,o),e.child.memoizedState=Gy(o),e.memoizedState=Wy,s);if(!(e.mode&1))return Hf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=dv(s,r,void 0),Hf(t,e,o,r)}if(a=(o&t.childLanes)!==0,ir||a){if(r=wn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,us(t,i),Jr(r,t,i,-1))}return mE(),r=dv(Error(ne(421))),Hf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yr=oo(i.nextSibling),wr=e,zt=!0,Gr=null,t!==null&&(Dr[kr++]=Zi,Dr[kr++]=Xi,Dr[kr++]=Ma,Zi=t.id,Xi=t.overflow,Ma=e),e=cE(e,r.children),e.flags|=4096,e)}function h0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fy(t.return,e,n)}function fv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ND(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,n,e);else if(t.tag===19)h0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It($t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fv(e,!0,n,null,s);break;case"together":fv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ds(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Va|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=uo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=uo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dU(t,e,n){switch(e.tag){case 3:kD(e),lc();break;case 5:sD(e);break;case 1:ar(e.type)&&lp(e);break;case 4:tE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;It(dp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?PD(t,e,n):(It($t,$t.current&1),t=ds(t,e,n),t!==null?t.sibling:null);It($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ND(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,ID(t,e,n)}return ds(t,e,n)}var OD,qy,MD,LD;OD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qy=function(){};MD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,va(Ei.current);var s=null;switch(n){case"input":i=my(t,i),r=my(t,r),s=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),s=[];break;case"textarea":i=yy(t,i),r=yy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=op)}wy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(td.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(td.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};LD=function(t,e,n,r){n!==r&&(e.flags|=4)};function fu(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fU(t,e,n){var r=e.pendingProps;switch(Qw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return ar(e.type)&&ap(),Mn(e),null;case 3:return r=e.stateNode,uc(),Ft(or),Ft(Bn),rE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(t_(Gr),Gr=null))),qy(t,e),Mn(e),null;case 5:nE(e);var i=va(hd.current);if(n=e.type,t!==null&&e.stateNode!=null)MD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return Mn(e),null}if(t=va(Ei.current),Bf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mi]=e,r[dd]=s,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<xu.length;i++)Lt(xu[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":bT(r,s),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lt("invalid",r);break;case"textarea":TT(r,s),Lt("invalid",r)}wy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Uf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Uf(r.textContent,a,t),i=["children",""+a]):td.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Pf(r),ST(r,s,!0);break;case"textarea":Pf(r),xT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=op)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mi]=e,t[dd]=r,OD(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ey(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),i=r;break;case"iframe":case"object":case"embed":Lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<xu.length;i++)Lt(xu[i],t);i=r;break;case"source":Lt("error",t),i=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=r;break;case"details":Lt("toggle",t),i=r;break;case"input":bT(t,r),i=my(t,r),Lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":TT(t,r),i=yy(t,r),Lt("invalid",t);break;default:i=r}wy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nd(t,l):typeof l=="number"&&nd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(td.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Lt("scroll",t):l!=null&&Nw(t,s,l,o))}switch(n){case"input":Pf(t),ST(t,r,!1);break;case"textarea":Pf(t),xT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Eo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Hl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=op)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(t&&e.stateNode!=null)LD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=va(hd.current),va(Ei.current),Bf(e)){if(r=e.stateNode,n=e.memoizedProps,r[mi]=e,(s=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:Uf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mi]=e,e.stateNode=r}return Mn(e),null;case 13:if(Ft($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&yr!==null&&e.mode&1&&!(e.flags&128))eD(),lc(),e.flags|=98560,s=!1;else if(s=Bf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[mi]=e}else lc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),s=!1}else Gr!==null&&(t_(Gr),Gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?gn===0&&(gn=3):mE())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return uc(),qy(t,e),t===null&&cd(e.stateNode.containerInfo),Mn(e),null;case 10:return Xw(e.type._context),Mn(e),null;case 17:return ar(e.type)&&ap(),Mn(e),null;case 19:if(Ft($t),s=e.memoizedState,s===null)return Mn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fu(s,!1);else{if(gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pp(t),o!==null){for(e.flags|=128,fu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It($t,$t.current&1|2),e.child}t=t.sibling}s.tail!==null&&nn()>fc&&(e.flags|=128,r=!0,fu(s,!1),e.lanes=4194304)}else{if(!r)if(t=pp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zt)return Mn(e),null}else 2*nn()-s.renderingStartTime>fc&&n!==1073741824&&(e.flags|=128,r=!0,fu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nn(),e.sibling=null,n=$t.current,It($t,r?n&1|2:n&1),e):(Mn(e),null);case 22:case 23:return pE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hr&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function hU(t,e){switch(Qw(e),e.tag){case 1:return ar(e.type)&&ap(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uc(),Ft(or),Ft(Bn),rE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nE(e),null;case 13:if(Ft($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));lc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft($t),null;case 4:return uc(),null;case 10:return Xw(e.type._context),null;case 22:case 23:return pE(),null;case 24:return null;default:return null}}var $f=!1,jn=!1,pU=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Fl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(t,e,r)}else n.current=null}function Qy(t,e,n){try{n()}catch(r){Yt(t,e,r)}}var p0=!1;function mU(t,e){if(ky=rp,t=BI(),Gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Py={focusedElem:t,selectionRange:n},rp=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,E=w.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Hr(e.type,g),E);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(A){Yt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return w=p0,p0=!1,w}function Uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qy(e,n,s)}i=i.next}while(i!==r)}}function Nm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ky(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VD(t){var e=t.alternate;e!==null&&(t.alternate=null,VD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mi],delete e[dd],delete e[My],delete e[ZF],delete e[XF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jD(t){return t.tag===5||t.tag===3||t.tag===4}function m0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=op));else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}function Zy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zy(t,e,n),t=t.sibling;t!==null;)Zy(t,e,n),t=t.sibling}var Tn=null,$r=!1;function Os(t,e,n){for(n=n.child;n!==null;)FD(t,e,n),n=n.sibling}function FD(t,e,n){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(xm,n)}catch{}switch(n.tag){case 5:jn||Fl(n,e);case 6:var r=Tn,i=$r;Tn=null,Os(t,e,n),Tn=r,$r=i,Tn!==null&&($r?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&($r?(t=Tn,n=n.stateNode,t.nodeType===8?sv(t.parentNode,n):t.nodeType===1&&sv(t,n),od(t)):sv(Tn,n.stateNode));break;case 4:r=Tn,i=$r,Tn=n.stateNode.containerInfo,$r=!0,Os(t,e,n),Tn=r,$r=i;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qy(n,e,o),i=i.next}while(i!==r)}Os(t,e,n);break;case 1:if(!jn&&(Fl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Yt(n,e,a)}Os(t,e,n);break;case 21:Os(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,Os(t,e,n),jn=r):Os(t,e,n);break;default:Os(t,e,n)}}function g0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pU),e.forEach(function(r){var i=TU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tn=a.stateNode,$r=!1;break e;case 3:Tn=a.stateNode.containerInfo,$r=!0;break e;case 4:Tn=a.stateNode.containerInfo,$r=!0;break e}a=a.return}if(Tn===null)throw Error(ne(160));FD(s,o,i),Tn=null,$r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UD(e,t),e=e.sibling}function UD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(e,t),ui(t),r&4){try{Uu(3,t,t.return),Nm(3,t)}catch(g){Yt(t,t.return,g)}try{Uu(5,t,t.return)}catch(g){Yt(t,t.return,g)}}break;case 1:Br(e,t),ui(t),r&512&&n!==null&&Fl(n,n.return);break;case 5:if(Br(e,t),ui(t),r&512&&n!==null&&Fl(n,n.return),t.flags&32){var i=t.stateNode;try{nd(i,"")}catch(g){Yt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lI(i,s),Ey(a,o);var c=Ey(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?hI(i,f):u==="dangerouslySetInnerHTML"?dI(i,f):u==="children"?nd(i,f):Nw(i,u,f,c)}switch(a){case"input":gy(i,s);break;case"textarea":cI(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Hl(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Hl(i,!!s.multiple,s.defaultValue,!0):Hl(i,!!s.multiple,s.multiple?[]:"",!1))}i[dd]=s}catch(g){Yt(t,t.return,g)}}break;case 6:if(Br(e,t),ui(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Yt(t,t.return,g)}}break;case 3:if(Br(e,t),ui(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{od(e.containerInfo)}catch(g){Yt(t,t.return,g)}break;case 4:Br(e,t),ui(t);break;case 13:Br(e,t),ui(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fE=nn())),r&4&&g0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(c=jn)||u,Br(e,t),jn=c):Br(e,t),ui(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ee=t,u=t.child;u!==null;){for(f=Ee=u;Ee!==null;){switch(h=Ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:Uu(4,h,h.return);break;case 1:Fl(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){Yt(r,n,g)}}break;case 5:Fl(h,h.return);break;case 22:if(h.memoizedState!==null){y0(f);continue}}p!==null?(p.return=h,Ee=p):y0(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fI("display",o))}catch(g){Yt(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Yt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Br(e,t),ui(t),r&4&&g0(t);break;case 21:break;default:Br(e,t),ui(t)}}function ui(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jD(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nd(i,""),r.flags&=-33);var s=m0(t);Zy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=m0(t);Yy(t,a,o);break;default:throw Error(ne(161))}}catch(l){Yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gU(t,e,n){Ee=t,BD(t)}function BD(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$f;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jn;a=$f;var c=jn;if($f=o,(jn=l)&&!c)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?_0(i):l!==null?(l.return=o,Ee=l):_0(i);for(;s!==null;)Ee=s,BD(s),s=s.sibling;Ee=i,$f=a,jn=c}v0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):v0(t)}}function v0(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||Nm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&t0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&od(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}jn||e.flags&512&&Ky(e)}catch(h){Yt(e,e.return,h)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function y0(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function _0(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nm(4,e)}catch(l){Yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yt(e,i,l)}}var s=e.return;try{Ky(e)}catch(l){Yt(e,s,l)}break;case 5:var o=e.return;try{Ky(e)}catch(l){Yt(e,o,l)}}}catch(l){Yt(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var vU=Math.ceil,vp=Ss.ReactCurrentDispatcher,uE=Ss.ReactCurrentOwner,Or=Ss.ReactCurrentBatchConfig,gt=0,wn=null,dn=null,An=0,hr=0,Ul=jo(0),gn=0,vd=null,Va=0,Om=0,dE=0,Bu=null,nr=null,fE=0,fc=1/0,Qi=null,yp=!1,Xy=null,lo=null,Wf=!1,Zs=null,_p=0,zu=0,Jy=null,Ch=-1,Ah=0;function Kn(){return gt&6?nn():Ch!==-1?Ch:Ch=nn()}function co(t){return t.mode&1?gt&2&&An!==0?An&-An:eU.transition!==null?(Ah===0&&(Ah=xI()),Ah):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:PI(t.type)),t):1}function Jr(t,e,n,r){if(50<zu)throw zu=0,Jy=null,Error(ne(185));Bd(t,n,r),(!(gt&2)||t!==wn)&&(t===wn&&(!(gt&2)&&(Om|=n),gn===4&&$s(t,An)),lr(t,r),n===1&&gt===0&&!(e.mode&1)&&(fc=nn()+500,Dm&&Fo()))}function lr(t,e){var n=t.callbackNode;eF(t,e);var r=np(t,t===wn?An:0);if(r===0)n!==null&&RT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&RT(n),e===1)t.tag===0?JF(w0.bind(null,t)):ZI(w0.bind(null,t)),KF(function(){!(gt&6)&&Fo()}),n=null;else{switch(CI(r)){case 1:n=jw;break;case 4:n=SI;break;case 16:n=tp;break;case 536870912:n=TI;break;default:n=tp}n=KD(n,zD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zD(t,e){if(Ch=-1,Ah=0,gt&6)throw Error(ne(327));var n=t.callbackNode;if(Ql()&&t.callbackNode!==n)return null;var r=np(t,t===wn?An:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wp(t,r);else{e=r;var i=gt;gt|=2;var s=$D();(wn!==t||An!==e)&&(Qi=null,fc=nn()+500,Ca(t,e));do try{wU();break}catch(a){HD(t,a)}while(!0);Zw(),vp.current=s,gt=i,dn!==null?e=0:(wn=null,An=0,e=gn)}if(e!==0){if(e===2&&(i=Cy(t),i!==0&&(r=i,e=e_(t,i))),e===1)throw n=vd,Ca(t,0),$s(t,r),lr(t,nn()),n;if(e===6)$s(t,r);else{if(i=t.current.alternate,!(r&30)&&!yU(i)&&(e=wp(t,r),e===2&&(s=Cy(t),s!==0&&(r=s,e=e_(t,s))),e===1))throw n=vd,Ca(t,0),$s(t,r),lr(t,nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:ra(t,nr,Qi);break;case 3:if($s(t,r),(r&130023424)===r&&(e=fE+500-nn(),10<e)){if(np(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Oy(ra.bind(null,t,nr,Qi),e);break}ra(t,nr,Qi);break;case 4:if($s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vU(r/1960))-r,10<r){t.timeoutHandle=Oy(ra.bind(null,t,nr,Qi),r);break}ra(t,nr,Qi);break;case 5:ra(t,nr,Qi);break;default:throw Error(ne(329))}}}return lr(t,nn()),t.callbackNode===n?zD.bind(null,t):null}function e_(t,e){var n=Bu;return t.current.memoizedState.isDehydrated&&(Ca(t,e).flags|=256),t=wp(t,e),t!==2&&(e=nr,nr=n,e!==null&&t_(e)),t}function t_(t){nr===null?nr=t:nr.push.apply(nr,t)}function yU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ei(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $s(t,e){for(e&=~dE,e&=~Om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xr(e),r=1<<n;t[n]=-1,e&=~r}}function w0(t){if(gt&6)throw Error(ne(327));Ql();var e=np(t,0);if(!(e&1))return lr(t,nn()),null;var n=wp(t,e);if(t.tag!==0&&n===2){var r=Cy(t);r!==0&&(e=r,n=e_(t,r))}if(n===1)throw n=vd,Ca(t,0),$s(t,e),lr(t,nn()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ra(t,nr,Qi),lr(t,nn()),null}function hE(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(fc=nn()+500,Dm&&Fo())}}function ja(t){Zs!==null&&Zs.tag===0&&!(gt&6)&&Ql();var e=gt;gt|=1;var n=Or.transition,r=Ct;try{if(Or.transition=null,Ct=1,t)return t()}finally{Ct=r,Or.transition=n,gt=e,!(gt&6)&&Fo()}}function pE(){hr=Ul.current,Ft(Ul)}function Ca(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QF(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(Qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ap();break;case 3:uc(),Ft(or),Ft(Bn),rE();break;case 5:nE(r);break;case 4:uc();break;case 13:Ft($t);break;case 19:Ft($t);break;case 10:Xw(r.type._context);break;case 22:case 23:pE()}n=n.return}if(wn=t,dn=t=uo(t.current,null),An=hr=e,gn=0,vd=null,dE=Om=Va=0,nr=Bu=null,ga!==null){for(e=0;e<ga.length;e++)if(n=ga[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ga=null}return t}function HD(t,e){do{var n=dn;try{if(Zw(),Sh.current=gp,mp){for(var r=Gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mp=!1}if(La=0,_n=pn=Gt=null,Fu=!1,pd=0,uE.current=null,n===null||n.return===null){gn=1,vd=e,dn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=An,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=a0(o);if(p!==null){p.flags&=-257,l0(p,o,a,s,e),p.mode&1&&o0(s,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){o0(s,c,e),mE();break e}l=Error(ne(426))}}else if(zt&&a.mode&1){var E=a0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),l0(E,o,a,s,e),Kw(dc(l,a));break e}}s=l=dc(l,a),gn!==4&&(gn=2),Bu===null?Bu=[s]:Bu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=CD(s,l,e);e0(s,b);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(lo===null||!lo.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=AD(s,a,e);e0(s,A);break e}}s=s.return}while(s!==null)}GD(n)}catch(O){e=O,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function $D(){var t=vp.current;return vp.current=gp,t===null?gp:t}function mE(){(gn===0||gn===3||gn===2)&&(gn=4),wn===null||!(Va&268435455)&&!(Om&268435455)||$s(wn,An)}function wp(t,e){var n=gt;gt|=2;var r=$D();(wn!==t||An!==e)&&(Qi=null,Ca(t,e));do try{_U();break}catch(i){HD(t,i)}while(!0);if(Zw(),gt=n,vp.current=r,dn!==null)throw Error(ne(261));return wn=null,An=0,gn}function _U(){for(;dn!==null;)WD(dn)}function wU(){for(;dn!==null&&!Wj();)WD(dn)}function WD(t){var e=QD(t.alternate,t,hr);t.memoizedProps=t.pendingProps,e===null?GD(t):dn=e,uE.current=null}function GD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hU(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gn=6,dn=null;return}}else if(n=fU(n,e,hr),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);gn===0&&(gn=5)}function ra(t,e,n){var r=Ct,i=Or.transition;try{Or.transition=null,Ct=1,EU(t,e,n,r)}finally{Or.transition=i,Ct=r}return null}function EU(t,e,n,r){do Ql();while(Zs!==null);if(gt&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tF(t,s),t===wn&&(dn=wn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wf||(Wf=!0,KD(tp,function(){return Ql(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Or.transition,Or.transition=null;var o=Ct;Ct=1;var a=gt;gt|=4,uE.current=null,mU(t,n),UD(n,t),BF(Py),rp=!!ky,Py=ky=null,t.current=n,gU(n),Gj(),gt=a,Ct=o,Or.transition=s}else t.current=n;if(Wf&&(Wf=!1,Zs=t,_p=i),s=t.pendingLanes,s===0&&(lo=null),Kj(n.stateNode),lr(t,nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yp)throw yp=!1,t=Xy,Xy=null,t;return _p&1&&t.tag!==0&&Ql(),s=t.pendingLanes,s&1?t===Jy?zu++:(zu=0,Jy=t):zu=0,Fo(),null}function Ql(){if(Zs!==null){var t=CI(_p),e=Or.transition,n=Ct;try{if(Or.transition=null,Ct=16>t?16:t,Zs===null)var r=!1;else{if(t=Zs,Zs=null,_p=0,gt&6)throw Error(ne(331));var i=gt;for(gt|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ee=c;Ee!==null;){var u=Ee;switch(u.tag){case 0:case 11:case 15:Uu(8,u,s)}var f=u.child;if(f!==null)f.return=u,Ee=f;else for(;Ee!==null;){u=Ee;var h=u.sibling,p=u.return;if(VD(u),u===c){Ee=null;break}if(h!==null){h.return=p,Ee=h;break}Ee=p}}}var w=s.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uu(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ee=b;break e}Ee=s.return}}var v=t.current;for(Ee=v;Ee!==null;){o=Ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ee=x;else e:for(o=v;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nm(9,a)}}catch(O){Yt(a,a.return,O)}if(a===o){Ee=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Ee=A;break e}Ee=a.return}}if(gt=i,Fo(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(xm,t)}catch{}r=!0}return r}finally{Ct=n,Or.transition=e}}return!1}function E0(t,e,n){e=dc(n,e),e=CD(t,e,1),t=ao(t,e,1),e=Kn(),t!==null&&(Bd(t,1,e),lr(t,e))}function Yt(t,e,n){if(t.tag===3)E0(t,t,n);else for(;e!==null;){if(e.tag===3){E0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lo===null||!lo.has(r))){t=dc(n,t),t=AD(e,t,1),e=ao(e,t,1),t=Kn(),e!==null&&(Bd(e,1,t),lr(e,t));break}}e=e.return}}function bU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kn(),t.pingedLanes|=t.suspendedLanes&n,wn===t&&(An&n)===n&&(gn===4||gn===3&&(An&130023424)===An&&500>nn()-fE?Ca(t,0):dE|=n),lr(t,e)}function qD(t,e){e===0&&(t.mode&1?(e=Mf,Mf<<=1,!(Mf&130023424)&&(Mf=4194304)):e=1);var n=Kn();t=us(t,e),t!==null&&(Bd(t,e,n),lr(t,n))}function SU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qD(t,n)}function TU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),qD(t,n)}var QD;QD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,dU(t,e,n);ir=!!(t.flags&131072)}else ir=!1,zt&&e.flags&1048576&&XI(e,up,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xh(t,e),t=e.pendingProps;var i=ac(e,Bn.current);ql(e,n),i=sE(null,e,r,t,i,n);var s=oE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(r)?(s=!0,lp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eE(e),i.updater=Pm,e.stateNode=i,i._reactInternals=e,By(e,r,t,n),e=$y(null,e,r,!0,s,n)):(e.tag=0,zt&&s&&qw(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CU(r),t=Hr(r,t),i){case 0:e=Hy(null,e,r,t,n);break e;case 1:e=d0(null,e,r,t,n);break e;case 11:e=c0(null,e,r,t,n);break e;case 14:e=u0(null,e,r,Hr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),Hy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),d0(t,e,r,i,n);case 3:e:{if(kD(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,iD(t,e),hp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dc(Error(ne(423)),e),e=f0(t,e,r,n,i);break e}else if(r!==i){i=dc(Error(ne(424)),e),e=f0(t,e,r,n,i);break e}else for(yr=oo(e.stateNode.containerInfo.firstChild),wr=e,zt=!0,Gr=null,n=nD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lc(),r===i){e=ds(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return sD(e),t===null&&jy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ny(r,i)?o=null:s!==null&&Ny(r,s)&&(e.flags|=32),DD(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&jy(e),null;case 13:return PD(t,e,n);case 4:return tE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cc(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),c0(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,It(dp,r._currentValue),r._currentValue=o,s!==null)if(ei(s.value,o)){if(s.children===i.children&&!or.current){e=ds(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=rs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ql(e,n),i=Mr(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=Hr(r,e.pendingProps),i=Hr(r.type,i),u0(t,e,r,i,n);case 15:return RD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),xh(t,e),e.tag=1,ar(r)?(t=!0,lp(e)):t=!1,ql(e,n),xD(e,r,i),By(e,r,i,n),$y(null,e,r,!0,t,n);case 19:return ND(t,e,n);case 22:return ID(t,e,n)}throw Error(ne(156,e.tag))};function KD(t,e){return bI(t,e)}function xU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t,e,n,r){return new xU(t,e,n,r)}function gE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CU(t){if(typeof t=="function")return gE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mw)return 11;if(t===Lw)return 14}return 2}function uo(t,e){var n=t.alternate;return n===null?(n=Nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dl:return Aa(n.children,i,s,e);case Ow:o=8,i|=8;break;case dy:return t=Nr(12,n,e,i|2),t.elementType=dy,t.lanes=s,t;case fy:return t=Nr(13,n,e,i),t.elementType=fy,t.lanes=s,t;case hy:return t=Nr(19,n,e,i),t.elementType=hy,t.lanes=s,t;case sI:return Mm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rI:o=10;break e;case iI:o=9;break e;case Mw:o=11;break e;case Lw:o=14;break e;case Us:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Nr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Aa(t,e,n,r){return t=Nr(7,t,r,e),t.lanes=n,t}function Mm(t,e,n,r){return t=Nr(22,t,r,e),t.elementType=sI,t.lanes=n,t.stateNode={isHidden:!1},t}function hv(t,e,n){return t=Nr(6,t,null,e),t.lanes=n,t}function pv(t,e,n){return e=Nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qg(0),this.expirationTimes=Qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vE(t,e,n,r,i,s,o,a,l){return t=new AU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eE(s),t}function RU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YD(t){if(!t)return bo;t=t._reactInternals;e:{if(nl(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(ar(n))return YI(t,n,e)}return e}function ZD(t,e,n,r,i,s,o,a,l){return t=vE(n,r,!0,t,i,s,o,a,l),t.context=YD(null),n=t.current,r=Kn(),i=co(n),s=rs(r,i),s.callback=e??null,ao(n,s,i),t.current.lanes=i,Bd(t,i,r),lr(t,r),t}function Lm(t,e,n,r){var i=e.current,s=Kn(),o=co(i);return n=YD(n),e.context===null?e.context=n:e.pendingContext=n,e=rs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ao(i,e,o),t!==null&&(Jr(t,i,o,s),bh(t,i,o)),o}function Ep(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yE(t,e){b0(t,e),(t=t.alternate)&&b0(t,e)}function IU(){return null}var XD=typeof reportError=="function"?reportError:function(t){console.error(t)};function _E(t){this._internalRoot=t}Vm.prototype.render=_E.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Lm(t,e,null,null)};Vm.prototype.unmount=_E.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ja(function(){Lm(null,t,null,null)}),e[cs]=null}};function Vm(t){this._internalRoot=t}Vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=II();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hs.length&&e!==0&&e<Hs[n].priority;n++);Hs.splice(n,0,t),n===0&&kI(t)}};function wE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S0(){}function DU(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ep(o);s.call(c)}}var o=ZD(e,r,t,0,null,!1,!1,"",S0);return t._reactRootContainer=o,t[cs]=o.current,cd(t.nodeType===8?t.parentNode:t),ja(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ep(l);a.call(c)}}var l=vE(t,0,!1,null,null,!1,!1,"",S0);return t._reactRootContainer=l,t[cs]=l.current,cd(t.nodeType===8?t.parentNode:t),ja(function(){Lm(e,l,n,r)}),l}function Fm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ep(o);a.call(l)}}Lm(e,o,t,i)}else o=DU(n,e,t,i,r);return Ep(o)}AI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tu(e.pendingLanes);n!==0&&(Fw(e,n|1),lr(e,nn()),!(gt&6)&&(fc=nn()+500,Fo()))}break;case 13:ja(function(){var r=us(t,1);if(r!==null){var i=Kn();Jr(r,t,1,i)}}),yE(t,1)}};Uw=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var n=Kn();Jr(e,t,134217728,n)}yE(t,134217728)}};RI=function(t){if(t.tag===13){var e=co(t),n=us(t,e);if(n!==null){var r=Kn();Jr(n,t,e,r)}yE(t,e)}};II=function(){return Ct};DI=function(t,e){var n=Ct;try{return Ct=t,e()}finally{Ct=n}};Sy=function(t,e,n){switch(e){case"input":if(gy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Im(r);if(!i)throw Error(ne(90));aI(r),gy(r,i)}}}break;case"textarea":cI(t,n);break;case"select":e=n.value,e!=null&&Hl(t,!!n.multiple,e,!1)}};gI=hE;vI=ja;var kU={usingClientEntryPoint:!1,Events:[Hd,Ol,Im,pI,mI,hE]},hu={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PU={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wI(t),t===null?null:t.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||IU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{xm=Gf.inject(PU),wi=Gf}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kU;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wE(e))throw Error(ne(200));return RU(t,e,null,n)};Cr.createRoot=function(t,e){if(!wE(t))throw Error(ne(299));var n=!1,r="",i=XD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vE(t,1,!1,null,null,n,!1,r,i),t[cs]=e.current,cd(t.nodeType===8?t.parentNode:t),new _E(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=wI(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return ja(t)};Cr.hydrate=function(t,e,n){if(!jm(e))throw Error(ne(200));return Fm(null,t,e,!0,n)};Cr.hydrateRoot=function(t,e,n){if(!wE(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZD(e,null,t,1,n??null,i,!1,s,o),t[cs]=e.current,cd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vm(e)};Cr.render=function(t,e,n){if(!jm(e))throw Error(ne(200));return Fm(null,t,e,!1,n)};Cr.unmountComponentAtNode=function(t){if(!jm(t))throw Error(ne(40));return t._reactRootContainer?(ja(function(){Fm(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};Cr.unstable_batchedUpdates=hE;Cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jm(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Fm(t,e,n,!1,r)};Cr.version="18.3.1-next-f1338f8080-20240426";function JD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JD)}catch(t){console.error(t)}}JD(),JR.exports=Cr;var ti=JR.exports;const ek=BR(ti),NU=UR({__proto__:null,default:ek},[ti]);var tk,T0=ti;tk=T0.createRoot,T0.hydrateRoot;const OU={theme:"system",setTheme:()=>null},MU=_.createContext(OU);function LU({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,s]=_.useState(()=>localStorage.getItem(n)||e);_.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return y.jsx(MU.Provider,{...r,value:o,children:t})}const VU=1,jU=1e6;let mv=0;function FU(){return mv=(mv+1)%Number.MAX_SAFE_INTEGER,mv.toString()}const gv=new Map,x0=t=>{if(gv.has(t))return;const e=setTimeout(()=>{gv.delete(t),Hu({type:"REMOVE_TOAST",toastId:t})},jU);gv.set(t,e)},UU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,VU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?x0(n):t.toasts.forEach(r=>{x0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ih=[];let Dh={toasts:[]};function Hu(t){Dh=UU(Dh,t),Ih.forEach(e=>{e(Dh)})}function El({...t}){const e=FU(),n=i=>Hu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Hu({type:"DISMISS_TOAST",toastId:e});return Hu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function nk(){const[t,e]=_.useState(Dh);return _.useEffect(()=>(Ih.push(e),()=>{const n=Ih.indexOf(e);n>-1&&Ih.splice(n,1)}),[t]),{...t,toast:El,dismiss:n=>Hu({type:"DISMISS_TOAST",toastId:n})}}function Pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function C0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rk(...t){return e=>{let n=!1;const r=t.map(i=>{const s=C0(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():C0(t[i],null)}}}}function Et(...t){return _.useCallback(rk(...t),t)}function BU(t,e){const n=_.createContext(e),r=s=>{const{children:o,...a}=s,l=_.useMemo(()=>a,Object.values(a));return y.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=_.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Oi(t,e=[]){let n=[];function r(s,o){const a=_.createContext(o),l=n.length;n=[...n,o];const c=f=>{var b;const{scope:h,children:p,...w}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,E=_.useMemo(()=>w,Object.values(w));return y.jsx(g.Provider,{value:E,children:p})};c.displayName=s+"Provider";function u(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,w=_.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>_.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,zU(i,...e)]}function zU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function hc(t){const e=HU(t),n=_.forwardRef((r,i)=>{const{children:s,...o}=r,a=_.Children.toArray(s),l=a.find($U);if(l){const c=l.props.children,u=a.map(f=>f===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:f);return y.jsx(e,{...o,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,u):null})}return y.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var ik=hc("Slot");function HU(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const o=GU(i),a=WU(s,i.props);return i.type!==_.Fragment&&(a.ref=r?rk(r,o):o),_.cloneElement(i,a)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sk=Symbol("radix.slottable");function ok(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=sk,e}function $U(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sk}function WU(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function GU(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function EE(t){const e=t+"CollectionProvider",[n,r]=Oi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:b}=g,v=Ue.useRef(null),x=Ue.useRef(new Map).current;return y.jsx(i,{scope:E,itemMap:x,collectionRef:v,children:b})};o.displayName=e;const a=t+"CollectionSlot",l=hc(a),c=Ue.forwardRef((g,E)=>{const{scope:b,children:v}=g,x=s(a,b),A=Et(E,x.collectionRef);return y.jsx(l,{ref:A,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=hc(u),p=Ue.forwardRef((g,E)=>{const{scope:b,children:v,...x}=g,A=Ue.useRef(null),O=Et(E,A),V=s(u,b);return Ue.useEffect(()=>(V.itemMap.set(A,{ref:A,...x}),()=>void V.itemMap.delete(A))),y.jsx(h,{[f]:"",ref:O,children:v})});p.displayName=u;function w(g){const E=s(t+"CollectionConsumer",g);return Ue.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((V,S)=>x.indexOf(V.ref.current)-x.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},w,r]}var qU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=qU.reduce((t,e)=>{const n=hc(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ak(t,e){t&&ti.flushSync(()=>t.dispatchEvent(e))}function Vr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QU(t,e=globalThis==null?void 0:globalThis.document){const n=Vr(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KU="DismissableLayer",n_="dismissableLayer.update",YU="dismissableLayer.pointerDownOutside",ZU="dismissableLayer.focusOutside",A0,lk=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wd=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=_.useContext(lk),[u,f]=_.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),w=Et(e,S=>f(S)),g=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(E),v=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,A=v>=b,O=JU(S=>{const C=S.target,R=[...c.branches].some(I=>I.contains(C));!A||R||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),V=e4(S=>{const C=S.target;[...c.branches].some(I=>I.contains(C))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return QU(S=>{v===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),_.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(A0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),R0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=A0)}},[u,h,n,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),R0())},[u,c]),_.useEffect(()=>{const S=()=>p({});return document.addEventListener(n_,S),()=>document.removeEventListener(n_,S)},[]),y.jsx(Ze.div,{...l,ref:w,style:{pointerEvents:x?A?"auto":"none":void 0,...t.style},onFocusCapture:Pe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Pe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Pe(t.onPointerDownCapture,O.onPointerDownCapture)})});Wd.displayName=KU;var XU="DismissableLayerBranch",ck=_.forwardRef((t,e)=>{const n=_.useContext(lk),r=_.useRef(null),i=Et(e,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),y.jsx(Ze.div,{...t,ref:i})});ck.displayName=XU;function JU(t,e=globalThis==null?void 0:globalThis.document){const n=Vr(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){uk(YU,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function e4(t,e=globalThis==null?void 0:globalThis.document){const n=Vr(t),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&uk(ZU,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R0(){const t=new CustomEvent(n_);document.dispatchEvent(t)}function uk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ak(i,s):i.dispatchEvent(s)}var t4=Wd,n4=ck,In=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},r4="Portal",Um=_.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=_.useState(!1);In(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ek.createPortal(y.jsx(Ze.div,{...r,ref:e}),o):null});Um.displayName=r4;function i4(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Uo=t=>{const{present:e,children:n}=t,r=s4(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=Et(r.ref,o4(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};Uo.displayName="Presence";function s4(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[a,l]=i4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=qf(r.current);s.current=a==="mounted"?c:"none"},[a]),In(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,p=qf(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),In(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=p=>{const g=qf(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=p=>{p.target===e&&(s.current=qf(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function qf(t){return(t==null?void 0:t.animationName)||"none"}function o4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var a4=Dw[" useInsertionEffect ".trim().toString()]||In;function So({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=l4({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=_.useRef(t!==void 0);_.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=_.useCallback(u=>{var f;if(a){const h=c4(u)?u(t):u;h!==t&&((f=o.current)==null||f.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function l4({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return a4(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function c4(t){return typeof t=="function"}var dk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),u4="VisuallyHidden",Bm=_.forwardRef((t,e)=>y.jsx(Ze.span,{...t,ref:e,style:{...dk,...t.style}}));Bm.displayName=u4;var d4=Bm,bE="ToastProvider",[SE,f4,h4]=EE("Toast"),[fk,Xte]=Oi("Toast",[h4]),[p4,zm]=fk(bE),hk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=_.useState(null),[c,u]=_.useState(0),f=_.useRef(!1),h=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bE}\`. Expected non-empty \`string\`.`),y.jsx(SE.Provider,{scope:e,children:y.jsx(p4,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:_.useCallback(()=>u(p=>p+1),[]),onToastRemove:_.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};hk.displayName=bE;var pk="ToastViewport",m4=["F8"],r_="toast.viewportPause",i_="toast.viewportResume",mk=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=m4,label:i="Notifications ({hotkey})",...s}=t,o=zm(pk,n),a=f4(n),l=_.useRef(null),c=_.useRef(null),u=_.useRef(null),f=_.useRef(null),h=Et(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;_.useEffect(()=>{const E=b=>{var x;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),_.useEffect(()=>{const E=l.current,b=f.current;if(w&&E&&b){const v=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(r_);b.dispatchEvent(V),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(i_);b.dispatchEvent(V),o.isClosePausedRef.current=!1}},A=V=>{!E.contains(V.relatedTarget)&&x()},O=()=>{E.contains(document.activeElement)||x()};return E.addEventListener("focusin",v),E.addEventListener("focusout",A),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",A),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:E})=>{const v=a().map(x=>{const A=x.ref.current,O=[A,...R4(A)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return _.useEffect(()=>{const E=f.current;if(E){const b=v=>{var O,V,S;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const C=document.activeElement,R=v.shiftKey;if(v.target===E&&R){(O=c.current)==null||O.focus();return}const P=g({tabbingDirection:R?"backwards":"forwards"}),k=P.findIndex(Y=>Y===C);vv(P.slice(k+1))?v.preventDefault():R?(V=c.current)==null||V.focus():(S=u.current)==null||S.focus()}};return E.addEventListener("keydown",b),()=>E.removeEventListener("keydown",b)}},[a,g]),y.jsxs(n4,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&y.jsx(s_,{ref:c,onFocusFromOutsideViewport:()=>{const E=g({tabbingDirection:"forwards"});vv(E)}}),y.jsx(SE.Slot,{scope:n,children:y.jsx(Ze.ol,{tabIndex:-1,...s,ref:h})}),w&&y.jsx(s_,{ref:u,onFocusFromOutsideViewport:()=>{const E=g({tabbingDirection:"backwards"});vv(E)}})]})});mk.displayName=pk;var gk="ToastFocusProxy",s_=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=zm(gk,n);return y.jsx(Bm,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});s_.displayName=gk;var Gd="Toast",g4="toast.swipeStart",v4="toast.swipeMove",y4="toast.swipeCancel",_4="toast.swipeEnd",vk=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=So({prop:r,defaultProp:i??!0,onChange:s,caller:Gd});return y.jsx(Uo,{present:n||a,children:y.jsx(b4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Vr(t.onPause),onResume:Vr(t.onResume),onSwipeStart:Pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});vk.displayName=Gd;var[w4,E4]=fk(Gd,{onClose(){}}),b4=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=t,g=zm(Gd,n),[E,b]=_.useState(null),v=Et(e,Y=>b(Y)),x=_.useRef(null),A=_.useRef(null),O=i||g.duration,V=_.useRef(0),S=_.useRef(O),C=_.useRef(0),{onToastAdd:R,onToastRemove:I}=g,N=Vr(()=>{var fe;(E==null?void 0:E.contains(document.activeElement))&&((fe=g.viewport)==null||fe.focus()),o()}),P=_.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(C.current),V.current=new Date().getTime(),C.current=window.setTimeout(N,Y))},[N]);_.useEffect(()=>{const Y=g.viewport;if(Y){const fe=()=>{P(S.current),c==null||c()},le=()=>{const ve=new Date().getTime()-V.current;S.current=S.current-ve,window.clearTimeout(C.current),l==null||l()};return Y.addEventListener(r_,le),Y.addEventListener(i_,fe),()=>{Y.removeEventListener(r_,le),Y.removeEventListener(i_,fe)}}},[g.viewport,O,l,c,P]),_.useEffect(()=>{s&&!g.isClosePausedRef.current&&P(O)},[s,O,g.isClosePausedRef,P]),_.useEffect(()=>(R(),()=>I()),[R,I]);const k=_.useMemo(()=>E?Tk(E):null,[E]);return g.viewport?y.jsxs(y.Fragment,{children:[k&&y.jsx(S4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:k}),y.jsx(w4,{scope:n,onClose:N,children:ti.createPortal(y.jsx(SE.ItemSlot,{scope:n,children:y.jsx(t4,{asChild:!0,onEscapeKeyDown:Pe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Ze.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Pe(t.onKeyDown,Y=>{Y.key==="Escape"&&(a==null||a(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Pe(t.onPointerDown,Y=>{Y.button===0&&(x.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:Pe(t.onPointerMove,Y=>{if(!x.current)return;const fe=Y.clientX-x.current.x,le=Y.clientY-x.current.y,ve=!!A.current,H=["left","right"].includes(g.swipeDirection),ee=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,pe=H?ee(0,fe):0,Ie=H?0:ee(0,le),ke=Y.pointerType==="touch"?10:2,ze={x:pe,y:Ie},ct={originalEvent:Y,delta:ze};ve?(A.current=ze,Qf(v4,f,ct,{discrete:!1})):I0(ze,g.swipeDirection,ke)?(A.current=ze,Qf(g4,u,ct,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(fe)>ke||Math.abs(le)>ke)&&(x.current=null)}),onPointerUp:Pe(t.onPointerUp,Y=>{const fe=A.current,le=Y.target;if(le.hasPointerCapture(Y.pointerId)&&le.releasePointerCapture(Y.pointerId),A.current=null,x.current=null,fe){const ve=Y.currentTarget,H={originalEvent:Y,delta:fe};I0(fe,g.swipeDirection,g.swipeThreshold)?Qf(_4,p,H,{discrete:!0}):Qf(y4,h,H,{discrete:!0}),ve.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),S4=t=>{const{__scopeToast:e,children:n,...r}=t,i=zm(Gd,e),[s,o]=_.useState(!1),[a,l]=_.useState(!1);return C4(()=>o(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:y.jsx(Um,{asChild:!0,children:y.jsx(Bm,{...r,children:s&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},T4="ToastTitle",yk=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Ze.div,{...r,ref:e})});yk.displayName=T4;var x4="ToastDescription",_k=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Ze.div,{...r,ref:e})});_k.displayName=x4;var wk="ToastAction",Ek=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(Sk,{altText:n,asChild:!0,children:y.jsx(TE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wk}\`. Expected non-empty \`string\`.`),null)});Ek.displayName=wk;var bk="ToastClose",TE=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=E4(bk,n);return y.jsx(Sk,{asChild:!0,children:y.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Pe(t.onClick,i.onClose)})})});TE.displayName=bk;var Sk=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return y.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Tk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),A4(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Tk(r))}}),e}function Qf(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ak(i,s):i.dispatchEvent(s)}var I0=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function C4(t=()=>{}){const e=Vr(t);In(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function A4(t){return t.nodeType===t.ELEMENT_NODE}function R4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var I4=hk,xk=mk,Ck=vk,Ak=yk,Rk=_k,Ik=Ek,Dk=TE;function kk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kk(t))&&(r&&(r+=" "),r+=e);return r}const D0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,k0=Pk,xE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return k0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=s==null?void 0:s[c];if(u===null)return null;const h=D0(u)||D0(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(w=>{let[g,E]=w;return Array.isArray(E)?E.includes({...s,...a}[g]):{...s,...a}[g]===E})?[...c,f,h]:c},[]);return k0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...k4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Nk("lucide",i),...a},[...o.map(([c,u])=>_.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(P4,{ref:s,iconNode:e,className:Nk(`lucide-${D4(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Bo("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Bo("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Bo("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Bo("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Bo("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Bo("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Bo("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Bo("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CE="-",O4=t=>{const e=L4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(CE);return a[0]===""&&a.length!==1&&a.shift(),Vk(a,e)||M4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Vk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Vk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(CE);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},O0=/^\[(.+)\]$/,M4=t=>{if(O0.test(t)){const e=O0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},L4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return j4(Object.entries(t.classGroups),n).forEach(([s,o])=>{l_(o,r,s,e)}),r},l_=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:M0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(V4(i)){l_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{l_(o,M0(e,s),n,r)})})},M0=(t,e)=>{let n=t;return e.split(CE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},V4=t=>t.isThemeGetter,j4=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,F4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},jk="!",U4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let E=0;E<a.length;E++){let b=a[E];if(c===0){if(b===i&&(r||a.slice(E,E+s)===e)){l.push(a.slice(u,E)),u=E+s;continue}if(b==="/"){f=E;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(u),p=h.startsWith(jk),w=p?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},B4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},z4=t=>({cache:F4(t.cacheSize),parseClassName:U4(t),...O4(t)}),H4=/\s+/,$4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(H4);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let w=!!p,g=r(w?h.substring(0,p):h);if(!g){if(!w){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}w=!1}const E=B4(u).join(":"),b=f?E+jk:E,v=b+g;if(s.includes(v))continue;s.push(v);const x=i(g,w);for(let A=0;A<x.length;++A){const O=x[A];s.push(b+O)}a=c+(a.length>0?" "+a:a)}return a};function W4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Fk(e))&&(r&&(r+=" "),r+=n);return r}const Fk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Fk(t[r]))&&(n&&(n+=" "),n+=e);return n};function G4(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=z4(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=$4(l,n);return i(l,u),u}return function(){return s(W4.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Uk=/^\[(?:([a-z-]+):)?(.+)\]$/i,q4=/^\d+\/\d+$/,Q4=new Set(["px","full","screen"]),K4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gi=t=>Kl(t)||Q4.has(t)||q4.test(t),Ms=t=>Mc(t,"length",aB),Kl=t=>!!t&&!Number.isNaN(Number(t)),yv=t=>Mc(t,"number",Kl),pu=t=>!!t&&Number.isInteger(Number(t)),eB=t=>t.endsWith("%")&&Kl(t.slice(0,-1)),Je=t=>Uk.test(t),Ls=t=>K4.test(t),tB=new Set(["length","size","percentage"]),nB=t=>Mc(t,tB,Bk),rB=t=>Mc(t,"position",Bk),iB=new Set(["image","url"]),sB=t=>Mc(t,iB,cB),oB=t=>Mc(t,"",lB),mu=()=>!0,Mc=(t,e,n)=>{const r=Uk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},aB=t=>Y4.test(t)&&!Z4.test(t),Bk=()=>!1,lB=t=>X4.test(t),cB=t=>J4.test(t),uB=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),i=Mt("borderColor"),s=Mt("borderRadius"),o=Mt("borderSpacing"),a=Mt("borderWidth"),l=Mt("contrast"),c=Mt("grayscale"),u=Mt("hueRotate"),f=Mt("invert"),h=Mt("gap"),p=Mt("gradientColorStops"),w=Mt("gradientColorStopPositions"),g=Mt("inset"),E=Mt("margin"),b=Mt("opacity"),v=Mt("padding"),x=Mt("saturate"),A=Mt("scale"),O=Mt("sepia"),V=Mt("skew"),S=Mt("space"),C=Mt("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Je,e],P=()=>[Je,e],k=()=>["",Gi,Ms],Y=()=>["auto",Kl,Je],fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Je],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ie=()=>[Kl,Je];return{cacheSize:500,separator:":",theme:{colors:[mu],spacing:[Gi,Ms],blur:["none","",Ls,Je],brightness:Ie(),borderColor:[t],borderRadius:["none","","full",Ls,Je],borderSpacing:P(),borderWidth:k(),contrast:Ie(),grayscale:ee(),hueRotate:Ie(),invert:ee(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[eB,Ms],inset:N(),margin:N(),opacity:Ie(),padding:P(),saturate:Ie(),scale:Ie(),sepia:ee(),skew:Ie(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Ls]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...fe(),Je]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pu,Je]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",pu,Je]}],"grid-cols":[{"grid-cols":[mu]}],"col-start-end":[{col:["auto",{span:["full",pu,Je]},Je]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[mu]}],"row-start-end":[{row:["auto",{span:[pu,Je]},Je]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Ls]},Ls]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ls,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yv]}],"font-family":[{font:[mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Kl,yv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gi,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gi,Ms]}],"underline-offset":[{"underline-offset":["auto",Gi,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...fe(),rB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Gi,Je]}],"outline-w":[{outline:[Gi,Ms]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Gi,Ms]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ls,oB]}],"shadow-color":[{shadow:[mu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ls,Je]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:Ie()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:Ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[pu,Je]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gi,Ms,yv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dB=G4(uB);function Le(...t){return dB(Pk(t))}const fB=I4,zk=_.forwardRef(({className:t,...e},n)=>y.jsx(xk,{ref:n,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));zk.displayName=xk.displayName;const hB=xE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Hk=_.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(Ck,{ref:r,className:Le(hB({variant:e}),t),...n}));Hk.displayName=Ck.displayName;const pB=_.forwardRef(({className:t,...e},n)=>y.jsx(Ik,{ref:n,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));pB.displayName=Ik.displayName;const $k=_.forwardRef(({className:t,...e},n)=>y.jsx(Dk,{ref:n,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(Lk,{className:"h-4 w-4"})}));$k.displayName=Dk.displayName;const Wk=_.forwardRef(({className:t,...e},n)=>y.jsx(Ak,{ref:n,className:Le("text-sm font-semibold",t),...e}));Wk.displayName=Ak.displayName;const Gk=_.forwardRef(({className:t,...e},n)=>y.jsx(Rk,{ref:n,className:Le("text-sm opacity-90",t),...e}));Gk.displayName=Rk.displayName;function qk(){const{toasts:t}=nk();return y.jsxs(fB,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return y.jsxs(Hk,{...s,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(Wk,{children:n}),r&&y.jsx(Gk,{children:r})]}),i,y.jsx($k,{})]},e)}),y.jsx(zk,{})]})}const mB=_.createContext(void 0);function gB({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{const a=localStorage.getItem("currentUser");if(a)try{const l=JSON.parse(a);n(l)}catch(l){console.error("Error parsing stored user:",l),localStorage.removeItem("currentUser")}i(!1)},[]);const s=a=>{n(a),localStorage.setItem("currentUser",JSON.stringify(a))},o=()=>{n(null),localStorage.removeItem("currentUser")};return y.jsx(mB.Provider,{value:{user:e,loading:r,login:s,logout:o},children:t})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=()=>{};var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new _B;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _B extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wB=function(t){const e=Qk(t);return Kk.encodeByteArray(e,!0)},bp=function(t){return wB(t).replace(/\./g,"")},Yk=function(t){try{return Kk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=()=>EB().__FIREBASE_DEFAULTS__,SB=()=>{if(typeof process>"u"||typeof L0>"u")return;const t=L0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yk(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return vB()||bB()||SB()||TB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zk=t=>{var e,n;return(n=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xB=t=>{const e=Zk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xk=()=>{var t;return(t=Hm())===null||t===void 0?void 0:t.config},Jk=t=>{var e;return(e=Hm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CB=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bp(JSON.stringify(n)),bp(JSON.stringify(o)),""].join(".")}const $u={};function RB(){const t={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?t.emulator.push(e):t.prod.push(e);return t}function IB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let V0=!1;function tP(t,e){if(typeof window>"u"||typeof document>"u"||!Lc(window.location.host)||$u[t]===e||$u[t]||V0)return;$u[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=RB().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{V0=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=IB(r),p=n("text"),w=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const x=h.element;a(x),u(E,g);const A=c();l(v,b),x.append(v,w,E,A),document.body.appendChild(x)}s?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function kB(){var t;const e=(t=Hm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MB(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LB(){return!kB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VB(){try{return typeof indexedDB=="object"}catch{return!1}}function jB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FB,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qd.prototype.create)}}class qd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,a,r)}}function UB(t,e){return t.replace(BB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BB=/\{\$([^}]+)}/g;function zB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(j0(s)&&j0(o)){if(!Fa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HB(t,e){const n=new $B(t,e);return n.subscribe.bind(n)}class $B{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _v(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QB(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qB(t){return t===ia?void 0:t}function QB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const YB={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},ZB=ot.INFO,XB={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},JB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class AE{constructor(e){this.name=e,this._logLevel=ZB,this._logHandler=JB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const ez=(t,e)=>e.some(n=>t instanceof n);let F0,U0;function tz(){return F0||(F0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nz(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nP=new WeakMap,c_=new WeakMap,rP=new WeakMap,wv=new WeakMap,RE=new WeakMap;function rz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nP.set(n,t)}).catch(()=>{}),RE.set(e,t),e}function iz(t){if(c_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});c_.set(t,e)}let u_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sz(t){u_=t(u_)}function oz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ev(this),e,...n);return rP.set(r,e.sort?e.sort():[e]),fo(r)}:nz().includes(t)?function(...e){return t.apply(Ev(this),e),fo(nP.get(this))}:function(...e){return fo(t.apply(Ev(this),e))}}function az(t){return typeof t=="function"?oz(t):(t instanceof IDBTransaction&&iz(t),ez(t,tz())?new Proxy(t,u_):t)}function fo(t){if(t instanceof IDBRequest)return rz(t);if(wv.has(t))return wv.get(t);const e=az(t);return e!==t&&(wv.set(t,e),RE.set(e,t)),e}const Ev=t=>RE.get(t);function lz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fo(o.result),l.oldVersion,l.newVersion,fo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const cz=["get","getKey","getAll","getAllKeys","count"],uz=["put","add","delete","clear"],bv=new Map;function B0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bv.get(e))return bv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cz.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return bv.set(e,s),s}sz(t=>({...t,get:(e,n,r)=>B0(e,n)||t.get(e,n,r),has:(e,n)=>!!B0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d_="@firebase/app",z0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new AE("@firebase/app"),hz="@firebase/app-compat",pz="@firebase/analytics-compat",mz="@firebase/analytics",gz="@firebase/app-check-compat",vz="@firebase/app-check",yz="@firebase/auth",_z="@firebase/auth-compat",wz="@firebase/database",Ez="@firebase/data-connect",bz="@firebase/database-compat",Sz="@firebase/functions",Tz="@firebase/functions-compat",xz="@firebase/installations",Cz="@firebase/installations-compat",Az="@firebase/messaging",Rz="@firebase/messaging-compat",Iz="@firebase/performance",Dz="@firebase/performance-compat",kz="@firebase/remote-config",Pz="@firebase/remote-config-compat",Nz="@firebase/storage",Oz="@firebase/storage-compat",Mz="@firebase/firestore",Lz="@firebase/ai",Vz="@firebase/firestore-compat",jz="firebase",Fz="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="[DEFAULT]",Uz={[d_]:"fire-core",[hz]:"fire-core-compat",[mz]:"fire-analytics",[pz]:"fire-analytics-compat",[vz]:"fire-app-check",[gz]:"fire-app-check-compat",[yz]:"fire-auth",[_z]:"fire-auth-compat",[wz]:"fire-rtdb",[Ez]:"fire-data-connect",[bz]:"fire-rtdb-compat",[Sz]:"fire-fn",[Tz]:"fire-fn-compat",[xz]:"fire-iid",[Cz]:"fire-iid-compat",[Az]:"fire-fcm",[Rz]:"fire-fcm-compat",[Iz]:"fire-perf",[Dz]:"fire-perf-compat",[kz]:"fire-rc",[Pz]:"fire-rc-compat",[Nz]:"fire-gcs",[Oz]:"fire-gcs-compat",[Mz]:"fire-fst",[Vz]:"fire-fst-compat",[Lz]:"fire-vertex","fire-js":"fire-js",[jz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,Bz=new Map,h_=new Map;function H0(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pc(t){const e=t.name;if(h_.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;h_.set(e,t);for(const n of yd.values())H0(n,t);for(const n of Bz.values())H0(n,t);return!0}function IE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new qd("app","Firebase",zz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=Fz;function DE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:f_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ho.create("bad-app-name",{appName:String(i)});if(n||(n=Xk()),!n)throw ho.create("no-options");const s=yd.get(i);if(s){if(Fa(n,s.options)&&Fa(r,s.config))return s;throw ho.create("duplicate-app",{appName:i})}const o=new KB(i);for(const l of h_.values())o.addComponent(l);const a=new Hz(n,r,o);return yd.set(i,a),a}function iP(t=f_){const e=yd.get(t);if(!e&&t===f_&&Xk())return DE();if(!e)throw ho.create("no-app",{appName:t});return e}function $0(){return Array.from(yd.values())}function po(t,e,n){var r;let i=(r=Uz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}pc(new Ua(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="firebase-heartbeat-database",Wz=1,_d="firebase-heartbeat-store";let Sv=null;function sP(){return Sv||(Sv=lz($z,Wz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_d)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),Sv}async function Gz(t){try{const n=(await sP()).transaction(_d),r=await n.objectStore(_d).get(oP(t));return await n.done,r}catch(e){if(e instanceof Ts)fs.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function W0(t,e){try{const r=(await sP()).transaction(_d,"readwrite");await r.objectStore(_d).put(e,oP(t)),await r.done}catch(n){if(n instanceof Ts)fs.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function oP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=1024,Qz=30;class Kz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=G0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Qz){const o=Xz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G0(),{heartbeatsToSend:r,unsentEntries:i}=Yz(this._heartbeatsCache.heartbeats),s=bp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fs.warn(n),""}}}function G0(){return new Date().toISOString().substring(0,10)}function Yz(t,e=qz){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VB()?jB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function q0(t){return bp(JSON.stringify({version:2,heartbeats:t})).length}function Xz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){pc(new Ua("platform-logger",e=>new dz(e),"PRIVATE")),pc(new Ua("heartbeat",e=>new Kz(e),"PRIVATE")),po(d_,z0,t),po(d_,z0,"esm2017"),po("fire-js","")}Jz("");var eH="firebase",tH="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(eH,tH,"app");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,aP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function R(){}R.prototype=C.prototype,S.D=C.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(I,N,P){for(var k=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];return C.prototype[N].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,R){R||(R=0);var I=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)I[N]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(N=0;16>N;++N)I[N]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=S.g[0],R=S.g[1],N=S.g[2];var P=S.g[3],k=C+(P^R&(N^P))+I[0]+3614090360&4294967295;C=R+(k<<7&4294967295|k>>>25),k=P+(N^C&(R^N))+I[1]+3905402710&4294967295,P=C+(k<<12&4294967295|k>>>20),k=N+(R^P&(C^R))+I[2]+606105819&4294967295,N=P+(k<<17&4294967295|k>>>15),k=R+(C^N&(P^C))+I[3]+3250441966&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(P^R&(N^P))+I[4]+4118548399&4294967295,C=R+(k<<7&4294967295|k>>>25),k=P+(N^C&(R^N))+I[5]+1200080426&4294967295,P=C+(k<<12&4294967295|k>>>20),k=N+(R^P&(C^R))+I[6]+2821735955&4294967295,N=P+(k<<17&4294967295|k>>>15),k=R+(C^N&(P^C))+I[7]+4249261313&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(P^R&(N^P))+I[8]+1770035416&4294967295,C=R+(k<<7&4294967295|k>>>25),k=P+(N^C&(R^N))+I[9]+2336552879&4294967295,P=C+(k<<12&4294967295|k>>>20),k=N+(R^P&(C^R))+I[10]+4294925233&4294967295,N=P+(k<<17&4294967295|k>>>15),k=R+(C^N&(P^C))+I[11]+2304563134&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(P^R&(N^P))+I[12]+1804603682&4294967295,C=R+(k<<7&4294967295|k>>>25),k=P+(N^C&(R^N))+I[13]+4254626195&4294967295,P=C+(k<<12&4294967295|k>>>20),k=N+(R^P&(C^R))+I[14]+2792965006&4294967295,N=P+(k<<17&4294967295|k>>>15),k=R+(C^N&(P^C))+I[15]+1236535329&4294967295,R=N+(k<<22&4294967295|k>>>10),k=C+(N^P&(R^N))+I[1]+4129170786&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^N&(C^R))+I[6]+3225465664&4294967295,P=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(P^C))+I[11]+643717713&4294967295,N=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(N^P))+I[0]+3921069994&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(N^P&(R^N))+I[5]+3593408605&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^N&(C^R))+I[10]+38016083&4294967295,P=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(P^C))+I[15]+3634488961&4294967295,N=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(N^P))+I[4]+3889429448&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(N^P&(R^N))+I[9]+568446438&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^N&(C^R))+I[14]+3275163606&4294967295,P=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(P^C))+I[3]+4107603335&4294967295,N=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(N^P))+I[8]+1163531501&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(N^P&(R^N))+I[13]+2850285829&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^N&(C^R))+I[2]+4243563512&4294967295,P=C+(k<<9&4294967295|k>>>23),k=N+(C^R&(P^C))+I[7]+1735328473&4294967295,N=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(N^P))+I[12]+2368359562&4294967295,R=N+(k<<20&4294967295|k>>>12),k=C+(R^N^P)+I[5]+4294588738&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^N)+I[8]+2272392833&4294967295,P=C+(k<<11&4294967295|k>>>21),k=N+(P^C^R)+I[11]+1839030562&4294967295,N=P+(k<<16&4294967295|k>>>16),k=R+(N^P^C)+I[14]+4259657740&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(R^N^P)+I[1]+2763975236&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^N)+I[4]+1272893353&4294967295,P=C+(k<<11&4294967295|k>>>21),k=N+(P^C^R)+I[7]+4139469664&4294967295,N=P+(k<<16&4294967295|k>>>16),k=R+(N^P^C)+I[10]+3200236656&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(R^N^P)+I[13]+681279174&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^N)+I[0]+3936430074&4294967295,P=C+(k<<11&4294967295|k>>>21),k=N+(P^C^R)+I[3]+3572445317&4294967295,N=P+(k<<16&4294967295|k>>>16),k=R+(N^P^C)+I[6]+76029189&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(R^N^P)+I[9]+3654602809&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^N)+I[12]+3873151461&4294967295,P=C+(k<<11&4294967295|k>>>21),k=N+(P^C^R)+I[15]+530742520&4294967295,N=P+(k<<16&4294967295|k>>>16),k=R+(N^P^C)+I[2]+3299628645&4294967295,R=N+(k<<23&4294967295|k>>>9),k=C+(N^(R|~P))+I[0]+4096336452&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~N))+I[7]+1126891415&4294967295,P=C+(k<<10&4294967295|k>>>22),k=N+(C^(P|~R))+I[14]+2878612391&4294967295,N=P+(k<<15&4294967295|k>>>17),k=R+(P^(N|~C))+I[5]+4237533241&4294967295,R=N+(k<<21&4294967295|k>>>11),k=C+(N^(R|~P))+I[12]+1700485571&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~N))+I[3]+2399980690&4294967295,P=C+(k<<10&4294967295|k>>>22),k=N+(C^(P|~R))+I[10]+4293915773&4294967295,N=P+(k<<15&4294967295|k>>>17),k=R+(P^(N|~C))+I[1]+2240044497&4294967295,R=N+(k<<21&4294967295|k>>>11),k=C+(N^(R|~P))+I[8]+1873313359&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~N))+I[15]+4264355552&4294967295,P=C+(k<<10&4294967295|k>>>22),k=N+(C^(P|~R))+I[6]+2734768916&4294967295,N=P+(k<<15&4294967295|k>>>17),k=R+(P^(N|~C))+I[13]+1309151649&4294967295,R=N+(k<<21&4294967295|k>>>11),k=C+(N^(R|~P))+I[4]+4149444226&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~N))+I[11]+3174756917&4294967295,P=C+(k<<10&4294967295|k>>>22),k=N+(C^(P|~R))+I[2]+718787259&4294967295,N=P+(k<<15&4294967295|k>>>17),k=R+(P^(N|~C))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var R=C-this.blockSize,I=this.B,N=this.h,P=0;P<C;){if(N==0)for(;P<=R;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<C;)if(I[N++]=S.charCodeAt(P++),N==this.blockSize){i(this,I),N=0;break}}else for(;P<C;)if(I[N++]=S[P++],N==this.blockSize){i(this,I),N=0;break}}this.h=N,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var R=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=R&255,R/=256;for(this.u(S),S=Array(16),C=R=0;4>C;++C)for(var I=0;32>I;I+=8)S[R++]=this.g[C]>>>I&255;return S};function s(S,C){var R=a;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=C(S)}function o(S,C){this.h=C;for(var R=[],I=!0,N=S.length-1;0<=N;N--){var P=S[N]|0;I&&P==C||(R[N]=P,I=!1)}this.g=R}var a={};function l(S){return-128<=S&&128>S?s(S,function(C){return new o([C|0],0>C?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return E(c(-S));for(var C=[],R=1,I=0;S>=R;I++)C[I]=S/R|0,R*=4294967296;return new o(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return E(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(C,8)),I=f,N=0;N<S.length;N+=8){var P=Math.min(8,S.length-N),k=parseInt(S.substring(N,N+P),C);8>P?(P=c(Math.pow(C,P)),I=I.j(P).add(c(k))):(I=I.j(R),I=I.add(c(k)))}return I}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-E(this).m();for(var S=0,C=1,R=0;R<this.g.length;R++){var I=this.i(R);S+=(0<=I?I:4294967296+I)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(g(this))return"-"+E(this).toString(S);for(var C=c(Math.pow(S,6)),R=this,I="";;){var N=A(R,C).g;R=b(R,N.j(C));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=N,w(R))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=b(this,S),g(S)?-1:w(S)?0:1};function E(S){for(var C=S.g.length,R=[],I=0;I<C;I++)R[I]=~S.g[I];return new o(R,~S.h).add(h)}t.abs=function(){return g(this)?E(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),R=[],I=0,N=0;N<=C;N++){var P=I+(this.i(N)&65535)+(S.i(N)&65535),k=(P>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);I=k>>>16,P&=65535,k&=65535,R[N]=k<<16|P}return new o(R,R[R.length-1]&-2147483648?-1:0)};function b(S,C){return S.add(E(C))}t.j=function(S){if(w(this)||w(S))return f;if(g(this))return g(S)?E(this).j(E(S)):E(E(this).j(S));if(g(S))return E(this.j(E(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,R=[],I=0;I<2*C;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<S.g.length;N++){var P=this.i(I)>>>16,k=this.i(I)&65535,Y=S.i(N)>>>16,fe=S.i(N)&65535;R[2*I+2*N]+=k*fe,v(R,2*I+2*N),R[2*I+2*N+1]+=P*fe,v(R,2*I+2*N+1),R[2*I+2*N+1]+=k*Y,v(R,2*I+2*N+1),R[2*I+2*N+2]+=P*Y,v(R,2*I+2*N+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new o(R,0)};function v(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function x(S,C){this.g=S,this.h=C}function A(S,C){if(w(C))throw Error("division by zero");if(w(S))return new x(f,f);if(g(S))return C=A(E(S),C),new x(E(C.g),E(C.h));if(g(C))return C=A(S,E(C)),new x(E(C.g),C.h);if(30<S.g.length){if(g(S)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var R=h,I=C;0>=I.l(S);)R=O(R),I=O(I);var N=V(R,1),P=V(I,1);for(I=V(I,2),R=V(R,2);!w(I);){var k=P.add(I);0>=k.l(S)&&(N=N.add(R),P=k),I=V(I,1),R=V(R,1)}return C=b(S,N.j(C)),new x(N,C)}for(N=f;0<=S.l(C);){for(R=Math.max(1,Math.floor(S.m()/C.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=c(R),k=P.j(C);g(k)||0<k.l(S);)R-=I,P=c(R),k=P.j(C);w(P)&&(P=h),N=N.add(P),S=b(S,k)}return new x(N,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)&S.i(I);return new o(R,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)|S.i(I);return new o(R,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)^S.i(I);return new o(R,this.h^S.h)};function O(S){for(var C=S.g.length+1,R=[],I=0;I<C;I++)R[I]=S.i(I)<<1|S.i(I-1)>>>31;return new o(R,S.h)}function V(S,C){var R=C>>5;C%=32;for(var I=S.g.length-R,N=[],P=0;P<I;P++)N[P]=0<C?S.i(P+R)>>>C|S.i(P+R+1)<<32-C:S.i(P+R);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,mo=o}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lP,Cu,cP,kh,p_,uP,dP,fP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,T){return d==Array.prototype||d==Object.prototype||(d[m]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kf=="object"&&Kf];for(var m=0;m<d.length;++m){var T=d[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var T=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var z=d[D];if(!(z in T))break e;T=T[z]}d=d[d.length-1],D=T[d],m=m(D),m!=D&&m!=null&&e(T,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var T=0,D=!1,z={next:function(){if(!D&&T<d.length){var Q=T++;return{value:m(Q,d[Q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,T){return d.call.apply(d.bind,arguments)}function f(d,m,T){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,D),d.apply(m,z)}}return function(){return d.apply(m,arguments)}}function h(d,m,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,m){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function w(d,m){function T(){}T.prototype=m.prototype,d.aa=m.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(D,z,Q){for(var de=Array(arguments.length-2),At=2;At<arguments.length;At++)de[At-2]=arguments[At];return m.prototype[z].apply(D,de)}}function g(d){const m=d.length;if(0<m){const T=Array(m);for(let D=0;D<m;D++)T[D]=d[D];return T}return[]}function E(d,m){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(l(D)){const z=d.length||0,Q=D.length||0;d.length=z+Q;for(let de=0;de<Q;de++)d[z+de]=D[de]}else d.push(D)}}class b{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function A(d){return A[" "](d),d}A[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function V(d,m,T){for(const D in d)m.call(T,d[D],D,d)}function S(d,m){for(const T in d)m.call(void 0,d[T],T,d)}function C(d){const m={};for(const T in d)m[T]=d[T];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,m){let T,D;for(let z=1;z<arguments.length;z++){D=arguments[z];for(T in D)d[T]=D[T];for(let Q=0;Q<R.length;Q++)T=R[Q],Object.prototype.hasOwnProperty.call(D,T)&&(d[T]=D[T])}}function N(d){var m=1;d=d.split(":");const T=[];for(;0<m&&d.length;)T.push(d.shift()),m--;return d.length&&T.push(d.join(":")),T}function P(d){a.setTimeout(()=>{throw d},0)}function k(){var d=ee;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class Y{constructor(){this.h=this.g=null}add(m,T){const D=fe.get();D.set(m,T),this.h?this.h.next=D:this.g=D,this.h=D}}var fe=new b(()=>new le,d=>d.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,H=!1,ee=new Y,pe=()=>{const d=a.Promise.resolve(void 0);ve=()=>{d.then(Ie)}};var Ie=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(T){P(T)}var m=fe;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}H=!1};function ke(){this.s=this.s,this.C=this.C}ke.prototype.s=!1,ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,m),a.removeEventListener("test",T,m)}catch{}return d}();function it(d,m){if(ze.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(O){e:{try{A(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else T=="mouseover"?m=d.fromElement:T=="mouseout"&&(m=d.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:mt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&it.aa.h.call(this)}}w(it,ze);var mt={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),$=0;function ue(d,m,T,D,z){this.listener=d,this.proxy=null,this.src=m,this.type=T,this.capture=!!D,this.ha=z,this.key=++$,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,m,T,D,z){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var de=te(d,m,D,z);return-1<de?(m=d[de],T||(m.fa=!1)):(m=new ue(m,this.src,Q,!!D,z),m.fa=T,d.push(m)),m};function W(d,m){var T=m.type;if(T in d.g){var D=d.g[T],z=Array.prototype.indexOf.call(D,m,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(D,z,1),Q&&(ce(m),d.g[T].length==0&&(delete d.g[T],d.h--))}}function te(d,m,T,D){for(var z=0;z<d.length;++z){var Q=d[z];if(!Q.da&&Q.listener==m&&Q.capture==!!T&&Q.ha==D)return z}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),Ke={};function De(d,m,T,D,z){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)De(d,m[Q],T,D,z);return null}return T=re(T),d&&d[U]?d.K(m,T,c(D)?!!D.capture:!1,z):ft(d,m,T,!1,D,z)}function ft(d,m,T,D,z,Q){if(!m)throw Error("Invalid event type");var de=c(z)?!!z.capture:!!z,At=se(d);if(At||(d[Xe]=At=new ie(d)),T=At.add(m,T,D,de,Q),T.proxy)return T;if(D=tt(),T.proxy=D,D.src=d,D.listener=T,d.addEventListener)ct||(z=de),z===void 0&&(z=!1),d.addEventListener(m.toString(),D,z);else if(d.attachEvent)d.attachEvent(B(m.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function tt(){function d(T){return m.call(d.src,d.listener,T)}const m=K;return d}function He(d,m,T,D,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)He(d,m[Q],T,D,z);else D=c(D)?!!D.capture:!!D,T=re(T),d&&d[U]?(d=d.i,m=String(m).toString(),m in d.g&&(Q=d.g[m],T=te(Q,T,D,z),-1<T&&(ce(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete d.g[m],d.h--)))):d&&(d=se(d))&&(m=d.g[m.toString()],d=-1,m&&(d=te(m,T,D,z)),(T=-1<d?m[d]:null)&&M(T))}function M(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[U])W(m.i,d);else{var T=d.type,D=d.proxy;m.removeEventListener?m.removeEventListener(T,D,d.capture):m.detachEvent?m.detachEvent(B(T),D):m.addListener&&m.removeListener&&m.removeListener(D),(T=se(m))?(W(T,d),T.h==0&&(T.src=null,m[Xe]=null)):ce(d)}}}function B(d){return d in Ke?Ke[d]:Ke[d]="on"+d}function K(d,m){if(d.da)d=!0;else{m=new it(m,this);var T=d.listener,D=d.ha||d.src;d.fa&&M(d),d=T.call(D,m)}return d}function se(d){return d=d[Xe],d instanceof ie?d:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(d){return typeof d=="function"?d:(d[oe]||(d[oe]=function(m){return d.handleEvent(m)}),d[oe])}function ge(){ke.call(this),this.i=new ie(this),this.M=this,this.F=null}w(ge,ke),ge.prototype[U]=!0,ge.prototype.removeEventListener=function(d,m,T,D){He(this,d,m,T,D)};function Ve(d,m){var T,D=d.F;if(D)for(T=[];D;D=D.F)T.push(D);if(d=d.M,D=m.type||m,typeof m=="string")m=new ze(m,d);else if(m instanceof ze)m.target=m.target||d;else{var z=m;m=new ze(D,d),I(m,z)}if(z=!0,T)for(var Q=T.length-1;0<=Q;Q--){var de=m.g=T[Q];z=et(de,D,!0,m)&&z}if(de=m.g=d,z=et(de,D,!0,m)&&z,z=et(de,D,!1,m)&&z,T)for(Q=0;Q<T.length;Q++)de=m.g=T[Q],z=et(de,D,!1,m)&&z}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var T=d.g[m],D=0;D<T.length;D++)ce(T[D]);delete d.g[m],d.h--}}this.F=null},ge.prototype.K=function(d,m,T,D){return this.i.add(String(d),m,!1,T,D)},ge.prototype.L=function(d,m,T,D){return this.i.add(String(d),m,!0,T,D)};function et(d,m,T,D){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Q=0;Q<m.length;++Q){var de=m[Q];if(de&&!de.da&&de.capture==T){var At=de.listener,Sn=de.ha||de.src;de.fa&&W(d.i,de),z=At.call(Sn,D)!==!1&&z}}return z&&!D.defaultPrevented}function Pt(d,m,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function oi(d){d.g=Pt(()=>{d.g=null,d.i&&(d.i=!1,oi(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class Hn extends ke{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(d){ke.call(this),this.h=d,this.g={}}w(Vi,ke);var $n=[];function ji(d){V(d.g,function(m,T){this.g.hasOwnProperty(T)&&M(m)},d),d.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),ji(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=a.JSON.stringify,Ko=a.JSON.parse,Kc=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Fi(){}Fi.prototype.h=null;function Yo(d){return d.h||(d.h=d.i())}function Yc(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zo(){ze.call(this,"d")}w(Zo,ze);function Zc(){ze.call(this,"c")}w(Zc,ze);var ai={},gf=null;function Xo(){return gf=gf||new ge}ai.La="serverreachability";function Jo(d){ze.call(this,ai.La,d)}w(Jo,ze);function li(d){const m=Xo();Ve(m,new Jo(m))}ai.STAT_EVENT="statevent";function vf(d,m){ze.call(this,ai.STAT_EVENT,d),this.stat=m}w(vf,ze);function bn(d){const m=Xo();Ve(m,new vf(m,d))}ai.Ma="timingevent";function j(d,m){ze.call(this,ai.Ma,d),this.size=m}w(j,ze);function F(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function G(){this.g=!0}G.prototype.xa=function(){this.g=!1};function J(d,m,T,D,z,Q){d.info(function(){if(d.g)if(Q)for(var de="",At=Q.split("&"),Sn=0;Sn<At.length;Sn++){var yt=At[Sn].split("=");if(1<yt.length){var Pn=yt[0];yt=yt[1];var Nn=Pn.split("_");de=2<=Nn.length&&Nn[1]=="type"?de+(Pn+"="+yt+"&"):de+(Pn+"=redacted&")}}else de=null;else de=Q;return"XMLHTTP REQ ("+D+") [attempt "+z+"]: "+m+`
`+T+`
`+de})}function he(d,m,T,D,z,Q,de){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+z+"]: "+m+`
`+T+`
`+Q+" "+de})}function Ce(d,m,T,D){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Se(d,T)+(D?" "+D:"")})}function Fe(d,m){d.info(function(){return"TIMEOUT: "+m})}G.prototype.info=function(){};function Se(d,m){if(!d.g)return m;if(!m)return null;try{var T=JSON.parse(m);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var D=T[d];if(!(2>D.length)){var z=D[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var de=1;de<z.length;de++)z[de]=""}}}}return Rs(T)}catch{return m}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},we={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ae;function $e(){}w($e,Fi),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},Ae=new $e;function Ye(d,m,T,D){this.j=d,this.i=m,this.l=T,this.R=D||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new on}function on(){this.i=null,this.g="",this.h=!1}var St={},ut={};function Rt(d,m,T){d.L=1,d.v=Ef($i(m)),d.m=T,d.P=!0,Bi(d,null)}function Bi(d,m){d.F=Date.now(),Wn(d),d.A=$i(d.v);var T=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),QS(T.i,"t",D),d.C=0,T=d.j.J,d.h=new on,d.g=fT(d.j,T?m:null,!d.m),0<d.O&&(d.M=new Hn(h(d.Y,d,d.g),d.O)),m=d.U,T=d.g,D=d.ca;var z="readystatechange";Array.isArray(z)||(z&&($n[0]=z.toString()),z=$n);for(var Q=0;Q<z.length;Q++){var de=De(T,z[Q],D||m.handleEvent,!1,m.h||m);if(!de)break;m.g[de.key]=de}m=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),li(),J(d.i,d.u,d.A,d.l,d.R,d.m)}Ye.prototype.ca=function(d){d=d.target;const m=this.M;m&&Wi(d)==3?m.j():this.Y(d)},Ye.prototype.Y=function(d){try{if(d==this.g)e:{const Nn=Wi(this.g);var m=this.g.Ba();const fl=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||tT(this.g)))){this.J||Nn!=4||m==7||(m==8||0>=fl?li(3):li(2)),zi(this);var T=this.g.Z();this.X=T;t:if(Is(this)){var D=tT(this.g);d="";var z=D.length,Q=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),dr(this);var de="";break t}this.h.i=new a.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,d+=this.h.i.decode(D[m],{stream:!(Q&&m==z-1)});D.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,he(this.i,this.u,this.A,this.l,this.R,Nn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Sn=this.g;if((At=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(At)){var yt=At;break t}}yt=null}if(T=yt)Ce(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,T);else{this.o=!1,this.s=3,bn(12),Ir(this),dr(this);break e}}if(this.P){T=!0;let Ur;for(;!this.J&&this.C<de.length;)if(Ur=Fr(this,de),Ur==ut){Nn==4&&(this.s=4,bn(14),T=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==St){this.s=4,bn(15),Ce(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else Ce(this.i,this.l,Ur,null),Ds(this,Ur);if(Is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||de.length!=0||this.h.h||(this.s=1,bn(16),T=!1),this.o=this.o&&T,!T)Ce(this.i,this.l,de,"[Invalid Chunked Response]"),Ir(this),dr(this);else if(0<de.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Bg(Pn),Pn.M=!0,bn(11))}}else Ce(this.i,this.l,de,null),Ds(this,de);Nn==4&&Ir(this),this.o&&!this.J&&(Nn==4?lT(this.j,this):(this.o=!1,Wn(this)))}else oj(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),Ir(this),dr(this)}}}catch{}finally{}};function Is(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Fr(d,m){var T=d.C,D=m.indexOf(`
`,T);return D==-1?ut:(T=Number(m.substring(T,D)),isNaN(T)?St:(D+=1,D+T>m.length?ut:(m=m.slice(D,D+T),d.C=D+T,m)))}Ye.prototype.cancel=function(){this.J=!0,Ir(this)};function Wn(d){d.S=Date.now()+d.I,cl(d,d.I)}function cl(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=F(h(d.ba,d),m)}function zi(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ye.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Fe(this.i,this.A),this.L!=2&&(li(),bn(17)),Ir(this),this.s=2,dr(this)):cl(this,this.S-d)};function dr(d){d.j.G==0||d.J||lT(d.j,d)}function Ir(d){zi(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,ji(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Ds(d,m){try{var T=d.j;if(T.G!=0&&(T.g==d||Ut(T.h,d))){if(!d.K&&Ut(T.h,d)&&T.G==3){try{var D=T.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var z=D;if(z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Af(T),xf(T);else break e;Ug(T),bn(18)}}else T.za=z[1],0<T.za-T.T&&37500>z[2]&&T.F&&T.v==0&&!T.C&&(T.C=F(h(T.Za,T),6e3));if(1>=ks(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ta(T,11)}else if((d.K||T.g==d)&&Af(T),!v(m))for(z=T.Da.g.parse(m),m=0;m<z.length;m++){let yt=z[m];if(T.T=yt[0],yt=yt[1],T.G==2)if(yt[0]=="c"){T.K=yt[1],T.ia=yt[2];const Pn=yt[3];Pn!=null&&(T.la=Pn,T.j.info("VER="+T.la));const Nn=yt[4];Nn!=null&&(T.Aa=Nn,T.j.info("SVER="+T.Aa));const fl=yt[5];fl!=null&&typeof fl=="number"&&0<fl&&(D=1.5*fl,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Ur=d.g;if(Ur){const If=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(If){var Q=D.h;Q.g||If.indexOf("spdy")==-1&&If.indexOf("quic")==-1&&If.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ci(Q,Q.h),Q.h=null))}if(D.D){const zg=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;zg&&(D.ya=zg,Ot(D.I,D.D,zg))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var de=d;if(D.qa=dT(D,D.J?D.ia:null,D.W),de.K){Xc(D.h,de);var At=de,Sn=D.L;Sn&&(At.I=Sn),At.B&&(zi(At),Wn(At)),D.g=de}else oT(D);0<T.i.length&&Cf(T)}else yt[0]!="stop"&&yt[0]!="close"||ta(T,7);else T.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?ta(T,7):Fg(T):yt[0]!="noop"&&T.l&&T.l.ta(yt),T.v=0)}}li(4)}catch{}}var ht=class{constructor(d,m){this.g=d,this.map=m}};function Nt(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hi(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ks(d){return d.h?1:d.g?d.g.size:0}function Ut(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function ci(d,m){d.g?d.g.add(m):d.h=m}function Xc(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Nt.prototype.cancel=function(){if(this.i=yf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yf(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const T of d.g.values())m=m.concat(T.D);return m}return g(d.i)}function W2(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],T=d.length,D=0;D<T;D++)m.push(d[D]);return m}m=[],T=0;for(D in d)m[T++]=d[D];return m}function G2(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var T=0;T<d;T++)m.push(T);return m}m=[],T=0;for(const D in d)m[T++]=D;return m}}}function zS(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var T=G2(d),D=W2(d),z=D.length,Q=0;Q<z;Q++)m.call(void 0,D[Q],T&&T[Q],d)}var HS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q2(d,m){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var D=d[T].indexOf("="),z=null;if(0<=D){var Q=d[T].substring(0,D);z=d[T].substring(D+1)}else Q=d[T];m(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ea(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ea){this.h=d.h,_f(this,d.j),this.o=d.o,this.g=d.g,wf(this,d.s),this.l=d.l;var m=d.i,T=new tu;T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),$S(this,T),this.m=d.m}else d&&(m=String(d).match(HS))?(this.h=!1,_f(this,m[1]||"",!0),this.o=Jc(m[2]||""),this.g=Jc(m[3]||"",!0),wf(this,m[4]),this.l=Jc(m[5]||"",!0),$S(this,m[6]||"",!0),this.m=Jc(m[7]||"")):(this.h=!1,this.i=new tu(null,this.h))}ea.prototype.toString=function(){var d=[],m=this.j;m&&d.push(eu(m,WS,!0),":");var T=this.g;return(T||m=="file")&&(d.push("//"),(m=this.o)&&d.push(eu(m,WS,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(eu(T,T.charAt(0)=="/"?Y2:K2,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",eu(T,X2)),d.join("")};function $i(d){return new ea(d)}function _f(d,m,T){d.j=T?Jc(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function wf(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function $S(d,m,T){m instanceof tu?(d.i=m,J2(d.i,d.h)):(T||(m=eu(m,Z2)),d.i=new tu(m,d.h))}function Ot(d,m,T){d.i.set(m,T)}function Ef(d){return Ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Jc(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function eu(d,m,T){return typeof d=="string"?(d=encodeURI(d).replace(m,Q2),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Q2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var WS=/[#\/\?@]/g,K2=/[#\?:]/g,Y2=/[#\?]/g,Z2=/[#\?@]/g,X2=/#/g;function tu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ps(d){d.g||(d.g=new Map,d.h=0,d.i&&q2(d.i,function(m,T){d.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}t=tu.prototype,t.add=function(d,m){Ps(this),this.i=null,d=ul(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(m),this.h+=1,this};function GS(d,m){Ps(d),m=ul(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function qS(d,m){return Ps(d),m=ul(d,m),d.g.has(m)}t.forEach=function(d,m){Ps(this),this.g.forEach(function(T,D){T.forEach(function(z){d.call(m,z,D,this)},this)},this)},t.na=function(){Ps(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),T=[];for(let D=0;D<m.length;D++){const z=d[D];for(let Q=0;Q<z.length;Q++)T.push(m[D])}return T},t.V=function(d){Ps(this);let m=[];if(typeof d=="string")qS(this,d)&&(m=m.concat(this.g.get(ul(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)m=m.concat(d[T])}return m},t.set=function(d,m){return Ps(this),this.i=null,d=ul(this,d),qS(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function QS(d,m,T){GS(d,m),0<T.length&&(d.i=null,d.g.set(ul(d,m),g(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var T=0;T<m.length;T++){var D=m[T];const Q=encodeURIComponent(String(D)),de=this.V(D);for(D=0;D<de.length;D++){var z=Q;de[D]!==""&&(z+="="+encodeURIComponent(String(de[D]))),d.push(z)}}return this.i=d.join("&")};function ul(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function J2(d,m){m&&!d.j&&(Ps(d),d.i=null,d.g.forEach(function(T,D){var z=D.toLowerCase();D!=z&&(GS(this,D),QS(this,z,T))},d)),d.j=m}function ej(d,m){const T=new G;if(a.Image){const D=new Image;D.onload=p(Ns,T,"TestLoadImage: loaded",!0,m,D),D.onerror=p(Ns,T,"TestLoadImage: error",!1,m,D),D.onabort=p(Ns,T,"TestLoadImage: abort",!1,m,D),D.ontimeout=p(Ns,T,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else m(!1)}function tj(d,m){const T=new G,D=new AbortController,z=setTimeout(()=>{D.abort(),Ns(T,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:D.signal}).then(Q=>{clearTimeout(z),Q.ok?Ns(T,"TestPingServer: ok",!0,m):Ns(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Ns(T,"TestPingServer: error",!1,m)})}function Ns(d,m,T,D,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),D(T)}catch{}}function nj(){this.g=new Kc}function rj(d,m,T){const D=T||"";try{zS(d,function(z,Q){let de=z;c(z)&&(de=Rs(z)),m.push(D+Q+"="+encodeURIComponent(de))})}catch(z){throw m.push(D+"type="+encodeURIComponent("_badmap")),z}}function bf(d){this.l=d.Ub||null,this.j=d.eb||!1}w(bf,Fi),bf.prototype.g=function(){return new Sf(this.l,this.j)},bf.prototype.i=function(d){return function(){return d}}({});function Sf(d,m){ge.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Sf,ge),t=Sf.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,ru(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KS(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function KS(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?nu(this):ru(this),this.readyState==3&&KS(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,nu(this))},t.Qa=function(d){this.g&&(this.response=d,nu(this))},t.ga=function(){this.g&&nu(this)};function nu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ru(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=m.next();return d.join(`\r
`)};function ru(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function YS(d){let m="";return V(d,function(T,D){m+=D,m+=":",m+=T,m+=`\r
`}),m}function jg(d,m,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=YS(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Ot(d,m,T))}function Kt(d){ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Kt,ge);var ij=/^https?$/i,sj=["POST","PUT"];t=Kt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?Yo(this.o):Yo(Ae),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(Q){ZS(this,Q);return}if(d=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var z in D)T.set(z,D[z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Q of D.keys())T.set(Q,D.get(Q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sj,m,void 0))||D||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of T)this.g.setRequestHeader(Q,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eT(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){ZS(this,Q)}};function ZS(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,XS(d),Tf(d)}function XS(d){d.A||(d.A=!0,Ve(d,"complete"),Ve(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ve(this,"complete"),Ve(this,"abort"),Tf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tf(this,!0)),Kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?JS(this):this.bb())},t.bb=function(){JS(this)};function JS(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Wi(d)!=4||d.Z()!=2)){if(d.u&&Wi(d)==4)Pt(d.Ea,0,d);else if(Ve(d,"readystatechange"),Wi(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var D;if(D=de===0){var z=String(d.D).match(HS)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),D=!ij.test(z?z.toLowerCase():"")}T=D}if(T)Ve(d,"complete"),Ve(d,"success");else{d.m=6;try{var Q=2<Wi(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",XS(d)}}finally{Tf(d)}}}}function Tf(d,m){if(d.g){eT(d);const T=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Ve(d,"ready");try{T.onreadystatechange=D}catch{}}}function eT(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Wi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Ko(m)}};function tT(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function oj(d){const m={};d=(d.g&&2<=Wi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(v(d[D]))continue;var T=N(d[D]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=m[z]||[];m[z]=Q,Q.push(T)}S(m,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function iu(d,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||m}function nT(d){this.Aa=0,this.i=[],this.j=new G,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=iu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=iu("baseRetryDelayMs",5e3,d),this.cb=iu("retryDelaySeedMs",1e4,d),this.Wa=iu("forwardChannelMaxRetries",2,d),this.wa=iu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Nt(d&&d.concurrentRequestLimit),this.Da=new nj,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nT.prototype,t.la=8,t.G=1,t.connect=function(d,m,T,D){bn(0),this.W=d,this.H=m||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=dT(this,null,this.W),Cf(this)};function Fg(d){if(rT(d),d.G==3){var m=d.U++,T=$i(d.I);if(Ot(T,"SID",d.K),Ot(T,"RID",m),Ot(T,"TYPE","terminate"),su(d,T),m=new Ye(d,d.j,m),m.L=2,m.v=Ef($i(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=m.v,T=!0),T||(m.g=fT(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wn(m)}uT(d)}function xf(d){d.g&&(Bg(d),d.g.cancel(),d.g=null)}function rT(d){xf(d),d.u&&(a.clearTimeout(d.u),d.u=null),Af(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Cf(d){if(!Hi(d.h)&&!d.s){d.s=!0;var m=d.Ga;ve||pe(),H||(ve(),H=!0),ee.add(m,d),d.B=0}}function aj(d,m){return ks(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=F(h(d.Ga,d,m),cT(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new Ye(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=C(Q),I(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=sT(this,z,m),T=$i(this.I),Ot(T,"RID",d),Ot(T,"CVER",22),this.D&&Ot(T,"X-HTTP-Session-Id",this.D),su(this,T),Q&&(this.O?m="headers="+encodeURIComponent(String(YS(Q)))+"&"+m:this.m&&jg(T,this.m,Q)),ci(this.h,z),this.Ua&&Ot(T,"TYPE","init"),this.P?(Ot(T,"$req",m),Ot(T,"SID","null"),z.T=!0,Rt(z,T,null)):Rt(z,T,m),this.G=2}}else this.G==3&&(d?iT(this,d):this.i.length==0||Hi(this.h)||iT(this))};function iT(d,m){var T;m?T=m.l:T=d.U++;const D=$i(d.I);Ot(D,"SID",d.K),Ot(D,"RID",T),Ot(D,"AID",d.T),su(d,D),d.m&&d.o&&jg(D,d.m,d.o),T=new Ye(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),m&&(d.i=m.D.concat(d.i)),m=sT(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ci(d.h,T),Rt(T,D,m)}function su(d,m){d.H&&V(d.H,function(T,D){Ot(m,D,T)}),d.l&&zS({},function(T,D){Ot(m,D,T)})}function sT(d,m,T){T=Math.min(d.i.length,T);var D=d.l?h(d.l.Na,d.l,d):null;e:{var z=d.i;let Q=-1;for(;;){const de=["count="+T];Q==-1?0<T?(Q=z[0].g,de.push("ofs="+Q)):Q=0:de.push("ofs="+Q);let At=!0;for(let Sn=0;Sn<T;Sn++){let yt=z[Sn].g;const Pn=z[Sn].map;if(yt-=Q,0>yt)Q=Math.max(0,z[Sn].g-100),At=!1;else try{rj(Pn,de,"req"+yt+"_")}catch{D&&D(Pn)}}if(At){D=de.join("&");break e}}}return d=d.i.splice(0,T),m.D=d,D}function oT(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;ve||pe(),H||(ve(),H=!0),ee.add(m,d),d.v=0}}function Ug(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=F(h(d.Fa,d),cT(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,aT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=F(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),xf(this),aT(this))};function Bg(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function aT(d){d.g=new Ye(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=$i(d.qa);Ot(m,"RID","rpc"),Ot(m,"SID",d.K),Ot(m,"AID",d.T),Ot(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ot(m,"TO",d.ja),Ot(m,"TYPE","xmlhttp"),su(d,m),d.m&&d.o&&jg(m,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ef($i(m)),T.m=null,T.P=!0,Bi(T,d)}t.Za=function(){this.C!=null&&(this.C=null,xf(this),Ug(this),bn(19))};function Af(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function lT(d,m){var T=null;if(d.g==m){Af(d),Bg(d),d.g=null;var D=2}else if(Ut(d.h,m))T=m.D,Xc(d.h,m),D=1;else return;if(d.G!=0){if(m.o)if(D==1){T=m.m?m.m.length:0,m=Date.now()-m.F;var z=d.B;D=Xo(),Ve(D,new j(D,T)),Cf(d)}else oT(d);else if(z=m.s,z==3||z==0&&0<m.X||!(D==1&&aj(d,m)||D==2&&Ug(d)))switch(T&&0<T.length&&(m=d.h,m.i=m.i.concat(T)),z){case 1:ta(d,5);break;case 4:ta(d,10);break;case 3:ta(d,6);break;default:ta(d,2)}}}function cT(d,m){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*m}function ta(d,m){if(d.j.info("Error code "+m),m==2){var T=h(d.fb,d),D=d.Xa;const z=!D;D=new ea(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_f(D,"https"),Ef(D),z?ej(D.toString(),T):tj(D.toString(),T)}else bn(2);d.G=0,d.l&&d.l.sa(m),uT(d),rT(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function uT(d){if(d.G=0,d.ka=[],d.l){const m=yf(d.h);(m.length!=0||d.i.length!=0)&&(E(d.ka,m),E(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function dT(d,m,T){var D=T instanceof ea?$i(T):new ea(T);if(D.g!="")m&&(D.g=m+"."+D.g),wf(D,D.s);else{var z=a.location;D=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Q=new ea(null);D&&_f(Q,D),m&&(Q.g=m),z&&wf(Q,z),T&&(Q.l=T),D=Q}return T=d.D,m=d.ya,T&&m&&Ot(D,T,m),Ot(D,"VER",d.la),su(d,D),D}function fT(d,m,T){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new Kt(new bf({eb:T})):new Kt(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hT(){}t=hT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rf(){}Rf.prototype.g=function(d,m){return new fr(d,m)};function fr(d,m){ge.call(this),this.g=new nT(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!v(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new dl(this)}w(fr,ge),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){Fg(this.g)},fr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Rs(d),d=T);m.i.push(new ht(m.Ya++,d)),m.G==3&&Cf(m)},fr.prototype.N=function(){this.g.l=null,delete this.j,Fg(this.g),delete this.g,fr.aa.N.call(this)};function pT(d){Zo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const T in m){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}w(pT,Zo);function mT(){Zc.call(this),this.status=1}w(mT,Zc);function dl(d){this.g=d}w(dl,hT),dl.prototype.ua=function(){Ve(this.g,"a")},dl.prototype.ta=function(d){Ve(this.g,new pT(d))},dl.prototype.sa=function(d){Ve(this.g,new mT)},dl.prototype.ra=function(){Ve(this.g,"b")},Rf.prototype.createWebChannel=Rf.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,fP=function(){return new Rf},dP=function(){return Xo()},uP=ai,p_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,kh=be,we.COMPLETE="complete",cP=we,Yc.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Cu=Yc,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,lP=Kt}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",Y0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new AE("@firebase/firestore");function bl(){return Ba.logLevel}function _e(t,...e){if(Ba.logLevel<=ot.DEBUG){const n=e.map(kE);Ba.debug(`Firestore (${jc}): ${t}`,...n)}}function hs(t,...e){if(Ba.logLevel<=ot.ERROR){const n=e.map(kE);Ba.error(`Firestore (${jc}): ${t}`,...n)}}function To(t,...e){if(Ba.logLevel<=ot.WARN){const n=e.map(kE);Ba.warn(`Firestore (${jc}): ${t}`,...n)}}function kE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hP(t,r,n)}function hP(t,e,n){let r=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hs(r),new Error(r)}function wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hP(e,i,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class rH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iH{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new is;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new is,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new pP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class sH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function m_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return nt(r,i);{const s=mP(),o=cH(s.encode(X0(t,n)),s.encode(X0(e,n)));return o!==0?o:nt(r,i)}}n+=r>65535?2:1}return nt(t.length,e.length)}function X0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function cH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return nt(t[n],e[n]);return nt(t.length,e.length)}function mc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__name__";class hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=hi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return nt(e.length,n.length)}static compareSegments(e,n){const r=hi.isNumericId(e),i=hi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?hi.extractNumericId(e).compare(hi.extractNumericId(n)):m_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class Vt extends hi{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const uH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends hi{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return uH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new Cn([J0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Te(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Te(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Te(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Vt.fromString(e))}static fromName(e){return new Ne(Vt.fromString(e).popFirst(5))}static empty(){return new Ne(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t,e,n){if(!n)throw new Te(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dH(t,e,n,r){if(e===!0&&r===!0)throw new Te(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ex(t){if(!Ne.isDocumentKey(t))throw new Te(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tx(t){if(Ne.isDocumentKey(t))throw new Te(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function NE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=NE(t);throw new Te(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kd(t,e){if(!vP(t))throw new Te(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Te(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=-62135596800,rx=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rx);return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nx)throw new Te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rx}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kd(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:fn("string",jt._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new jt(0,0))}static max(){return new We(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=-1;function fH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new xo(i,Ne.empty(),e)}function hH(t){return new xo(t.readTime,t.key,wd)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(We.min(),Ne.empty(),wd)}static max(){return new xo(We.max(),Ne.empty(),wd)}}function pH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==mH)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}$m.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=-1;function Wm(t){return t==null}function Sp(t){return t===0&&1/t==-1/0}function yH(t){return typeof t=="number"&&Number.isInteger(t)&&!Sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="";function _H(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ix(e)),e=wH(t.get(n),e);return ix(e)}function wH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case yP:n+="";break;default:n+=s}}return n}function ix(t){return t+yP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _P(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yf(this.root,e,this.comparator,!0)}}class Yf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xn.RED,this.left=i??xn.EMPTY,this.right=s??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new _r([])}unionWith(e){let n=new vn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wP("Invalid base64 string: "+s):s}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const EH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=EH.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="server_timestamp",bP="__type__",SP="__previous_value__",TP="__local_write_time__";function ME(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[bP])===null||n===void 0?void 0:n.stringValue)===EP}function Gm(t){const e=t.mapValue.fields[SP];return ME(e)?Gm(e):e}function Ed(t){const e=Co(t.mapValue.fields[TP].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n,r,i,s,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Tp="(default)";class bd{constructor(e,n){this.projectId=e,this.database=n||Tp}static empty(){return new bd("","")}get isDefaultDatabase(){return this.database===Tp}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="__type__",SH="__max__",Zf={mapValue:{}},CP="__vector__",xp="value";function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ME(t)?4:xH(t)?9007199254740991:TH(t)?10:11:je(28295,{value:t})}function Di(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ed(t).isEqual(Ed(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Co(i.timestampValue),a=Co(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ao(i.bytesValue).isEqual(Ao(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Jt(i.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Jt(i.integerValue)===Jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Jt(i.doubleValue),a=Jt(s.doubleValue);return o===a?Sp(o)===Sp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(sx(o)!==sx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Di(o[l],a[l])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Sd(t,e){return(t.values||[]).find(n=>Di(n,e))!==void 0}function gc(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Jt(s.integerValue||s.doubleValue),l=Jt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ax(t.timestampValue,e.timestampValue);case 4:return ax(Ed(t),Ed(e));case 5:return m_(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ao(s),l=Ao(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=nt(a[c],l[c]);if(u!==0)return u}return nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=nt(Jt(s.latitude),Jt(o.latitude));return a!==0?a:nt(Jt(s.longitude),Jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const f=s.fields||{},h=o.fields||{},p=(a=f[xp])===null||a===void 0?void 0:a.arrayValue,w=(l=h[xp])===null||l===void 0?void 0:l.arrayValue,g=nt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:lx(p,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Zf.mapValue&&o===Zf.mapValue)return 0;if(s===Zf.mapValue)return 1;if(o===Zf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=m_(l[f],u[f]);if(h!==0)return h;const p=gc(a[l[f]],c[u[f]]);if(p!==0)return p}return nt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw je(23264,{le:n})}}function ax(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Co(t),r=Co(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function lx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=gc(n[i],r[i]);if(s)return s}return nt(n.length,r.length)}function vc(t){return g_(t)}function g_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=g_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${g_(n.fields[o])}`;return i+"}"}(t.mapValue):je(61005,{value:t})}function Ph(t){switch(Ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gm(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ph(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return zo(r.fields,(s,o)=>{i+=s.length+Ph(o)}),i}(t.mapValue);default:throw je(13486,{value:t})}}function v_(t){return!!t&&"integerValue"in t}function LE(t){return!!t&&"arrayValue"in t}function cx(t){return!!t&&"nullValue"in t}function ux(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nh(t){return!!t&&"mapValue"in t}function TH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xP])===null||n===void 0?void 0:n.stringValue)===CP}function Wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rr(Wu(this.value))}}function AP(t){const e=[];return zo(t.fields,(n,r)=>{const i=new Cn([n]);if(Nh(r)){const s=AP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fn(e,0,We.min(),We.min(),We.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new Fn(e,1,n,We.min(),r,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,We.min(),We.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,We.min(),We.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.position=e,this.inclusive=n}}function dx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ne.comparator(Ne.fromName(o.referenceValue),n.key):r=gc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n="asc"){this.field=e,this.dir=n}}function CH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{}class mn extends RP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RH(e,n,r):n==="array-contains"?new kH(e,r):n==="in"?new PH(e,r):n==="not-in"?new NH(e,r):n==="array-contains-any"?new OH(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IH(e,r):new DH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gc(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends RP{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ki(e,n)}matches(e){return IP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function IP(t){return t.op==="and"}function DP(t){return AH(t)&&IP(t)}function AH(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function y_(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+vc(t.value);if(DP(t))return t.filters.map(e=>y_(e)).join(",");{const e=t.filters.map(n=>y_(n)).join(",");return`${t.op}(${e})`}}function kP(t,e){return t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&Di(r.value,i.value)}(t,e):t instanceof ki?function(r,i){return i instanceof ki&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kP(o,i.filters[a]),!0):!1}(t,e):void je(19439)}function PP(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${vc(n.value)}`}(t):t instanceof ki?function(n){return n.op.toString()+" {"+n.getFilters().map(PP).join(" ,")+"}"}(t):"Filter"}class RH extends mn{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class IH extends mn{constructor(e,n){super(e,"in",n),this.keys=NP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DH extends mn{constructor(e,n){super(e,"not-in",n),this.keys=NP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class kH extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return LE(n)&&Sd(n.arrayValue,this.value)}}class PH extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class NH extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sd(this.value.arrayValue,n)}}class OH extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!LE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function hx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new MH(t,e,n,r,i,s,o)}function VE(t){const e=Qe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vc(r)).join(",")),e.Pe=n}return e.Pe}function jE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fx(t.startAt,e.startAt)&&fx(t.endAt,e.endAt)}function __(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function LH(t,e,n,r,i,s,o,a){return new qm(t,e,n,r,i,s,o,a)}function Qm(t){return new qm(t)}function px(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VH(t){return t.collectionGroup!==null}function Gu(t){const e=Qe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vn(Cn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Ap(s,r))}),n.has(Cn.keyField().canonicalString())||e.Te.push(new Ap(Cn.keyField(),r))}return e.Te}function bi(t){const e=Qe(t);return e.Ie||(e.Ie=jH(e,Gu(t))),e.Ie}function jH(t,e){if(t.limitType==="F")return hx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ap(i.field,s)});const n=t.endAt?new Cp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cp(t.startAt.position,t.startAt.inclusive):null;return hx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w_(t,e,n){return new qm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return jE(bi(t),bi(e))&&t.limitType===e.limitType}function OP(t){return`${VE(bi(t))}|lt:${t.limitType}`}function Sl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>PP(i)).join(", ")}]`),Wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vc(i)).join(",")),`Target(${r})`}(bi(t))}; limitType=${t.limitType})`}function Ym(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=dx(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Gu(r),i)||r.endAt&&!function(o,a,l){const c=dx(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Gu(r),i))}(t,e)}function FH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MP(t){return(e,n)=>{let r=!1;for(const i of Gu(t)){const s=UH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UH(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?gc(l,c):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _P(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new Qt(Ne.comparator);function ps(){return BH}const LP=new Qt(Ne.comparator);function Au(...t){let e=LP;for(const n of t)e=e.insert(n.key,n);return e}function VP(t){let e=LP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ya(){return qu()}function jP(){return qu()}function qu(){return new rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const zH=new Qt(Ne.comparator),HH=new vn(Ne.comparator);function lt(...t){let e=HH;for(const n of t)e=e.add(n);return e}const $H=new vn(nt);function WH(){return $H}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(e)?"-0":e}}function FP(t){return{integerValue:""+t}}function GH(t,e){return yH(e)?FP(e):FE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this._=void 0}}function qH(t,e,n){return t instanceof Rp?function(i,s){const o={fields:{[bP]:{stringValue:EP},[TP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ME(s)&&(s=Gm(s)),s&&(o.fields[SP]=s),{mapValue:o}}(n,e):t instanceof Td?BP(t,e):t instanceof xd?zP(t,e):function(i,s){const o=UP(i,s),a=mx(o)+mx(i.Ee);return v_(o)&&v_(i.Ee)?FP(a):FE(i.serializer,a)}(t,e)}function QH(t,e,n){return t instanceof Td?BP(t,e):t instanceof xd?zP(t,e):n}function UP(t,e){return t instanceof Ip?function(r){return v_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rp extends Zm{}class Td extends Zm{constructor(e){super(),this.elements=e}}function BP(t,e){const n=HP(e);for(const r of t.elements)n.some(i=>Di(i,r))||n.push(r);return{arrayValue:{values:n}}}class xd extends Zm{constructor(e){super(),this.elements=e}}function zP(t,e){let n=HP(e);for(const r of t.elements)n=n.filter(i=>!Di(i,r));return{arrayValue:{values:n}}}class Ip extends Zm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function mx(t){return Jt(t.integerValue||t.doubleValue)}function HP(t){return LE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Td&&i instanceof Td||r instanceof xd&&i instanceof xd?mc(r.elements,i.elements,Di):r instanceof Ip&&i instanceof Ip?Di(r.Ee,i.Ee):r instanceof Rp&&i instanceof Rp}(t.transform,e.transform)}class YH{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xm{}function $P(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jm(t.key,ur.none()):new Yd(t.key,t.data,ur.none());{const n=t.data,r=rr.empty();let i=new vn(Cn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ho(t.key,r,new _r(i.toArray()),ur.none())}}function ZH(t,e,n){t instanceof Yd?function(i,s,o){const a=i.value.clone(),l=vx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ho?function(i,s,o){if(!Oh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(WP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qu(t,e,n,r){return t instanceof Yd?function(s,o,a,l){if(!Oh(s.precondition,o))return a;const c=s.value.clone(),u=yx(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ho?function(s,o,a,l){if(!Oh(s.precondition,o))return a;const c=yx(s.fieldTransforms,l,o),u=o.data;return u.setAll(WP(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Oh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=UP(r.transform,i||null);s!=null&&(n===null&&(n=rr.empty()),n.set(r.field,s))}return n||null}function gx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mc(r,i,(s,o)=>KH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends Xm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ho extends Xm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vx(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,QH(o,a,n[i]))}return r}function yx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qH(s,o,e))}return r}class Jm extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JH extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$P(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(n,r)=>gx(n,r))&&mc(this.baseMutations,e.baseMutations,(n,r)=>gx(n,r))}}class UE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return zH}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new UE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,pt;function r$(t){switch(t){case X.OK:return je(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function GP(t){if(t===void 0)return hs("GRPC error has no .code"),X.UNKNOWN;switch(t){case ln.OK:return X.OK;case ln.CANCELLED:return X.CANCELLED;case ln.UNKNOWN:return X.UNKNOWN;case ln.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ln.INTERNAL:return X.INTERNAL;case ln.UNAVAILABLE:return X.UNAVAILABLE;case ln.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ln.NOT_FOUND:return X.NOT_FOUND;case ln.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ln.ABORTED:return X.ABORTED;case ln.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ln.DATA_LOSS:return X.DATA_LOSS;default:return je(39323,{code:t})}}(pt=ln||(ln={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new mo([4294967295,4294967295],0);function _x(t){const e=mP().encode(t),n=new aP;return n.update(e),new Uint8Array(n.digest())}function wx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,s],0)]}class BE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=mo.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(i$)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=_x(e),[r,i]=wx(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new BE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=_x(e),[r,i]=wx(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eg(We.min(),i,new Qt(nt),ps(),lt())}}class Zd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zd(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class qP{constructor(e,n){this.targetId=e,this.De=n}}class QP{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ex{constructor(){this.ve=0,this.Ce=bx(),this.Fe=kn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=lt(),n=lt(),r=lt();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:je(38017,{changeType:s})}}),new Zd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=bx()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class s${constructor(e){this.We=e,this.Ge=new Map,this.ze=ps(),this.je=Xf(),this.Je=Xf(),this.He=new Qt(nt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(__(s))if(r===0){const o=new Ne(s.path);this.Xe(n,o,Fn.newNoDocument(o,We.min()))}else wt(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ao(r).toUint8Array()}catch(l){if(l instanceof wP)return To("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new BE(o,i,s)}catch(l){return To(l instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&__(a.target)){const l=new Ne(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Fn.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=lt();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new eg(e,n,this.He,this.ze,r);return this.ze=ps(),this.je=Xf(),this.Je=Xf(),this.He=new Qt(nt),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Ex,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new vn(nt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new vn(nt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Ex),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Xf(){return new Qt(Ne.comparator)}function bx(){return new Qt(Ne.comparator)}const o$={asc:"ASCENDING",desc:"DESCENDING"},a$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l$={and:"AND",or:"OR"};class c${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function E_(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function Dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u$(t,e){return Dp(t,e.toTimestamp())}function Si(t){return wt(!!t,49232),We.fromTimestamp(function(n){const r=Co(n);return new jt(r.seconds,r.nanos)}(t))}function zE(t,e){return b_(t,e).canonicalString()}function b_(t,e){const n=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YP(t){const e=Vt.fromString(t);return wt(t1(e),10190,{key:e.toString()}),e}function S_(t,e){return zE(t.databaseId,e.path)}function Tv(t,e){const n=YP(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(XP(n))}function ZP(t,e){return zE(t.databaseId,e)}function d$(t){const e=YP(t);return e.length===4?Vt.emptyPath():XP(e)}function T_(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XP(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sx(t,e,n){return{name:S_(t,e),fields:n.value.mapValue.fields}}function f$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(wt(u===void 0||typeof u=="string",58123),kn.fromBase64String(u||"")):(wt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),kn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?X.UNKNOWN:GP(c.code);return new Te(u,c.message||"")}(o);n=new QP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tv(t,r.document.name),s=Si(r.document.updateTime),o=r.document.createTime?Si(r.document.createTime):We.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=Fn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Mh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tv(t,r.document),s=r.readTime?Si(r.readTime):We.min(),o=Fn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Mh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tv(t,r.document),s=r.removedTargetIds||[];n=new Mh([],s,i,null)}else{if(!("filter"in e))return je(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new n$(i,s),a=r.targetId;n=new qP(a,o)}}return n}function h$(t,e){let n;if(e instanceof Yd)n={update:Sx(t,e.key,e.value)};else if(e instanceof Jm)n={delete:S_(t,e.key)};else if(e instanceof Ho)n={update:Sx(t,e.key,e.data),updateMask:b$(e.fieldMask)};else{if(!(e instanceof JH))return je(16599,{Rt:e.type});n={verify:S_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Td)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ip)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw je(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:u$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:je(27497)}(t,e.precondition)),n}function p$(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Si(i.updateTime):Si(s);return o.isEqual(We.min())&&(o=Si(s)),new YH(o,i.transformResults||[])}(n,e))):[]}function m$(t,e){return{documents:[ZP(t,e.path)]}}function g$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZP(t,i);const s=function(c){if(c.length!==0)return e1(ki.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Tl(h.field),direction:_$(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=E_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function v$(t){let e=d$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(f){const h=JP(f);return h instanceof ki&&DP(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(w){return new Ap(xl(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Wm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Cp(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Cp(p,h)}(n.endAt)),LH(e,i,o,s,a,"F",l,c)}function y$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xl(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xl(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xl(n.unaryFilter.field);return mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xl(n.unaryFilter.field);return mn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return mn.create(xl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ki.create(n.compositeFilter.filters.map(r=>JP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function _$(t){return o$[t]}function w$(t){return a$[t]}function E$(t){return l$[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function xl(t){return Cn.fromServerFormat(t.fieldPath)}function e1(t){return t instanceof mn?function(n){if(n.op==="=="){if(ux(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(cx(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ux(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(cx(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:w$(n.op),value:n.value}}}(t):t instanceof ki?function(n){const r=n.getFilters().map(i=>e1(i));return r.length===1?r[0]:{compositeFilter:{op:E$(n.op),filters:r}}}(t):je(54877,{filter:t})}function b$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function t1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,i,s=We.min(),o=We.min(),a=kn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e){this.gt=e}}function T$(t){const e=v$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.Dn=new C$}addToCollectionParentIndex(e,n){return this.Dn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(xo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class C${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vn(Vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n1=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(n1,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new yc(0)}static ur(){return new yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="LruGarbageCollector",A$=1048576;function Cx([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class R${constructor(e){this.Tr=e,this.buffer=new vn(Cx),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Cx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){_e(xx,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uc(n)?_e(xx,"Ignoring IndexedDB error during garbage collection: ",n):await Fc(n)}await this.Rr(3e5)})}}class D${constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve($m.ue);const r=new R$(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Tx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tx):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),bl()<=ot.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function k$(t,e){return new D$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qu(r.mutation,i,_r.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const i=ya();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Au();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ps();const o=qu(),a=function(){return qu()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ho)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Qu(u.mutation,c,u.mutation.getFieldMask(),jt.now())):o.set(c.key,_r.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new N$(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qu();let i=new Qt((o,a)=>o-a),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||_r.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||lt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=jP();u.forEach(h=>{if(!s.has(h)){const p=$P(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Z.resolve(ya());let a=wd,l=s;return o.next(c=>Z.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?Z.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,lt())).next(u=>({batchId:a,changes:VP(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let i=Au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Au();return this.indexManager.getCollectionParents(e,s).next(a=>Z.forEach(a,l=>{const c=function(f,h){return new qm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Fn.newInvalidDocument(u)))});let a=Au();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Qu(u.mutation,c,_r.empty(),jt.now()),Ym(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Si(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:T$(i.bundledQuery),readTime:Si(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.overlays=new Qt(Ne.comparator),this.kr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ya();return Z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=ya(),s=n.length+1,o=new Ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ya(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ya(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Z.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new t$(n,r));let s=this.kr.get(n);s===void 0&&(s=lt(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.qr=new vn(yn.Qr),this.$r=new vn(yn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new yn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ne(new Vt([])),r=new yn(n,e),i=new yn(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ne(new Vt([])),r=new yn(n,e),i=new yn(n,e+1);let s=lt();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ne.comparator(e.key,n.key)||nt(e.Hr,n.Hr)}static Ur(e,n){return nt(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new vn(yn.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new e$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new yn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?OE:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(nt);return n.forEach(i=>{const s=new yn(i,0),o=new yn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),Z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ne.isDocumentKey(s)||(s=s.child(""));const o=new yn(new Ne(s),0);let a=new vn(nt);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),Z.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){wt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Z.forEach(n.mutations,i=>{const s=new yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new yn(n,0),i=this.Yr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.ni=e,this.docs=function(){return new Qt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ps();const o=n.path,a=new Ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||pH(hH(u),r)<=0||(i.has(u.key)||Ym(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){je(9500)}ri(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U$(this)}getSize(e){return Z.resolve(this.size)}}class U$ extends P${constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.persistence=e,this.ii=new rl(n=>VE(n),jE),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.si=0,this.oi=new HE,this.targetCount=0,this._i=yc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new yc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.hr(n),Z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Z.waitFor(s).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.ai={},this.overlays={},this.ui=new $m(0),this.ci=!1,this.ci=!0,this.li=new V$,this.referenceDelegate=e(this),this.hi=new B$(this),this.indexManager=new x$,this.remoteDocumentCache=function(i){return new F$(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new S$(n),this.Ti=new M$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new j$(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new z$(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class z$ extends gH{constructor(e){super(),this.currentSequenceNumber=e}}class $E{constructor(e){this.persistence=e,this.Ai=new HE,this.Ri=null}static Vi(e){return new $E(e)}get mi(){if(this.Ri)return this.Ri;throw je(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,r=>{const i=Ne.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,We.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Z.or([()=>Z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class kp{constructor(e,n){this.persistence=e,this.gi=new rl(r=>_H(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=k$(this,n)}static Vi(e,n){return new kp(e,n)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Z.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,We.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}Sr(e,n,r){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=lt(),i=lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new WE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return LB()?8:vH(zn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new H$;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(bl()<=ot.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(bl()<=ot.DEBUG&&_e("QueryEngine","Query:",Sl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(bl()<=ot.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):Z.resolve())}ps(e,n){if(px(n))return Z.resolve(null);let r=bi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=w_(n,null,"F"),r=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=lt(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,w_(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return px(n)||i.isEqual(We.min())?Z.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?Z.resolve(null):(bl()<=ot.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sl(n)),this.vs(e,o,n,fH(i,wd)).next(a=>a))})}bs(e,n){let r=new vn(MP(e));return n.forEach((i,s)=>{Ym(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return bl()<=ot.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.gs.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LocalStore",W$=3e8;class G${constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Qt(nt),this.Ms=new rl(s=>VE(s),jE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O$(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function q$(t,e,n,r){return new G$(t,e,n,r)}async function i1(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=lt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Q$(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=Z.resolve();return h.forEach(w=>{p=p.next(()=>u.getEntry(l,w)).next(g=>{const E=c.docVersions.get(w);wt(E!==null,48541),g.version.compareTo(E)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=lt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function s1(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function K$(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.hi.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,u.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(kn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(g,E,b){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=W$?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,u)&&a.push(n.hi.updateTargetData(s,p))});let l=ps(),c=lt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Y$(s,o,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!r.isEqual(We.min())){const u=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function Y$(t,e,n){let r=lt(),i=lt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ps();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(We.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):_e(GE,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function Z$(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=OE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X$(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Z.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new Xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function x_(t,e,n){const r=Qe(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Uc(o))throw o;_e(GE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Ax(t,e,n){const r=Qe(t);let i=We.min(),s=lt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Qe(l),h=f.Ms.get(u);return h!==void 0?Z.resolve(f.Fs.get(h)):f.hi.getTargetData(c,u)}(r,o,bi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:We.min(),n?s:lt())).next(a=>(J$(r,FH(e),a),{documents:a,qs:s})))}function J$(t,e,n){let r=t.xs.get(e)||We.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class Rx{constructor(){this.activeTargetIds=WH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e3{constructor(){this.Fo=new Rx,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="ConnectivityMonitor";class Dx{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){_e(Ix,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){_e(Ix,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function C_(){return Jf===null?Jf=function(){return 268435456+Math.round(2147483648*Math.random())}():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="RestConnection",n3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Tp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=C_(),a=this.Go(e,n.toUriEncodedString());_e(xv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),u=Lc(c);return this.jo(e,a,l,r,u).then(f=>(_e(xv,`Received RPC '${e}' ${o}: `,f),f),f=>{throw To(xv,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=n3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class s3 extends r3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=C_();return new Promise((a,l)=>{const c=new lP;c.setWithCredentials(!0),c.listenOnce(cP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kh.NO_ERROR:const f=c.getResponseJson();_e(Ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case kh.TIMEOUT:_e(Ln,`RPC '${e}' ${o} timed out`),l(new Te(X.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const h=c.getStatus();if(_e(Ln,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const g=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(w.status);l(new Te(g,w.message))}else l(new Te(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Te(X.UNAVAILABLE,"Connection failed."));break;default:je(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{_e(Ln,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);_e(Ln,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}P_(e,n,r){const i=C_(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fP(),a=dP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");_e(Ln,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);this.T_(f);let h=!1,p=!1;const w=new i3({Ho:E=>{p?_e(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(_e(Ln,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),_e(Ln,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Yo:()=>f.close()}),g=(E,b,v)=>{E.listen(b,x=>{try{v(x)}catch(A){setTimeout(()=>{throw A},0)}})};return g(f,Cu.EventType.OPEN,()=>{p||(_e(Ln,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),g(f,Cu.EventType.CLOSE,()=>{p||(p=!0,_e(Ln,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(f))}),g(f,Cu.EventType.ERROR,E=>{p||(p=!0,To(Ln,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.__(new Te(X.UNAVAILABLE,"The operation could not be completed")))}),g(f,Cu.EventType.MESSAGE,E=>{var b;if(!p){const v=E.data[0];wt(!!v,16349);const x=v,A=(x==null?void 0:x.error)||((b=x[0])===null||b===void 0?void 0:b.error);if(A){_e(Ln,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let V=function(R){const I=ln[R];if(I!==void 0)return GP(I)}(O),S=A.message;V===void 0&&(V=X.INTERNAL,S="Unknown error status: "+O+" with message "+A.message),p=!0,w.__(new Te(V,S)),f.close()}else _e(Ln,`RPC '${e}' stream ${i} received:`,v),w.a_(v)}}),g(a,uP.STAT_EVENT,E=>{E.stat===p_.PROXY?_e(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===p_.NOPROXY&&_e(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Cv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return new c$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="PersistentStream";class a1{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new o1(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Te(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return _e(kx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(_e(kx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o3 extends a1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=f$(this.serializer,e),r=function(s){if(!("targetChange"in s))return We.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?We.min():o.readTime?Si(o.readTime):We.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=T_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=__(l)?{documents:m$(s,l)}:{query:g$(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KP(s,o.resumeToken);const c=E_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(We.min())>0){a.readTime=Dp(s,o.snapshotVersion.toTimestamp());const c=E_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=y$(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=T_(this.serializer),n.removeTarget=e,this.k_(n)}}class a3 extends a1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=p$(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=T_(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h$(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{}class c3 extends l3{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Te(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,b_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(X.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,b_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(X.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class u3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(hs(n),this._a=!1):_e("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class d3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{il(this)&&(_e(za,"Restarting streams for network reachability change."),await async function(l){const c=Qe(l);c.Ia.add(4),await Xd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await ng(c)}(this))})}),this.Aa=new u3(r,i)}}async function ng(t){if(il(t))for(const e of t.da)await e(!0)}async function Xd(t){for(const e of t.da)await e(!1)}function l1(t,e){const n=Qe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),YE(n)?KE(n):Bc(n).x_()&&QE(n,e))}function qE(t,e){const n=Qe(t),r=Bc(n);n.Ta.delete(e),r.x_()&&c1(n,e),n.Ta.size===0&&(r.x_()?r.B_():il(n)&&n.Aa.set("Unknown"))}function QE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bc(t).H_(e)}function c1(t,e){t.Ra.$e(e),Bc(t).Y_(e)}function KE(t){t.Ra=new s$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Bc(t).start(),t.Aa.aa()}function YE(t){return il(t)&&!Bc(t).M_()&&t.Ta.size>0}function il(t){return Qe(t).Ia.size===0}function u1(t){t.Ra=void 0}async function f3(t){t.Aa.set("Online")}async function h3(t){t.Ta.forEach((e,n)=>{QE(t,e)})}async function p3(t,e){u1(t),YE(t)?(t.Aa.la(e),KE(t)):t.Aa.set("Unknown")}async function m3(t,e,n){if(t.Aa.set("Online"),e instanceof QP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){_e(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pp(t,r)}else if(e instanceof Mh?t.Ra.Ye(e):e instanceof qP?t.Ra.it(e):t.Ra.et(e),!n.isEqual(We.min()))try{const r=await s1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ta.get(c);u&&s.Ta.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ta.get(l);if(!u)return;s.Ta.set(l,u.withResumeToken(kn.EMPTY_BYTE_STRING,u.snapshotVersion)),c1(s,l);const f=new Xs(u.target,l,c,u.sequenceNumber);QE(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){_e(za,"Failed to raise snapshot:",r),await Pp(t,r)}}async function Pp(t,e,n){if(!Uc(e))throw e;t.Ia.add(1),await Xd(t),t.Aa.set("Offline"),n||(n=()=>s1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(za,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await ng(t)})}function d1(t,e){return e().catch(n=>Pp(t,n,e))}async function rg(t){const e=Qe(t),n=Io(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:OE;for(;g3(e);)try{const i=await Z$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,v3(e,i)}catch(i){await Pp(e,i)}f1(e)&&h1(e)}function g3(t){return il(t)&&t.Pa.length<10}function v3(t,e){t.Pa.push(e);const n=Io(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function f1(t){return il(t)&&!Io(t).M_()&&t.Pa.length>0}function h1(t){Io(t).start()}async function y3(t){Io(t).na()}async function _3(t){const e=Io(t);for(const n of t.Pa)e.X_(n.mutations)}async function w3(t,e,n){const r=t.Pa.shift(),i=UE.from(r,e,n);await d1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rg(t)}async function E3(t,e){e&&Io(t).Z_&&await async function(r,i){if(function(o){return r$(o)&&o!==X.ABORTED}(i.code)){const s=r.Pa.shift();Io(r).N_(),await d1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rg(r)}}(t,e),f1(t)&&h1(t)}async function Px(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),_e(za,"RemoteStore received new credentials");const r=il(n);n.Ia.add(3),await Xd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await ng(n)}async function b3(t,e){const n=Qe(t);e?(n.Ia.delete(2),await ng(n)):e||(n.Ia.add(2),await Xd(n),n.Aa.set("Unknown"))}function Bc(t){return t.Va||(t.Va=function(n,r,i){const s=Qe(n);return s.ia(),new o3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:f3.bind(null,t),e_:h3.bind(null,t),n_:p3.bind(null,t),J_:m3.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),YE(t)?KE(t):t.Aa.set("Unknown")):(await t.Va.stop(),u1(t))})),t.Va}function Io(t){return t.ma||(t.ma=function(n,r,i){const s=Qe(n);return s.ia(),new a3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:y3.bind(null,t),n_:E3.bind(null,t),ea:_3.bind(null,t),ta:w3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await rg(t)):(await t.ma.stop(),t.Pa.length>0&&(_e(za,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ZE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XE(t,e){if(hs("AsyncQueue",`${e}: ${t}`),Uc(t))return new Te(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static emptySet(e){return new Yl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.fa=new Qt(Ne.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):je(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class _c{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _c(e,n,Yl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class T3{constructor(){this.queries=Ox(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Qe(n),s=i.queries;i.queries=Ox(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new Te(X.ABORTED,"Firestore shutting down"))}}function Ox(){return new rl(t=>OP(t),Km)}async function JE(t,e){const n=Qe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new S3,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=XE(o,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&tb(n)}async function eb(t,e){const n=Qe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x3(t,e){const n=Qe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&tb(n)}function C3(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function tb(t){t.Da.forEach(e=>{e.next()})}var A_,Mx;(Mx=A_||(A_={})).Fa="default",Mx.Cache="cache";class nb{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==A_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.key=e}}class m1{constructor(e){this.key=e}}class A3{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=lt(),this.mutatedKeys=lt(),this.Xa=MP(e),this.eu=new Yl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new Nx,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=Ym(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;h&&p?h.data.isEqual(p.data)?w!==g&&(r.track({type:3,doc:p}),E=!0):this.iu(h,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Xa(p,l)>0||c&&this.Xa(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),E=!0):h&&!p&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((u,f)=>function(p,w){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{At:E})}};return g(p)-g(w)}(u.type,f.type)||this.Xa(u.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new _c(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Nx,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=lt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new m1(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new p1(r))}),n}uu(e){this.Ha=e.qs,this.Za=lt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return _c.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const rb="SyncEngine";class R3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I3{constructor(e){this.key=e,this.lu=!1}}class D3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new rl(a=>OP(a),Km),this.Tu=new Map,this.Iu=new Set,this.du=new Qt(Ne.comparator),this.Eu=new Map,this.Au=new HE,this.Ru={},this.Vu=new Map,this.mu=yc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function k3(t,e,n=!0){const r=E1(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await g1(r,e,n,!0),i}async function P3(t,e){const n=E1(t);await g1(n,e,!0,!1)}async function g1(t,e,n,r){const i=await X$(t.localStore,bi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await N3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&l1(t.remoteStore,i),a}async function N3(t,e,n,r,i){t.gu=(f,h,p)=>async function(g,E,b,v){let x=E.view.nu(b);x.Ds&&(x=await Ax(g.localStore,E.query,!1).then(({documents:S})=>E.view.nu(S,x)));const A=v&&v.targetChanges.get(E.targetId),O=v&&v.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(x,g.isPrimaryClient,A,O);return Vx(g,E.targetId,V._u),V.snapshot}(t,f,h,p);const s=await Ax(t.localStore,e,!0),o=new A3(e,s.qs),a=o.nu(s.documents),l=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Vx(t,n,c._u);const u=new R3(e,n,o);return t.Pu.set(e,u),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function O3(t,e,n){const r=Qe(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Km(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await x_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qE(r.remoteStore,i.targetId),R_(r,i.targetId)}).catch(Fc)):(R_(r,i.targetId),await x_(r.localStore,i.targetId,!0))}async function M3(t,e){const n=Qe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qE(n.remoteStore,r.targetId))}async function L3(t,e,n){const r=H3(t);try{const i=await function(o,a){const l=Qe(o),c=jt.now(),u=a.reduce((p,w)=>p.add(w.key),lt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=ps(),g=lt();return l.Os.getEntries(p,u).next(E=>{w=E,w.forEach((b,v)=>{v.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,w)).next(E=>{f=E;const b=[];for(const v of a){const x=XH(v,f.get(v.key).overlayedDocument);x!=null&&b.push(new Ho(v.key,x,AP(x.value.mapValue),ur.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(E=>{h=E;const b=E.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,b)})}).then(()=>({batchId:h.batchId,changes:VP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Qt(nt)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await Jd(r,i.changes),await rg(r.remoteStore)}catch(i){const s=XE(i,"Failed to persist write");n.reject(s)}}async function v1(t,e){const n=Qe(t);try{const r=await K$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?wt(o.lu,14607):i.removedDocuments.size>0&&(wt(o.lu,42227),o.lu=!1))}),await Jd(n,r,e)}catch(r){await Fc(r)}}function Lx(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Qe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.wa)h.va(a)&&(c=!0)}),c&&tb(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V3(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Qt(Ne.comparator);o=o.insert(s,Fn.newNoDocument(s,We.min()));const a=lt().add(s),l=new eg(We.min(),new Map,new Qt(nt),o,a);await v1(r,l),r.du=r.du.remove(s),r.Eu.delete(e),ib(r)}else await x_(r.localStore,e,!1).then(()=>R_(r,e,n)).catch(Fc)}async function j3(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await Q$(n.localStore,e);_1(n,r,null),y1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jd(n,i)}catch(i){await Fc(i)}}async function F3(t,e,n){const r=Qe(t);try{const i=await function(o,a){const l=Qe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(wt(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);_1(r,e,n),y1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jd(r,i)}catch(i){await Fc(i)}}function y1(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function _1(t,e,n){const r=Qe(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function R_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||w1(t,r)})}function w1(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),ib(t))}function Vx(t,e,n){for(const r of n)r instanceof p1?(t.Au.addReference(r.key,e),U3(t,r)):r instanceof m1?(_e(rb,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||w1(t,r.key)):je(19791,{yu:r})}function U3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(_e(rb,"New document in limbo: "+n),t.Iu.add(r),ib(t))}function ib(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ne(Vt.fromString(e)),r=t.mu.next();t.Eu.set(r,new I3(n)),t.du=t.du.insert(n,r),l1(t.remoteStore,new Xs(bi(Qm(n.path)),r,"TargetPurposeLimboResolution",$m.ue))}}async function Jd(t,e,n){const r=Qe(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=WE.Es(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const u=Qe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(c,h=>Z.forEach(h.Is,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Z.forEach(h.ds,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Uc(f))throw f;_e(GE,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Fs.get(h),w=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(w);u.Fs=u.Fs.insert(h,g)}}}(r.localStore,s))}async function B3(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){_e(rb,"User change. New user:",e.toKey());const r=await i1(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Te(X.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jd(n,r.Bs)}}function z3(t,e){const n=Qe(t),r=n.Eu.get(e);if(r&&r.lu)return lt().add(r.key);{let i=lt();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function E1(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V3.bind(null,e),e.hu.J_=x3.bind(null,e.eventManager),e.hu.pu=C3.bind(null,e.eventManager),e}function H3(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,e),e}class Np{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return q$(this.persistence,new $$,e.initialUser,this.serializer)}Du(e){return new r1($E.Vi,this.serializer)}bu(e){return new e3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Np.provider={build:()=>new Np};class $3 extends Np{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){wt(this.persistence.referenceDelegate instanceof kp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I$(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new r1(r=>kp.Vi(r,n),this.serializer)}}class I_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B3.bind(null,this.syncEngine),await b3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T3}()}createDatastore(e){const n=tg(e.databaseInfo.databaseId),r=function(s){return new s3(s)}(e.databaseInfo);return function(s,o,a,l){return new c3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new d3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Lx(this.syncEngine,n,0),function(){return Dx.C()?new Dx:new t3}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const f=new D3(i,s,o,a,l,c);return u&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Qe(i);_e(za,"RemoteStore shutting down."),s.Ia.add(5),await Xd(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}I_.provider={build:()=>new I_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class W3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=PE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{_e(Do,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(_e(Do,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=XE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Av(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Do,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await i1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{To("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{_e("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{To("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function jx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G3(t);_e(Do,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Px(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Px(e.remoteStore,i)),t._onlineComponents=e}async function G3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Do,"Using user provided OfflineComponentProvider");try{await Av(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Av(t,new Np)}}else _e(Do,"Using default OfflineComponentProvider"),await Av(t,new $3(void 0));return t._offlineComponents}async function b1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Do,"Using user provided OnlineComponentProvider"),await jx(t,t._uninitializedComponentsProvider._online)):(_e(Do,"Using default OnlineComponentProvider"),await jx(t,new I_))),t._onlineComponents}function q3(t){return b1(t).then(e=>e.syncEngine)}async function Op(t){const e=await b1(t),n=e.eventManager;return n.onListen=k3.bind(null,e.syncEngine),n.onUnlisten=O3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M3.bind(null,e.syncEngine),n}function Q3(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new sb({next:h=>{u.Ou(),o.enqueueAndForget(()=>eb(s,f));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new Te(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Te(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new nb(Qm(a.path),u,{includeMetadataChanges:!0,ka:!0});return JE(s,f)}(await Op(t),t.asyncQueue,e,n,r)),r.promise}function K3(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new sb({next:h=>{u.Ou(),o.enqueueAndForget(()=>eb(s,f)),h.fromCache&&l.source==="server"?c.reject(new Te(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new nb(a,u,{includeMetadataChanges:!0,ka:!0});return JE(s,f)}(await Op(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firestore.googleapis.com",Ux=!0;class Bx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=Ux}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ux;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A$)throw new Te(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nH;switch(r.type){case"firstParty":return new oH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fx.get(n);r&&(_e("ComponentProvider","Removing Datastore"),Fx.delete(n),r.terminate())}(this),Promise.resolve()}}function Y3(t,e,n,r={}){var i;t=cr(t,ig);const s=Lc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(eP(`https://${l}`),tP("Firestore",!0)),o.host!==T1&&o.host!==l&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Fa(c,a)&&(t._setSettings(c),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Vn.MOCK_USER;else{u=AB(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Te(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vn(h)}t._authCredentials=new rH(new pP(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ef(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kd(n,rn._jsonSchema))return new rn(e,r||null,new Ne(Vt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:fn("string",rn._jsonSchemaVersion),referencePath:fn("string")};class go extends ef{constructor(e,n,r){super(e,n,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Ne(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function Kr(t,e,...n){if(t=Dn(t),gP("collection","path",e),t instanceof ig){const r=Vt.fromString(e,...n);return tx(r),new go(t,null,r)}{if(!(t instanceof rn||t instanceof go))throw new Te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return tx(r),new go(t.firestore,null,r)}}function Qn(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=PE.newId()),gP("doc","path",e),t instanceof ig){const r=Vt.fromString(e,...n);return ex(r),new rn(t,null,new Ne(r))}{if(!(t instanceof rn||t instanceof go))throw new Te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return ex(r),new rn(t.firestore,t instanceof go?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="AsyncQueue";class Hx{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new o1(this,"async_queue_retry"),this.oc=()=>{const r=Cv();r&&_e(zx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new is;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Uc(e))throw e;_e(zx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,hs("INTERNAL UNHANDLED ERROR: ",$x(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=ZE.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&je(47125,{hc:$x(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function $x(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ms extends ig{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hx(e),this._firestoreClient=void 0,await e}}}function x1(t,e){const n=typeof t=="object"?t:iP(),r=typeof t=="string"?t:Tp,i=IE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xB("firestore");s&&Y3(i,...s)}return i}function tf(t){if(t._terminated)throw new Te(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z3(t),t._firestoreClient}function Z3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new bH(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,S1(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new W3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pr(kn.fromBase64String(e))}catch(n){throw new Te(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pr(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kd(e,Pr._jsonSchema))return Pr.fromBase64String(e.bytes)}}Pr._jsonSchemaVersion="firestore/bytes/1.0",Pr._jsonSchema={type:fn("string",Pr._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(Kd(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:fn("string",Ti._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kd(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new xi(e.vectorValues);throw new Te(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:fn("string",xi._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^__.*__$/;class J3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yd(e,this.data,n,this.fieldTransforms)}}class C1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function A1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ec:t})}}class ab{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ab(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(A1(this.Ec)&&X3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class e6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tg(e)}Dc(e,n,r,i=!1){return new ab({Ec:e,methodName:n,bc:r,path:Cn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lb(t){const e=t._freezeSettings(),n=tg(t._databaseId);return new e6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function R1(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);cb("Data must be an object, but it was:",o,r);const a=k1(r,o);let l,c;if(s.merge)l=new _r(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=D_(e,f,n);if(!o.contains(h))throw new Te(X.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);N1(u,h)||u.push(h)}l=new _r(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new J3(new rr(a),l,c)}class sg extends ob{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sg}}function I1(t,e,n,r){const i=t.Dc(1,e,n);cb("Data must be an object, but it was:",i,r);const s=[],o=rr.empty();zo(r,(l,c)=>{const u=ub(e,l,n);c=Dn(c);const f=i.gc(u);if(c instanceof sg)s.push(u);else{const h=og(c,f);h!=null&&(s.push(u),o.set(u,h))}});const a=new _r(s);return new C1(o,a,i.fieldTransforms)}function D1(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[D_(e,r,n)],l=[i];if(s.length%2!=0)throw new Te(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(D_(e,s[h])),l.push(s[h+1]);const c=[],u=rr.empty();for(let h=a.length-1;h>=0;--h)if(!N1(c,a[h])){const p=a[h];let w=l[h];w=Dn(w);const g=o.gc(p);if(w instanceof sg)c.push(p);else{const E=og(w,g);E!=null&&(c.push(p),u.set(p,E))}}const f=new _r(c);return new C1(u,f,o.fieldTransforms)}function og(t,e){if(P1(t=Dn(t)))return cb("Unsupported field value:",e,t),k1(t,e);if(t instanceof ob)return function(r,i){if(!A1(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=og(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jt.fromDate(r);return{timestampValue:Dp(i.serializer,s)}}if(r instanceof jt){const s=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dp(i.serializer,s)}}if(r instanceof Ti)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pr)return{bytesValue:KP(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xi)return function(o,a){return{mapValue:{fields:{[xP]:{stringValue:CP},[xp]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return FE(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${NE(r)}`)}(t,e)}function k1(t,e){const n={};return _P(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(t,(r,i)=>{const s=og(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function P1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Ti||t instanceof Pr||t instanceof rn||t instanceof ob||t instanceof xi)}function cb(t,e,n){if(!P1(n)||!vP(n)){const r=NE(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function D_(t,e,n){if((e=Dn(e))instanceof nf)return e._internalPath;if(typeof e=="string")return ub(t,e);throw Mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const t6=new RegExp("[~\\*/\\[\\]]");function ub(t,e,n){if(e.search(t6)>=0)throw Mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch{throw Mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Te(X.INVALID_ARGUMENT,a+t+l)}function N1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(M1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n6 extends O1{data(){return super.data()}}function M1(t,e){return typeof e=="string"?ub(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r6{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[xp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Jt(o.doubleValue));return new xi(s)}convertGeoPoint(e){return new Ti(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const n=Co(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);wt(t1(r),9688,{name:e});const i=new bd(r.get(1),r.get(3)),s=new Ne(r.popFirst(5));return i.isEqual(n)||hs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends O1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(M1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:fn("string",Ra._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class Lh extends Ra{data(e={}){return super.data(e)}}class Ia{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Iu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lh(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Lh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Lh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:i6(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){t=cr(t,rn);const e=cr(t.firestore,ms);return Q3(tf(e),t._key).then(n=>F1(e,t,n))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:fn("string",Ia._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class db extends r6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function gs(t){t=cr(t,ef);const e=cr(t.firestore,ms),n=tf(e),r=new db(e);return L1(t._query),K3(n,t._query).then(i=>new Ia(e,r,t,i))}function Da(t,e,n){t=cr(t,rn);const r=cr(t.firestore,ms),i=V1(t.converter,e,n);return ag(r,[R1(lb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function Gx(t,e,n,...r){t=cr(t,rn);const i=cr(t.firestore,ms),s=lb(i);let o;return o=typeof(e=Dn(e))=="string"||e instanceof nf?D1(s,"updateDoc",t._key,e,n,r):I1(s,"updateDoc",t._key,e),ag(i,[o.toMutation(t._key,ur.exists(!0))])}function j1(t){return ag(cr(t.firestore,ms),[new Jm(t._key,ur.none())])}function qx(t,...e){var n,r,i;t=Dn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Wx(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Wx(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof rn)c=cr(t.firestore,ms),u=Qm(t._key.path),l={next:f=>{e[o]&&e[o](F1(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=cr(t,ef);c=cr(f.firestore,ms),u=f._query;const h=new db(c);l={next:p=>{e[o]&&e[o](new Ia(c,h,f,p))},error:e[o+1],complete:e[o+2]},L1(t._query)}return function(h,p,w,g){const E=new sb(g),b=new nb(p,E,w);return h.asyncQueue.enqueueAndForget(async()=>JE(await Op(h),b)),()=>{E.Ou(),h.asyncQueue.enqueueAndForget(async()=>eb(await Op(h),b))}}(tf(c),u,a,l)}function ag(t,e){return function(r,i){const s=new is;return r.asyncQueue.enqueueAndForget(async()=>L3(await q3(r),i,s)),s.promise}(tf(t),e)}function F1(t,e,n){const r=n.docs.get(e._key),i=new db(t);return new Ra(t,i,e._key,r,new Iu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lb(e)}set(e,n,r){this._verifyNotCommitted();const i=Rv(e,this._firestore),s=V1(i.converter,n,r),o=R1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ur.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Rv(e,this._firestore);let o;return o=typeof(n=Dn(n))=="string"||n instanceof nf?D1(this._dataReader,"WriteBatch.update",s._key,n,r,i):I1(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Rv(e,this._firestore);return this._mutations=this._mutations.concat(new Jm(n._key,ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rv(t,e){if((t=Dn(t)).firestore!==e)throw new Te(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){return tf(t=cr(t,ms)),new s6(t,e=>ag(t,e))}(function(e,n=!0){(function(i){jc=i})(Vc),pc(new Ua("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ms(new iH(r.getProvider("auth-internal")),new aH(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Te(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),po(K0,Y0,e),po(K0,Y0,"esm2017")})();const a6={apiKey:"AIzaSyCp0xxnxtwHkJLN-xsy57tYzgqWM05IgXI",authDomain:"vitti2-ff436.firebaseapp.com",projectId:"vitti2-ff436",storageBucket:"vitti2-ff436.firebasestorage.app",messagingSenderId:"274780035739",appId:"1:274780035739:web:c10ec0a29e2f02c1b0c43e",measurementId:"G-03BS6YJL6W"},l6=DE(a6),tn=x1(l6),lg=()=>{const t=[];for(let e=8;e<20;e++)for(let n=0;n<60;n+=15){const r=String(e).padStart(2,"0"),i=String(n).padStart(2,"0");t.push(`${r}:${i}`)}return t},U1=()=>{const t=[];for(let e=8;e<20;e++){const n=String(e).padStart(2,"0");t.push(`${n}:00`)}return t},k_=t=>[`${t}:00`,`${t}:15`,`${t}:30`,`${t}:45`],vo=t=>t.split(":")[0],B1=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}/${n}/${r}`},z1=()=>{const t=[],e=new Date,n=lg();for(let r=0;r<15;r++){const i=new Date;i.setDate(e.getDate()+r);const s=B1(i),o=n.map(a=>({appointment_id:"",client_id:"none",hour:a,service:"none"}));t.push({day:s,day_time:o})}return t},c6=async()=>{try{const t=Kr(tn,"calendar"),e=await gs(t);if(e.empty)return console.log("Não existem calendários para usar como referência. Criando padrão padrão."),{};const r=e.docs[0].data();if(!r.calendar||!Array.isArray(r.calendar))return console.log("Formato de calendário inválido. Criando padrão padrão."),{};const i={Domingo:0,Segunda:1,Terça:2,Quarta:3,Quinta:4,Sexta:5,Sábado:6},s={};return r.calendar.forEach(o=>{const a=o.day.split("/");if(a.length!==3)return;const c=new Date(Number(a[0]),Number(a[1])-1,Number(a[2])).getDay(),u={};o.day_time.forEach(f=>{const h=vo(f.hour),p=f.appointment_id==="not_in_schedule";u[h]===void 0&&(u[h]=0),p&&u[h]++}),Object.keys(u).forEach(f=>{const h=u[f]===4,p=Object.keys(i).find(w=>i[w]===c);if(p){const w=`${p}-${f}:00`;s[w]=h}})}),console.log("Padrão de horários obtido com sucesso:",Object.keys(s).length,"configurações"),s}catch(t){return console.error("Erro ao obter padrão de horários:",t),{}}},u6=(t,e)=>{if(Object.keys(e).length===0)return t;const n=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"];return t.map(r=>{const i=r.day.split("/");if(i.length!==3)return r;const o=new Date(Number(i[0]),Number(i[1])-1,Number(i[2])).getDay(),a=n[o],l=r.day_time.map(c=>{if(c.appointment_id!==""&&c.appointment_id!=="not_in_schedule")return c;const u=vo(c.hour),f=`${a}-${u}:00`;return e[f]===!0?{...c,appointment_id:"not_in_schedule",client_id:"not_in_schedule",service:"not_in_schedule"}:c});return{...r,day_time:l}})},d6=async t=>{try{if(console.log(`Iniciando criação/atualização do calendário para: ${t}`),!t||t.trim()===""){console.error("Nome de funcionário inválido.");return}const e=z1();console.log(`Calendário padrão de 15 dias gerado com ${e.length} dias.`);try{const n=await c6(),r=Object.keys(n).length>0?u6(e,n):e,i=Qn(tn,"calendar",t),s=await Ws(i);if(!s.exists())console.log(`Criando novo calendário para: ${t}`),await Da(i,{calendar:r});else{const o=s.data();!o.calendar||o.calendar.length<15?(console.log(`Atualizando calendário existente para: ${t}`),await Da(i,{calendar:r})):console.log(`Calendário para ${t} já existe e está completo.`)}console.log(`Operação de criação/atualização do calendário concluída para: ${t}`)}catch(n){console.error("Erro ao obter/aplicar padrão de horários. Criando calendário padrão:",n);const r=Qn(tn,"calendar",t);await Da(r,{calendar:e})}}catch(e){throw console.error("Erro ao criar/atualizar calendário:",e),e}},f6=async t=>{try{if(!t||t.trim()===""){console.error("Nome de funcionário inválido para exclusão.");return}console.log(`Tentando excluir o calendário para: ${t}`);const e=Qn(tn,"calendar",t);if(!(await Ws(e)).exists()){console.log(`Calendário para ${t} não existe. Nada a excluir.`);return}await j1(e),console.log(`Calendário para ${t} excluído com sucesso.`)}catch(e){throw console.error(`Erro ao excluir calendário para ${t}:`,e),e}},h6=async()=>{try{const t=Kr(tn,"calendar"),e=await gs(t),n=new Date,r=new Date;r.setDate(n.getDate()+14);const i=B1(r),s=lg(),o={day:i,day_time:s.map(a=>({appointment_id:"",client_id:"none",hour:a,service:"none"}))};for(const a of e.docs){const l=a.id,c=a.data();if(c.calendar&&Array.isArray(c.calendar)){const u=[...c.calendar.slice(1),o];await Da(a.ref,{calendar:u})}}}catch(t){throw console.error("Erro ao atualizar calendários:",t),t}},p6=async()=>{try{console.log("Verificando se a coleção de calendário existe...");const t=Kr(tn,"calendar"),e=await gs(t);if(e.empty){console.log("Coleção de calendário vazia. Verificando funcionários...");const n=await Ws(Qn(tn,"employees","colaborador"));if(n.exists()){const r=n.data();if(r.employees&&r.employees.length>0){const i=r.employees[0];console.log(`Criando calendário padrão para ${i.employee_name}`);const s=z1();await Da(Qn(tn,"calendar",i.employee_name),{calendar:s}),console.log(`Calendário padrão criado com sucesso para ${i.employee_name}`)}else console.log("Nenhum funcionário encontrado para criar calendário padrão.")}else console.log("Documento de funcionários não encontrado.")}else console.log("Coleção de calendário já existe com",e.size,"documentos.")}catch(t){console.error("Erro ao verificar/criar coleção de calendário:",t)}},m6=()=>{const t=new Date,e=new Date;return e.setDate(t.getDate()+1),e.setHours(0,0,0,0),e.getTime()-t.getTime()},g6=()=>{let t;const e=()=>{const n=m6();t&&clearTimeout(t),t=window.setTimeout(async()=>{try{console.log("Executando atualização diária do calendário..."),await h6(),console.log("Atualização do calendário concluída com sucesso")}catch(r){console.error("Erro na atualização diária do calendário:",r)}finally{e()}},n),console.log(`Próxima atualização do calendário agendada para ${new Date(Date.now()+n).toLocaleString()}`)};e()};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bt(){return Bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bt.apply(this,arguments)}var cn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cn||(cn={}));const Qx="popstate";function v6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Cd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ha(i)}return _6(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y6(){return Math.random().toString(36).substr(2,8)}function Kx(t,e){return{usr:t.state,key:t.key,idx:e}}function Cd(t,e,n,r){return n===void 0&&(n=null),Bt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$o(e):e,{state:n,key:e&&e.key||r||y6()})}function Ha(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=cn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Bt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=cn.Pop;let E=u(),b=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:b})}function h(E,b){a=cn.Push;let v=Cd(g.location,E,b);c=u()+1;let x=Kx(v,c),A=g.createHref(v);try{o.pushState(x,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function p(E,b){a=cn.Replace;let v=Cd(g.location,E,b);c=u();let x=Kx(v,c),A=g.createHref(v);o.replaceState(x,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function w(E){let b=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof E=="string"?E:Ha(E);return v=v.replace(/ $/,"%20"),at(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qx,f),l=E,()=>{i.removeEventListener(Qx,f),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let b=w(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(E){return o.go(E)}};return g}var xt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xt||(xt={}));const w6=new Set(["lazy","caseSensitive","path","id","index","children"]);function E6(t){return t.index===!0}function Lp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(at(i.index!==!0||!i.children,"Cannot specify children on an index route"),at(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),E6(i)){let l=Bt({},i,e(i),{id:a});return r[a]=l,l}else{let l=Bt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Lp(i.children,e,o,r)),l}})}function da(t,e,n){return n===void 0&&(n="/"),Vh(t,e,n,!1)}function Vh(t,e,n,r){let i=typeof e=="string"?$o(e):e,s=zc(i.pathname||"/",n);if(s==null)return null;let o=H1(t);S6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=O6(s);a=P6(o[l],c,r)}return a}function b6(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function H1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ss([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),H1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:D6(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of $1(s.path))i(s,o,l)}),e}function $1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function S6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T6=/^:[\w-]+$/,x6=3,C6=2,A6=1,R6=10,I6=-2,Yx=t=>t==="*";function D6(t,e){let n=t.split("/"),r=n.length;return n.some(Yx)&&(r+=I6),e&&(r+=C6),n.filter(i=>!Yx(i)).reduce((i,s)=>i+(T6.test(s)?x6:s===""?A6:R6),r)}function k6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function P6(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=Zx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Zx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ss([s,f.pathname]),pathnameBase:V6(ss([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ss([s,f.pathnameBase]))}return o}function Zx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[f];return p&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function N6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function O6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function M6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$o(t):t;return{pathname:n?n.startsWith("/")?n:L6(n,e):e,search:j6(r),hash:F6(i)}}function L6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Iv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fb(t,e){let n=W1(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$o(t):(i=Bt({},t),at(!i.pathname||!i.pathname.includes("?"),Iv("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),Iv("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),Iv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=M6(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),V6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Vp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ad(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G1=["post","put","patch","delete"],U6=new Set(G1),B6=["get",...G1],z6=new Set(B6),H6=new Set([301,302,303,307,308]),$6=new Set([307,308]),Dv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},W6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),q1="remix-router-transitions";function q6(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;at(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=F=>({hasErrorBoundary:j(F)})}else i=G6;let s={},o=Lp(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||Z6,u=t.patchRoutesOnNavigation,f=Bt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,p=new Set,w=null,g=null,E=null,b=t.hydrationData!=null,v=da(o,t.history.location,l),x=!1,A=null;if(v==null&&!u){let j=Jn(404,{pathname:t.history.location.pathname}),{matches:F,route:G}=lC(o);v=F,A={[G.id]:j}}v&&!t.hydrationData&&Jo(v,o,t.history.location.pathname).active&&(v=null);let O;if(v)if(v.some(j=>j.route.lazy))O=!1;else if(!v.some(j=>j.route.loader))O=!0;else if(f.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null;if(F){let G=v.findIndex(J=>F[J.route.id]!==void 0);O=v.slice(0,G+1).every(J=>!N_(J.route,j,F))}else O=v.every(G=>!N_(G.route,j,F))}else O=t.hydrationData!=null;else if(O=!1,v=[],f.v7_partialHydration){let j=Jo(null,o,t.history.location.pathname);j.active&&j.matches&&(x=!0,v=j.matches)}let V,S={historyAction:t.history.action,location:t.history.location,matches:v,initialized:O,navigation:Dv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},C=cn.Pop,R=!1,I,N=!1,P=new Map,k=null,Y=!1,fe=!1,le=[],ve=new Set,H=new Map,ee=0,pe=-1,Ie=new Map,ke=new Set,ze=new Map,ct=new Map,it=new Set,mt=new Map,U=new Map,$;function ue(){if(h=t.history.listen(j=>{let{action:F,location:G,delta:J}=j;if($){$(),$=void 0;return}wc(U.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=Yc({currentLocation:S.location,nextLocation:G,historyAction:F});if(he&&J!=null){let Ce=new Promise(Fe=>{$=Fe});t.history.go(J*-1),Yo(he,{state:"blocked",location:G,proceed(){Yo(he,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ce.then(()=>t.history.go(J))},reset(){let Fe=new Map(S.blockers);Fe.set(he,gu),W({blockers:Fe})}});return}return De(F,G)}),n){d9(e,P);let j=()=>f9(e,P);e.addEventListener("pagehide",j),k=()=>e.removeEventListener("pagehide",j)}return S.initialized||De(cn.Pop,S.location,{initialHydration:!0}),V}function ce(){h&&h(),k&&k(),p.clear(),I&&I.abort(),S.fetchers.forEach((j,F)=>Hn(F)),S.blockers.forEach((j,F)=>Fi(F))}function ie(j){return p.add(j),()=>p.delete(j)}function W(j,F){F===void 0&&(F={}),S=Bt({},S,j);let G=[],J=[];f.v7_fetcherPersist&&S.fetchers.forEach((he,Ce)=>{he.state==="idle"&&(it.has(Ce)?J.push(Ce):G.push(Ce))}),it.forEach(he=>{!S.fetchers.has(he)&&!H.has(he)&&J.push(he)}),[...p].forEach(he=>he(S,{deletedFetchers:J,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),f.v7_fetcherPersist?(G.forEach(he=>S.fetchers.delete(he)),J.forEach(he=>Hn(he))):J.forEach(he=>it.delete(he))}function te(j,F,G){var J,he;let{flushSync:Ce}=G===void 0?{}:G,Fe=S.actionData!=null&&S.navigation.formMethod!=null&&Wr(S.navigation.formMethod)&&S.navigation.state==="loading"&&((J=j.state)==null?void 0:J._isRedirect)!==!0,Se;F.actionData?Object.keys(F.actionData).length>0?Se=F.actionData:Se=null:Fe?Se=S.actionData:Se=null;let be=F.loaderData?oC(S.loaderData,F.loaderData,F.matches||[],F.errors):S.loaderData,we=S.blockers;we.size>0&&(we=new Map(we),we.forEach((Ye,on)=>we.set(on,gu)));let Ae=R===!0||S.navigation.formMethod!=null&&Wr(S.navigation.formMethod)&&((he=j.state)==null?void 0:he._isRedirect)!==!0;a&&(o=a,a=void 0),Y||C===cn.Pop||(C===cn.Push?t.history.push(j,j.state):C===cn.Replace&&t.history.replace(j,j.state));let $e;if(C===cn.Pop){let Ye=P.get(S.location.pathname);Ye&&Ye.has(j.pathname)?$e={currentLocation:S.location,nextLocation:j}:P.has(j.pathname)&&($e={currentLocation:j,nextLocation:S.location})}else if(N){let Ye=P.get(S.location.pathname);Ye?Ye.add(j.pathname):(Ye=new Set([j.pathname]),P.set(S.location.pathname,Ye)),$e={currentLocation:S.location,nextLocation:j}}W(Bt({},F,{actionData:Se,loaderData:be,historyAction:C,location:j,initialized:!0,navigation:Dv,revalidation:"idle",restoreScrollPosition:Xo(j,F.matches||S.matches),preventScrollReset:Ae,blockers:we}),{viewTransitionOpts:$e,flushSync:Ce===!0}),C=cn.Pop,R=!1,N=!1,Y=!1,fe=!1,le=[]}async function Xe(j,F){if(typeof j=="number"){t.history.go(j);return}let G=P_(S.location,S.matches,l,f.v7_prependBasename,j,f.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:J,submission:he,error:Ce}=Xx(f.v7_normalizeFormMethod,!1,G,F),Fe=S.location,Se=Cd(S.location,J,F&&F.state);Se=Bt({},Se,t.history.encodeLocation(Se));let be=F&&F.replace!=null?F.replace:void 0,we=cn.Push;be===!0?we=cn.Replace:be===!1||he!=null&&Wr(he.formMethod)&&he.formAction===S.location.pathname+S.location.search&&(we=cn.Replace);let Ae=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,$e=(F&&F.flushSync)===!0,Ye=Yc({currentLocation:Fe,nextLocation:Se,historyAction:we});if(Ye){Yo(Ye,{state:"blocked",location:Se,proceed(){Yo(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Xe(j,F)},reset(){let on=new Map(S.blockers);on.set(Ye,gu),W({blockers:on})}});return}return await De(we,Se,{submission:he,pendingError:Ce,preventScrollReset:Ae,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:$e})}function Ke(){if(Ve(),W({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){De(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}De(C||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:N===!0})}}async function De(j,F,G){I&&I.abort(),I=null,C=j,Y=(G&&G.startUninterruptedRevalidation)===!0,gf(S.location,S.matches),R=(G&&G.preventScrollReset)===!0,N=(G&&G.enableViewTransition)===!0;let J=a||o,he=G&&G.overrideNavigation,Ce=G!=null&&G.initialHydration&&S.matches&&S.matches.length>0&&!x?S.matches:da(J,F,l),Fe=(G&&G.flushSync)===!0;if(Ce&&S.initialized&&!fe&&r9(S.location,F)&&!(G&&G.submission&&Wr(G.submission.formMethod))){te(F,{matches:Ce},{flushSync:Fe});return}let Se=Jo(Ce,J,F.pathname);if(Se.active&&Se.matches&&(Ce=Se.matches),!Ce){let{error:St,notFoundMatches:ut,route:Rt}=Ui(F.pathname);te(F,{matches:ut,loaderData:{},errors:{[Rt.id]:St}},{flushSync:Fe});return}I=new AbortController;let be=pl(t.history,F,I.signal,G&&G.submission),we;if(G&&G.pendingError)we=[fa(Ce).route.id,{type:xt.error,error:G.pendingError}];else if(G&&G.submission&&Wr(G.submission.formMethod)){let St=await ft(be,F,G.submission,Ce,Se.active,{replace:G.replace,flushSync:Fe});if(St.shortCircuited)return;if(St.pendingActionResult){let[ut,Rt]=St.pendingActionResult;if(mr(Rt)&&Ad(Rt.error)&&Rt.error.status===404){I=null,te(F,{matches:St.matches,loaderData:{},errors:{[ut]:Rt.error}});return}}Ce=St.matches||Ce,we=St.pendingActionResult,he=kv(F,G.submission),Fe=!1,Se.active=!1,be=pl(t.history,be.url,be.signal)}let{shortCircuited:Ae,matches:$e,loaderData:Ye,errors:on}=await tt(be,F,Ce,Se.active,he,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Fe,we);Ae||(I=null,te(F,Bt({matches:$e||Ce},aC(we),{loaderData:Ye,errors:on})))}async function ft(j,F,G,J,he,Ce){Ce===void 0&&(Ce={}),Ve();let Fe=c9(F,G);if(W({navigation:Fe},{flushSync:Ce.flushSync===!0}),he){let we=await li(J,F.pathname,j.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let Ae=fa(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[Ae,{type:xt.error,error:we.error}]}}else if(we.matches)J=we.matches;else{let{notFoundMatches:Ae,error:$e,route:Ye}=Ui(F.pathname);return{matches:Ae,pendingActionResult:[Ye.id,{type:xt.error,error:$e}]}}}let Se,be=Du(J,F);if(!be.route.action&&!be.route.lazy)Se={type:xt.error,error:Jn(405,{method:j.method,pathname:F.pathname,routeId:be.route.id})};else if(Se=(await re("action",S,j,[be],J,null))[be.route.id],j.signal.aborted)return{shortCircuited:!0};if(_a(Se)){let we;return Ce&&Ce.replace!=null?we=Ce.replace:we=rC(Se.response.headers.get("Location"),new URL(j.url),l)===S.location.pathname+S.location.search,await oe(j,Se,!0,{submission:G,replace:we}),{shortCircuited:!0}}if(Js(Se))throw Jn(400,{type:"defer-action"});if(mr(Se)){let we=fa(J,be.route.id);return(Ce&&Ce.replace)!==!0&&(C=cn.Push),{matches:J,pendingActionResult:[we.route.id,Se]}}return{matches:J,pendingActionResult:[be.route.id,Se]}}async function tt(j,F,G,J,he,Ce,Fe,Se,be,we,Ae){let $e=he||kv(F,Ce),Ye=Ce||Fe||uC($e),on=!Y&&(!f.v7_partialHydration||!be);if(J){if(on){let Nt=He(Ae);W(Bt({navigation:$e},Nt!==void 0?{actionData:Nt}:{}),{flushSync:we})}let ht=await li(G,F.pathname,j.signal);if(ht.type==="aborted")return{shortCircuited:!0};if(ht.type==="error"){let Nt=fa(ht.partialMatches).route.id;return{matches:ht.partialMatches,loaderData:{},errors:{[Nt]:ht.error}}}else if(ht.matches)G=ht.matches;else{let{error:Nt,notFoundMatches:Hi,route:ks}=Ui(F.pathname);return{matches:Hi,loaderData:{},errors:{[ks.id]:Nt}}}}let St=a||o,[ut,Rt]=eC(t.history,S,G,Ye,F,f.v7_partialHydration&&be===!0,f.v7_skipActionErrorRevalidation,fe,le,ve,it,ze,ke,St,l,Ae);if(Zo(ht=>!(G&&G.some(Nt=>Nt.route.id===ht))||ut&&ut.some(Nt=>Nt.route.id===ht)),pe=++ee,ut.length===0&&Rt.length===0){let ht=Rs();return te(F,Bt({matches:G,loaderData:{},errors:Ae&&mr(Ae[1])?{[Ae[0]]:Ae[1].error}:null},aC(Ae),ht?{fetchers:new Map(S.fetchers)}:{}),{flushSync:we}),{shortCircuited:!0}}if(on){let ht={};if(!J){ht.navigation=$e;let Nt=He(Ae);Nt!==void 0&&(ht.actionData=Nt)}Rt.length>0&&(ht.fetchers=M(Rt)),W(ht,{flushSync:we})}Rt.forEach(ht=>{$n(ht.key),ht.controller&&H.set(ht.key,ht.controller)});let Bi=()=>Rt.forEach(ht=>$n(ht.key));I&&I.signal.addEventListener("abort",Bi);let{loaderResults:Is,fetcherResults:Fr}=await ge(S,G,ut,Rt,j);if(j.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Bi),Rt.forEach(ht=>H.delete(ht.key));let Wn=eh(Is);if(Wn)return await oe(j,Wn.result,!0,{replace:Se}),{shortCircuited:!0};if(Wn=eh(Fr),Wn)return ke.add(Wn.key),await oe(j,Wn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:cl,errors:zi}=sC(S,G,Is,Ae,Rt,Fr,mt);mt.forEach((ht,Nt)=>{ht.subscribe(Hi=>{(Hi||ht.done)&&mt.delete(Nt)})}),f.v7_partialHydration&&be&&S.errors&&(zi=Bt({},S.errors,zi));let dr=Rs(),Ir=Ko(pe),Ds=dr||Ir||Rt.length>0;return Bt({matches:G,loaderData:cl,errors:zi},Ds?{fetchers:new Map(S.fetchers)}:{})}function He(j){if(j&&!mr(j[1]))return{[j[0]]:j[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function M(j){return j.forEach(F=>{let G=S.fetchers.get(F.key),J=vu(void 0,G?G.data:void 0);S.fetchers.set(F.key,J)}),new Map(S.fetchers)}function B(j,F,G,J){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$n(j);let he=(J&&J.flushSync)===!0,Ce=a||o,Fe=P_(S.location,S.matches,l,f.v7_prependBasename,G,f.v7_relativeSplatPath,F,J==null?void 0:J.relative),Se=da(Ce,Fe,l),be=Jo(Se,Ce,Fe);if(be.active&&be.matches&&(Se=be.matches),!Se){Pt(j,F,Jn(404,{pathname:Fe}),{flushSync:he});return}let{path:we,submission:Ae,error:$e}=Xx(f.v7_normalizeFormMethod,!0,Fe,J);if($e){Pt(j,F,$e,{flushSync:he});return}let Ye=Du(Se,we),on=(J&&J.preventScrollReset)===!0;if(Ae&&Wr(Ae.formMethod)){K(j,F,we,Ye,Se,be.active,he,on,Ae);return}ze.set(j,{routeId:F,path:we}),se(j,F,we,Ye,Se,be.active,he,on,Ae)}async function K(j,F,G,J,he,Ce,Fe,Se,be){Ve(),ze.delete(j);function we(Ut){if(!Ut.route.action&&!Ut.route.lazy){let ci=Jn(405,{method:be.formMethod,pathname:G,routeId:F});return Pt(j,F,ci,{flushSync:Fe}),!0}return!1}if(!Ce&&we(J))return;let Ae=S.fetchers.get(j);et(j,u9(be,Ae),{flushSync:Fe});let $e=new AbortController,Ye=pl(t.history,G,$e.signal,be);if(Ce){let Ut=await li(he,new URL(Ye.url).pathname,Ye.signal,j);if(Ut.type==="aborted")return;if(Ut.type==="error"){Pt(j,F,Ut.error,{flushSync:Fe});return}else if(Ut.matches){if(he=Ut.matches,J=Du(he,G),we(J))return}else{Pt(j,F,Jn(404,{pathname:G}),{flushSync:Fe});return}}H.set(j,$e);let on=ee,ut=(await re("action",S,Ye,[J],he,j))[J.route.id];if(Ye.signal.aborted){H.get(j)===$e&&H.delete(j);return}if(f.v7_fetcherPersist&&it.has(j)){if(_a(ut)||mr(ut)){et(j,js(void 0));return}}else{if(_a(ut))if(H.delete(j),pe>on){et(j,js(void 0));return}else return ke.add(j),et(j,vu(be)),oe(Ye,ut,!1,{fetcherSubmission:be,preventScrollReset:Se});if(mr(ut)){Pt(j,F,ut.error);return}}if(Js(ut))throw Jn(400,{type:"defer-action"});let Rt=S.navigation.location||S.location,Bi=pl(t.history,Rt,$e.signal),Is=a||o,Fr=S.navigation.state!=="idle"?da(Is,S.navigation.location,l):S.matches;at(Fr,"Didn't find any matches after fetcher action");let Wn=++ee;Ie.set(j,Wn);let cl=vu(be,ut.data);S.fetchers.set(j,cl);let[zi,dr]=eC(t.history,S,Fr,be,Rt,!1,f.v7_skipActionErrorRevalidation,fe,le,ve,it,ze,ke,Is,l,[J.route.id,ut]);dr.filter(Ut=>Ut.key!==j).forEach(Ut=>{let ci=Ut.key,Xc=S.fetchers.get(ci),yf=vu(void 0,Xc?Xc.data:void 0);S.fetchers.set(ci,yf),$n(ci),Ut.controller&&H.set(ci,Ut.controller)}),W({fetchers:new Map(S.fetchers)});let Ir=()=>dr.forEach(Ut=>$n(Ut.key));$e.signal.addEventListener("abort",Ir);let{loaderResults:Ds,fetcherResults:ht}=await ge(S,Fr,zi,dr,Bi);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Ir),Ie.delete(j),H.delete(j),dr.forEach(Ut=>H.delete(Ut.key));let Nt=eh(Ds);if(Nt)return oe(Bi,Nt.result,!1,{preventScrollReset:Se});if(Nt=eh(ht),Nt)return ke.add(Nt.key),oe(Bi,Nt.result,!1,{preventScrollReset:Se});let{loaderData:Hi,errors:ks}=sC(S,Fr,Ds,void 0,dr,ht,mt);if(S.fetchers.has(j)){let Ut=js(ut.data);S.fetchers.set(j,Ut)}Ko(Wn),S.navigation.state==="loading"&&Wn>pe?(at(C,"Expected pending action"),I&&I.abort(),te(S.navigation.location,{matches:Fr,loaderData:Hi,errors:ks,fetchers:new Map(S.fetchers)})):(W({errors:ks,loaderData:oC(S.loaderData,Hi,Fr,ks),fetchers:new Map(S.fetchers)}),fe=!1)}async function se(j,F,G,J,he,Ce,Fe,Se,be){let we=S.fetchers.get(j);et(j,vu(be,we?we.data:void 0),{flushSync:Fe});let Ae=new AbortController,$e=pl(t.history,G,Ae.signal);if(Ce){let ut=await li(he,new URL($e.url).pathname,$e.signal,j);if(ut.type==="aborted")return;if(ut.type==="error"){Pt(j,F,ut.error,{flushSync:Fe});return}else if(ut.matches)he=ut.matches,J=Du(he,G);else{Pt(j,F,Jn(404,{pathname:G}),{flushSync:Fe});return}}H.set(j,Ae);let Ye=ee,St=(await re("loader",S,$e,[J],he,j))[J.route.id];if(Js(St)&&(St=await mb(St,$e.signal,!0)||St),H.get(j)===Ae&&H.delete(j),!$e.signal.aborted){if(it.has(j)){et(j,js(void 0));return}if(_a(St))if(pe>Ye){et(j,js(void 0));return}else{ke.add(j),await oe($e,St,!1,{preventScrollReset:Se});return}if(mr(St)){Pt(j,F,St.error);return}at(!Js(St),"Unhandled fetcher deferred data"),et(j,js(St.data))}}async function oe(j,F,G,J){let{submission:he,fetcherSubmission:Ce,preventScrollReset:Fe,replace:Se}=J===void 0?{}:J;F.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let be=F.response.headers.get("Location");at(be,"Expected a Location header on the redirect Response"),be=rC(be,new URL(j.url),l);let we=Cd(S.location,be,{_isRedirect:!0});if(n){let ut=!1;if(F.response.headers.has("X-Remix-Reload-Document"))ut=!0;else if(pb.test(be)){const Rt=t.history.createURL(be);ut=Rt.origin!==e.location.origin||zc(Rt.pathname,l)==null}if(ut){Se?e.location.replace(be):e.location.assign(be);return}}I=null;let Ae=Se===!0||F.response.headers.has("X-Remix-Replace")?cn.Replace:cn.Push,{formMethod:$e,formAction:Ye,formEncType:on}=S.navigation;!he&&!Ce&&$e&&Ye&&on&&(he=uC(S.navigation));let St=he||Ce;if($6.has(F.response.status)&&St&&Wr(St.formMethod))await De(Ae,we,{submission:Bt({},St,{formAction:be}),preventScrollReset:Fe||R,enableViewTransition:G?N:void 0});else{let ut=kv(we,he);await De(Ae,we,{overrideNavigation:ut,fetcherSubmission:Ce,preventScrollReset:Fe||R,enableViewTransition:G?N:void 0})}}async function re(j,F,G,J,he,Ce){let Fe,Se={};try{Fe=await X6(c,j,F,G,J,he,Ce,s,i)}catch(be){return J.forEach(we=>{Se[we.route.id]={type:xt.error,error:be}}),Se}for(let[be,we]of Object.entries(Fe))if(i9(we)){let Ae=we.result;Se[be]={type:xt.redirect,response:t9(Ae,G,be,he,l,f.v7_relativeSplatPath)}}else Se[be]=await e9(we);return Se}async function ge(j,F,G,J,he){let Ce=j.matches,Fe=re("loader",j,he,G,F,null),Se=Promise.all(J.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let Ye=(await re("loader",j,pl(t.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ye}}else return Promise.resolve({[Ae.key]:{type:xt.error,error:Jn(404,{pathname:Ae.path})}})})),be=await Fe,we=(await Se).reduce((Ae,$e)=>Object.assign(Ae,$e),{});return await Promise.all([a9(F,be,he.signal,Ce,j.loaderData),l9(F,we,J)]),{loaderResults:be,fetcherResults:we}}function Ve(){fe=!0,le.push(...Zo()),ze.forEach((j,F)=>{H.has(F)&&ve.add(F),$n(F)})}function et(j,F,G){G===void 0&&(G={}),S.fetchers.set(j,F),W({fetchers:new Map(S.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Pt(j,F,G,J){J===void 0&&(J={});let he=fa(S.matches,F);Hn(j),W({errors:{[he.route.id]:G},fetchers:new Map(S.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function oi(j){return ct.set(j,(ct.get(j)||0)+1),it.has(j)&&it.delete(j),S.fetchers.get(j)||W6}function Hn(j){let F=S.fetchers.get(j);H.has(j)&&!(F&&F.state==="loading"&&Ie.has(j))&&$n(j),ze.delete(j),Ie.delete(j),ke.delete(j),f.v7_fetcherPersist&&it.delete(j),ve.delete(j),S.fetchers.delete(j)}function Vi(j){let F=(ct.get(j)||0)-1;F<=0?(ct.delete(j),it.add(j),f.v7_fetcherPersist||Hn(j)):ct.set(j,F),W({fetchers:new Map(S.fetchers)})}function $n(j){let F=H.get(j);F&&(F.abort(),H.delete(j))}function ji(j){for(let F of j){let G=oi(F),J=js(G.data);S.fetchers.set(F,J)}}function Rs(){let j=[],F=!1;for(let G of ke){let J=S.fetchers.get(G);at(J,"Expected fetcher: "+G),J.state==="loading"&&(ke.delete(G),j.push(G),F=!0)}return ji(j),F}function Ko(j){let F=[];for(let[G,J]of Ie)if(J<j){let he=S.fetchers.get(G);at(he,"Expected fetcher: "+G),he.state==="loading"&&($n(G),Ie.delete(G),F.push(G))}return ji(F),F.length>0}function Kc(j,F){let G=S.blockers.get(j)||gu;return U.get(j)!==F&&U.set(j,F),G}function Fi(j){S.blockers.delete(j),U.delete(j)}function Yo(j,F){let G=S.blockers.get(j)||gu;at(G.state==="unblocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="proceeding"||G.state==="blocked"&&F.state==="unblocked"||G.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+F.state);let J=new Map(S.blockers);J.set(j,F),W({blockers:J})}function Yc(j){let{currentLocation:F,nextLocation:G,historyAction:J}=j;if(U.size===0)return;U.size>1&&wc(!1,"A router only supports one blocker at a time");let he=Array.from(U.entries()),[Ce,Fe]=he[he.length-1],Se=S.blockers.get(Ce);if(!(Se&&Se.state==="proceeding")&&Fe({currentLocation:F,nextLocation:G,historyAction:J}))return Ce}function Ui(j){let F=Jn(404,{pathname:j}),G=a||o,{matches:J,route:he}=lC(G);return Zo(),{notFoundMatches:J,route:he,error:F}}function Zo(j){let F=[];return mt.forEach((G,J)=>{(!j||j(J))&&(G.cancel(),F.push(J),mt.delete(J))}),F}function Zc(j,F,G){if(w=j,E=F,g=G||null,!b&&S.navigation===Dv){b=!0;let J=Xo(S.location,S.matches);J!=null&&W({restoreScrollPosition:J})}return()=>{w=null,E=null,g=null}}function ai(j,F){return g&&g(j,F.map(J=>b6(J,S.loaderData)))||j.key}function gf(j,F){if(w&&E){let G=ai(j,F);w[G]=E()}}function Xo(j,F){if(w){let G=ai(j,F),J=w[G];if(typeof J=="number")return J}return null}function Jo(j,F,G){if(u)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Vh(F,G,l,!0)}}else return{active:!0,matches:Vh(F,G,l,!0)||[]};return{active:!1,matches:null}}async function li(j,F,G,J){if(!u)return{type:"success",matches:j};let he=j;for(;;){let Ce=a==null,Fe=a||o,Se=s;try{await u({signal:G,path:F,matches:he,fetcherKey:J,patch:(Ae,$e)=>{G.aborted||nC(Ae,$e,Fe,Se,i)}})}catch(Ae){return{type:"error",error:Ae,partialMatches:he}}finally{Ce&&!G.aborted&&(o=[...o])}if(G.aborted)return{type:"aborted"};let be=da(Fe,F,l);if(be)return{type:"success",matches:be};let we=Vh(Fe,F,l,!0);if(!we||he.length===we.length&&he.every((Ae,$e)=>Ae.route.id===we[$e].route.id))return{type:"success",matches:null};he=we}}function vf(j){s={},a=Lp(j,i,void 0,s)}function bn(j,F){let G=a==null;nC(j,F,a||o,s,i),G&&(o=[...o],W({}))}return V={get basename(){return l},get future(){return f},get state(){return S},get routes(){return o},get window(){return e},initialize:ue,subscribe:ie,enableScrollRestoration:Zc,navigate:Xe,fetch:B,revalidate:Ke,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:oi,deleteFetcher:Vi,dispose:ce,getBlocker:Kc,deleteBlocker:Fi,patchRoutes:bn,_internalFetchControllers:H,_internalActiveDeferreds:mt,_internalSetRoutes:vf},V}function Q6(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function P_(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let u=hb(i||".",fb(l,s),zc(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let f=gb(u.search);if(c.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(u.search),p=h.getAll("index");h.delete("index"),p.filter(g=>g).forEach(g=>h.append("index",g));let w=h.toString();u.search=w?"?"+w:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ss([n,u.pathname])),Ha(u)}function Xx(t,e,n,r){if(!r||!Q6(r))return{path:n};if(r.formMethod&&!o9(r.formMethod))return{path:n,error:Jn(405,{method:r.formMethod})};let i=()=>({path:n,error:Jn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Y1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Wr(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,w)=>{let[g,E]=w;return""+p+g+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Wr(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}at(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=O_(r.formData),c=r.formData;else if(r.body instanceof FormData)l=O_(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=iC(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=iC(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Wr(u.formMethod))return{path:n,submission:u};let f=$o(n);return e&&f.search&&gb(f.search)&&l.append("index",""),f.search="?"+l,{path:Ha(f),submission:u}}function Jx(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function eC(t,e,n,r,i,s,o,a,l,c,u,f,h,p,w,g){let E=g?mr(g[1])?g[1].error:g[1].data:void 0,b=t.createURL(e.location),v=t.createURL(i),x=n;s&&e.errors?x=Jx(n,Object.keys(e.errors)[0],!0):g&&mr(g[1])&&(x=Jx(n,g[0]));let A=g?g[1].statusCode:void 0,O=o&&A&&A>=400,V=x.filter((C,R)=>{let{route:I}=C;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return N_(I,e.loaderData,e.errors);if(K6(e.loaderData,e.matches[R],C)||l.some(k=>k===C.route.id))return!0;let N=e.matches[R],P=C;return tC(C,Bt({currentUrl:b,currentParams:N.params,nextUrl:v,nextParams:P.params},r,{actionResult:E,actionStatus:A,defaultShouldRevalidate:O?!1:a||b.pathname+b.search===v.pathname+v.search||b.search!==v.search||Q1(N,P)}))}),S=[];return f.forEach((C,R)=>{if(s||!n.some(Y=>Y.route.id===C.routeId)||u.has(R))return;let I=da(p,C.path,w);if(!I){S.push({key:R,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(R),P=Du(I,C.path),k=!1;h.has(R)?k=!1:c.has(R)?(c.delete(R),k=!0):N&&N.state!=="idle"&&N.data===void 0?k=a:k=tC(P,Bt({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:A,defaultShouldRevalidate:O?!1:a})),k&&S.push({key:R,routeId:C.routeId,path:C.path,matches:I,match:P,controller:new AbortController})}),[V,S]}function N_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function K6(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Q1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function tC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function nC(t,e,n,r,i){var s;let o;if(t){let c=r[t];at(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>K1(c,u))),l=Lp(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function K1(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>K1(n,s))}):!1}async function Y6(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];at(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";wc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!w6.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Bt({},e(i),{lazy:void 0}))}async function Z6(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function X6(t,e,n,r,i,s,o,a,l,c){let u=s.map(p=>p.route.lazy?Y6(p.route,l,a):void 0),f=s.map((p,w)=>{let g=u[w],E=i.some(v=>v.route.id===p.route.id);return Bt({},p,{shouldLoad:E,resolve:async v=>(v&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(E=!0),E?J6(e,r,p,g,v,c):Promise.resolve({type:xt.data,result:void 0}))})}),h=await t({matches:f,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function J6(t,e,n,r,i,s){let o,a,l=c=>{let u,f=new Promise((w,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let h=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...w!==void 0?[w]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(w){return{type:"error",result:w}}})();return Promise.race([p,f])};try{let c=n.route[t];if(r)if(c){let u,[f]=await Promise.all([l(c).catch(h=>{u=h}),r]);if(u!==void 0)throw u;o=f}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),f=u.pathname+u.search;throw Jn(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:xt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),f=u.pathname+u.search;throw Jn(404,{pathname:f})}at(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:xt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function e9(t){let{result:e,type:n}=t;if(Z1(e)){let f;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(h){return{type:xt.error,error:h}}return n===xt.error?{type:xt.error,error:new Vp(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:xt.data,data:f,statusCode:e.status,headers:e.headers}}if(n===xt.error){if(cC(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:xt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:xt.error,error:new Vp(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ad(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:xt.error,error:e,statusCode:Ad(e)?e.status:void 0}}if(s9(e)){var a,l;return{type:xt.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(cC(e)){var c,u;return{type:xt.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:xt.data,data:e}}function t9(t,e,n,r,i,s){let o=t.headers.get("Location");if(at(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!pb.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=P_(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function rC(t,e,n){if(pb.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=zc(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function pl(t,e,n,r){let i=t.createURL(Y1(e)).toString(),s={signal:n};if(r&&Wr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=O_(r.formData):s.body=r.formData}return new Request(i,s)}function O_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function iC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function n9(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&mr(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let h=f.route.id,p=e[h];if(at(!_a(p),"Cannot handle redirect results in processLoaderData"),mr(p)){let w=p.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let g=fa(t,h);o[g.route.id]==null&&(o[g.route.id]=w)}s[h]=void 0,l||(l=!0,a=Ad(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else Js(p)?(r.set(h,p.deferredData),s[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers)):(s[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function sC(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=n9(e,n,r,o);return i.forEach(c=>{let{key:u,match:f,controller:h}=c,p=s[u];if(at(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(mr(p)){let w=fa(t.matches,f==null?void 0:f.route.id);l&&l[w.route.id]||(l=Bt({},l,{[w.route.id]:p.error})),t.fetchers.delete(u)}else if(_a(p))at(!1,"Unhandled fetcher revalidation redirect");else if(Js(p))at(!1,"Unhandled fetcher deferred data");else{let w=js(p.data);t.fetchers.set(u,w)}}),{loaderData:a,errors:l}}function oC(t,e,n,r){let i=Bt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function aC(t){return t?mr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function fa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function lC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Vp(t||500,a,new Error(l),!0)}function eh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(_a(i))return{key:r,result:i}}}function Y1(t){let e=typeof t=="string"?$o(t):t;return Ha(Bt({},e,{hash:""}))}function r9(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function i9(t){return Z1(t.result)&&H6.has(t.result.status)}function Js(t){return t.type===xt.deferred}function mr(t){return t.type===xt.error}function _a(t){return(t&&t.type)===xt.redirect}function cC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function s9(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Z1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function o9(t){return z6.has(t.toLowerCase())}function Wr(t){return U6.has(t.toLowerCase())}async function a9(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=r.find(h=>h.route.id===c.route.id),f=u!=null&&!Q1(u,c)&&(i&&i[c.route.id])!==void 0;Js(l)&&f&&await mb(l,n,!1).then(h=>{h&&(e[a]=h)})}}async function l9(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&Js(a)&&(at(o,"Expected an AbortController for revalidating fetcher deferred result"),await mb(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function mb(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:xt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:xt.error,error:i}}return{type:xt.data,data:t.deferredData.data}}}function gb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Du(t,e){let n=typeof e=="string"?$o(e).search:e.search;if(t[t.length-1].route.index&&gb(n||""))return t[t.length-1];let r=W1(t);return r[r.length-1]}function uC(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function kv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function c9(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function u9(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function js(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function d9(t,e){try{let n=t.sessionStorage.getItem(q1);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function f9(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(q1,JSON.stringify(n))}catch(r){wc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}const cg=_.createContext(null),X1=_.createContext(null),sl=_.createContext(null),vb=_.createContext(null),Wo=_.createContext({outlet:null,matches:[],isDataRoute:!1}),J1=_.createContext(null);function h9(t,e){let{relative:n}=e===void 0?{}:e;rf()||at(!1);let{basename:r,navigator:i}=_.useContext(sl),{hash:s,pathname:o,search:a}=tN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ss([r,o])),i.createHref({pathname:l,search:a,hash:s})}function rf(){return _.useContext(vb)!=null}function sf(){return rf()||at(!1),_.useContext(vb).location}function eN(t){_.useContext(sl).static||_.useLayoutEffect(t)}function p9(){let{isDataRoute:t}=_.useContext(Wo);return t?R9():m9()}function m9(){rf()||at(!1);let t=_.useContext(cg),{basename:e,future:n,navigator:r}=_.useContext(sl),{matches:i}=_.useContext(Wo),{pathname:s}=sf(),o=JSON.stringify(fb(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return eN(()=>{a.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=hb(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ss([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,s,t])}const g9=_.createContext(null);function v9(t){let e=_.useContext(Wo).outlet;return e&&_.createElement(g9.Provider,{value:t},e)}function tN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(sl),{matches:i}=_.useContext(Wo),{pathname:s}=sf(),o=JSON.stringify(fb(i,r.v7_relativeSplatPath));return _.useMemo(()=>hb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function y9(t,e,n,r){rf()||at(!1);let{navigator:i}=_.useContext(sl),{matches:s}=_.useContext(Wo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=sf(),u;u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=da(t,{pathname:h});return S9(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:ss([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:ss([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r)}function _9(){let t=A9(),e=Ad(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const w9=_.createElement(_9,null);class E9 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Wo.Provider,{value:this.props.routeContext},_.createElement(J1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b9(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(cg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Wo.Provider,{value:e},r)}function S9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||at(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,w=!1,g=null,E=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||w9,l&&(c<0&&h===0?(I9("route-fallback"),w=!0,E=null):c===h&&(w=!0,E=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),v=()=>{let x;return p?x=g:w?x=E:f.route.Component?x=_.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,_.createElement(b9,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(E9,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var nN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nN||{}),rN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rN||{});function T9(t){let e=_.useContext(cg);return e||at(!1),e}function x9(t){let e=_.useContext(X1);return e||at(!1),e}function C9(t){let e=_.useContext(Wo);return e||at(!1),e}function iN(t){let e=C9(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function A9(){var t;let e=_.useContext(J1),n=x9(rN.UseRouteError),r=iN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function R9(){let{router:t}=T9(nN.UseNavigateStable),e=iN(),n=_.useRef(!1);return eN(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jp({fromRouteId:e},s)))},[t,e])}const dC={};function I9(t,e,n){dC[t]||(dC[t]=!0)}function D9(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function k9(t){return v9(t.context)}function P9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=cn.Pop,navigator:s,static:o=!1,future:a}=t;rf()&&at(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:s,static:o,future:jp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=$o(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:w="default"}=r,g=_.useMemo(()=>{let E=zc(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:p,key:w},navigationType:i}},[l,u,f,h,p,w,i]);return g==null?null:_.createElement(sl.Provider,{value:c},_.createElement(vb.Provider,{children:n,value:g}))}new Promise(()=>{});function N9(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:_.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:_.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:_.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rd.apply(this,arguments)}function O9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function M9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L9(t,e){return t.button===0&&(!e||e==="_self")&&!M9(t)}const V9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j9="6";try{window.__reactRouterVersion=j9}catch{}function F9(t,e){return q6({basename:void 0,future:Rd({},void 0,{v7_prependBasename:!0}),history:v6({window:void 0}),hydrationData:U9(),routes:t,mapRouteProperties:N9,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function U9(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Rd({},e,{errors:B9(e.errors)})),e}function B9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Vp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const z9=_.createContext({isTransitioning:!1}),H9=_.createContext(new Map),$9="startTransition",fC=Dw[$9],W9="flushSync",hC=NU[W9];function G9(t){fC?fC(t):t()}function yu(t){hC?hC(t):t()}class q9{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Q9(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=_.useState(n.state),[o,a]=_.useState(),[l,c]=_.useState({isTransitioning:!1}),[u,f]=_.useState(),[h,p]=_.useState(),[w,g]=_.useState(),E=_.useRef(new Map),{v7_startTransition:b}=r||{},v=_.useCallback(C=>{b?G9(C):C()},[b]),x=_.useCallback((C,R)=>{let{deletedFetchers:I,flushSync:N,viewTransitionOpts:P}=R;C.fetchers.forEach((Y,fe)=>{Y.data!==void 0&&E.current.set(fe,Y.data)}),I.forEach(Y=>E.current.delete(Y));let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!P||k){N?yu(()=>s(C)):v(()=>s(C));return}if(N){yu(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let Y=n.window.document.startViewTransition(()=>{yu(()=>s(C))});Y.finished.finally(()=>{yu(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),yu(()=>p(Y));return}h?(u&&u.resolve(),h.skipTransition(),g({state:C,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(a(C),c({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[n.window,h,u,E,v]);_.useLayoutEffect(()=>n.subscribe(x),[n,x]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new q9)},[l]),_.useEffect(()=>{if(u&&o&&n.window){let C=o,R=u.promise,I=n.window.document.startViewTransition(async()=>{v(()=>s(C)),await R});I.finished.finally(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(I)}},[v,o,u,n.window]),_.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),_.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),g(void 0))},[l.isTransitioning,w]),_.useEffect(()=>{},[]);let A=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,R,I)=>n.navigate(C,{state:R,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(C,R,I)=>n.navigate(C,{replace:!0,state:R,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),O=n.basename||"/",V=_.useMemo(()=>({router:n,navigator:A,static:!1,basename:O}),[n,A,O]),S=_.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return _.useEffect(()=>D9(r,n.future),[r,n.future]),_.createElement(_.Fragment,null,_.createElement(cg.Provider,{value:V},_.createElement(X1.Provider,{value:i},_.createElement(H9.Provider,{value:E.current},_.createElement(z9.Provider,{value:l},_.createElement(P9,{basename:O,location:i.location,navigationType:i.historyAction,navigator:A,future:S},i.initialized||n.future.v7_partialHydration?_.createElement(K9,{routes:n.routes,future:n.future,state:i}):e))))),null)}const K9=_.memo(Y9);function Y9(t){let{routes:e,future:n,state:r}=t;return y9(e,void 0,r,n)}const Z9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pv=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=O9(e,V9),{basename:p}=_.useContext(sl),w,g=!1;if(typeof c=="string"&&X9.test(c)&&(w=c,Z9))try{let x=new URL(window.location.href),A=c.startsWith("//")?new URL(x.protocol+c):new URL(c),O=zc(A.pathname,p);A.origin===x.origin&&O!=null?c=O+A.search+A.hash:g=!0}catch{}let E=h9(c,{relative:i}),b=J9(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||b(x)}return _.createElement("a",Rd({},h,{href:w||E,onClick:g||s?r:v,ref:n,target:l}))});var pC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pC||(pC={}));var mC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mC||(mC={}));function J9(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=p9(),c=sf(),u=tN(t,{relative:o});return _.useCallback(f=>{if(L9(f,n)){f.preventDefault();let h=r!==void 0?r:Ha(c)===Ha(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function e5(){const t=sf(),e=()=>{const n=t.pathname;return n.includes("/dashboard/management")?"management":n.includes("/dashboard/schedules")?"schedules":"dashboard"};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx("header",{className:"bg-card shadow-md",children:y.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{children:y.jsx(Pv,{to:"/",className:"flex items-center text-primary hover:text-primary/80 transition-colors",children:y.jsx("img",{src:"/uploads/3938081c-f339-4921-b90f-f5ff2a42361d.png",alt:"Logo",className:"w-16 h-16"})})}),y.jsxs("nav",{className:"flex space-x-4",children:[y.jsx(Pv,{to:"/dashboard/management",className:`flex text-sm items-center px-4 py-2 rounded-md transition-colors ${e()==="management"?"text-primary-foreground":"text-gray-500 hover:text-gray-300"}`,children:y.jsx("span",{children:"Manutenção"})}),y.jsx(Pv,{to:"/dashboard/schedules",className:`flex text-sm items-center px-4 py-2 rounded-md transition-colors ${e()==="schedules"?"text-primary-foreground":"text-gray-500 hover:text-gray-300"}`,children:y.jsx("span",{children:"Calendário"})})]})]}),y.jsx("div",{className:"flex items-center gap-4",children:"user"})]})}),y.jsx("div",{className:"container mx-auto px-4",children:y.jsx(k9,{})})]})}var t5=Dw[" useId ".trim().toString()]||(()=>{}),n5=0;function os(t){const[e,n]=_.useState(t5());return In(()=>{n(r=>r??String(n5++))},[t]),e?`radix-${e}`:""}var Nv="focusScope.autoFocusOnMount",Ov="focusScope.autoFocusOnUnmount",gC={bubbles:!1,cancelable:!0},r5="FocusScope",yb=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=_.useState(null),c=Vr(i),u=Vr(s),f=_.useRef(null),h=Et(e,g=>l(g)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(x){if(p.paused||!a)return;const A=x.target;a.contains(A)?f.current=A:Fs(f.current,{select:!0})},E=function(x){if(p.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||Fs(f.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const O of x)O.removedNodes.length>0&&Fs(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",E);const v=new MutationObserver(b);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",E),v.disconnect()}}},[r,a,p.paused]),_.useEffect(()=>{if(a){yC.add(p);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Nv,gC);a.addEventListener(Nv,c),a.dispatchEvent(b),b.defaultPrevented||(i5(c5(sN(a)),{select:!0}),document.activeElement===g&&Fs(a))}return()=>{a.removeEventListener(Nv,c),setTimeout(()=>{const b=new CustomEvent(Ov,gC);a.addEventListener(Ov,u),a.dispatchEvent(b),b.defaultPrevented||Fs(g??document.body,{select:!0}),a.removeEventListener(Ov,u),yC.remove(p)},0)}}},[a,c,u,p]);const w=_.useCallback(g=>{if(!n&&!r||p.paused)return;const E=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(E&&b){const v=g.currentTarget,[x,A]=s5(v);x&&A?!g.shiftKey&&b===A?(g.preventDefault(),n&&Fs(x,{select:!0})):g.shiftKey&&b===x&&(g.preventDefault(),n&&Fs(A,{select:!0})):b===v&&g.preventDefault()}},[n,r,p.paused]);return y.jsx(Ze.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});yb.displayName=r5;function i5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Fs(r,{select:e}),document.activeElement!==n)return}function s5(t){const e=sN(t),n=vC(e,t),r=vC(e.reverse(),t);return[n,r]}function sN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vC(t,e){for(const n of t)if(!o5(n,{upTo:e}))return n}function o5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function a5(t){return t instanceof HTMLInputElement&&"select"in t}function Fs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&a5(t)&&e&&t.select()}}var yC=l5();function l5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_C(t,e),t.unshift(e)},remove(e){var n;t=_C(t,e),(n=t[0])==null||n.resume()}}}function _C(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function c5(t){return t.filter(e=>e.tagName!=="A")}var Mv=0;function oN(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wC()),document.body.insertAdjacentElement("beforeend",t[1]??wC()),Mv++,()=>{Mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Mv--}},[])}function wC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vi=function(){return vi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vi.apply(this,arguments)};function of(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var jh="right-scroll-bar-position",Fh="width-before-scroll-bar",d5="with-scroll-bars-hidden",f5="--removed-body-scroll-bar-size";function Lv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function h5(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var p5=typeof window<"u"?_.useLayoutEffect:_.useEffect,EC=new WeakMap;function m5(t,e){var n=h5(null,function(r){return t.forEach(function(i){return Lv(i,r)})});return p5(function(){var r=EC.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Lv(a,null)}),s.forEach(function(a){i.has(a)||Lv(a,o)})}EC.set(n,t)},[t]),n}function g5(t){return t}function v5(t,e){e===void 0&&(e=g5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function y5(t){t===void 0&&(t={});var e=v5(null);return e.options=vi({async:!0,ssr:!1},t),e}var aN=function(t){var e=t.sideCar,n=of(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,vi({},n))};aN.isSideCarExport=!0;function _5(t,e){return t.useMedium(e),aN}var lN=y5(),Vv=function(){},ug=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:Vv,onWheelCapture:Vv,onTouchMoveCapture:Vv}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,w=t.noIsolation,g=t.inert,E=t.allowPinchZoom,b=t.as,v=b===void 0?"div":b,x=t.gapMode,A=of(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=h,V=m5([n,e]),S=vi(vi({},A),i);return _.createElement(_.Fragment,null,u&&_.createElement(O,{sideCar:lN,removeScrollBar:c,shards:f,noRelative:p,noIsolation:w,inert:g,setCallbacks:s,allowPinchZoom:!!E,lockRef:n,gapMode:x}),o?_.cloneElement(_.Children.only(a),vi(vi({},S),{ref:V})):_.createElement(v,vi({},S,{className:l,ref:V}),a))});ug.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ug.classNames={fullWidth:Fh,zeroRight:jh};var w5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=w5();return e&&t.setAttribute("nonce",e),t}function b5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function S5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var T5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=E5())&&(b5(e,n),S5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},x5=function(){var t=T5();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cN=function(){var t=x5(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},C5={left:0,top:0,right:0,gap:0},jv=function(t){return parseInt(t||"",10)||0},A5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[jv(n),jv(r),jv(i)]},R5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return C5;var e=A5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},I5=cN(),Zl="data-scroll-locked",D5=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(d5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jh," .").concat(jh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fh," .").concat(Fh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(f5,": ").concat(a,`px;
  }
`)},bC=function(){var t=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(t)?t:0},k5=function(){_.useEffect(function(){return document.body.setAttribute(Zl,(bC()+1).toString()),function(){var t=bC()-1;t<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,t.toString())}},[])},P5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;k5();var s=_.useMemo(function(){return R5(i)},[i]);return _.createElement(I5,{styles:D5(s,!e,i,n?"":"!important")})},M_=!1;if(typeof window<"u")try{var th=Object.defineProperty({},"passive",{get:function(){return M_=!0,!0}});window.addEventListener("test",th,th),window.removeEventListener("test",th,th)}catch{M_=!1}var ml=M_?{passive:!1}:!1,N5=function(t){return t.tagName==="TEXTAREA"},uN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!N5(t)&&n[e]==="visible")},O5=function(t){return uN(t,"overflowY")},M5=function(t){return uN(t,"overflowX")},SC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dN(t,r);if(i){var s=fN(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},L5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},V5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dN=function(t,e){return t==="v"?O5(e):M5(e)},fN=function(t,e){return t==="v"?L5(e):V5(e)},j5=function(t,e){return t==="h"&&e==="rtl"?-1:1},F5=function(t,e,n,r,i){var s=j5(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,h=0;do{if(!a)break;var p=fN(t,a),w=p[0],g=p[1],E=p[2],b=g-E-s*w;(w||b)&&dN(t,a)&&(f+=b,h+=w);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(c=!0),c},nh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TC=function(t){return[t.deltaX,t.deltaY]},xC=function(t){return t&&"current"in t?t.current:t},U5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},B5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},z5=0,gl=[];function H5(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(z5++)[0],s=_.useState(cN)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=u5([t.lockRef.current],(t.shards||[]).map(xC),!0).filter(Boolean);return g.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=_.useCallback(function(g,E){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=nh(g),v=n.current,x="deltaX"in g?g.deltaX:v[0]-b[0],A="deltaY"in g?g.deltaY:v[1]-b[1],O,V=g.target,S=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in g&&S==="h"&&V.type==="range")return!1;var C=SC(S,V);if(!C)return!0;if(C?O=S:(O=S==="v"?"h":"v",C=SC(S,V)),!C)return!1;if(!r.current&&"changedTouches"in g&&(x||A)&&(r.current=O),!O)return!0;var R=r.current||O;return F5(R,E,g,R==="h"?x:A)},[]),l=_.useCallback(function(g){var E=g;if(!(!gl.length||gl[gl.length-1]!==s)){var b="deltaY"in E?TC(E):nh(E),v=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&U5(O.delta,b)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(xC).filter(Boolean).filter(function(O){return O.contains(E.target)}),A=x.length>0?a(E,x[0]):!o.current.noIsolation;A&&E.cancelable&&E.preventDefault()}}},[]),c=_.useCallback(function(g,E,b,v){var x={name:g,delta:E,target:b,should:v,shadowParent:$5(b)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),u=_.useCallback(function(g){n.current=nh(g),r.current=void 0},[]),f=_.useCallback(function(g){c(g.type,TC(g),g.target,a(g,t.lockRef.current))},[]),h=_.useCallback(function(g){c(g.type,nh(g),g.target,a(g,t.lockRef.current))},[]);_.useEffect(function(){return gl.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ml),document.addEventListener("touchmove",l,ml),document.addEventListener("touchstart",u,ml),function(){gl=gl.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,ml),document.removeEventListener("touchmove",l,ml),document.removeEventListener("touchstart",u,ml)}},[]);var p=t.removeScrollBar,w=t.inert;return _.createElement(_.Fragment,null,w?_.createElement(s,{styles:B5(i)}):null,p?_.createElement(P5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function $5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const W5=_5(lN,H5);var _b=_.forwardRef(function(t,e){return _.createElement(ug,vi({},t,{ref:e,sideCar:W5}))});_b.classNames=ug.classNames;var G5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vl=new WeakMap,rh=new WeakMap,ih={},Fv=0,hN=function(t){return t&&(t.host||hN(t.parentNode))},q5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Q5=function(t,e,n,r){var i=q5(e,Array.isArray(t)?t:[t]);ih[n]||(ih[n]=new WeakMap);var s=ih[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),w=p!==null&&p!=="false",g=(vl.get(h)||0)+1,E=(s.get(h)||0)+1;vl.set(h,g),s.set(h,E),o.push(h),g===1&&w&&rh.set(h,!0),E===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),a.clear(),Fv++,function(){o.forEach(function(f){var h=vl.get(f)-1,p=s.get(f)-1;vl.set(f,h),s.set(f,p),h||(rh.has(f)||f.removeAttribute(r),rh.delete(f)),p||f.removeAttribute(n)}),Fv--,Fv||(vl=new WeakMap,vl=new WeakMap,rh=new WeakMap,ih={})}},pN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=G5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Q5(r,i,n,"aria-hidden")):function(){return null}},dg="Dialog",[mN,gN]=Oi(dg),[K5,si]=mN(dg),vN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=_.useRef(null),l=_.useRef(null),[c,u]=So({prop:r,defaultProp:i??!1,onChange:s,caller:dg});return y.jsx(K5,{scope:e,triggerRef:a,contentRef:l,contentId:os(),titleId:os(),descriptionId:os(),open:c,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};vN.displayName=dg;var yN="DialogTrigger",_N=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=si(yN,n),s=Et(e,i.triggerRef);return y.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bb(i.open),...r,ref:s,onClick:Pe(t.onClick,i.onOpenToggle)})});_N.displayName=yN;var wb="DialogPortal",[Y5,wN]=mN(wb,{forceMount:void 0}),EN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=si(wb,e);return y.jsx(Y5,{scope:e,forceMount:n,children:_.Children.map(r,o=>y.jsx(Uo,{present:n||s.open,children:y.jsx(Um,{asChild:!0,container:i,children:o})}))})};EN.displayName=wb;var Fp="DialogOverlay",bN=_.forwardRef((t,e)=>{const n=wN(Fp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=si(Fp,t.__scopeDialog);return s.modal?y.jsx(Uo,{present:r||s.open,children:y.jsx(X5,{...i,ref:e})}):null});bN.displayName=Fp;var Z5=hc("DialogOverlay.RemoveScroll"),X5=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=si(Fp,n);return y.jsx(_b,{as:Z5,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Ze.div,{"data-state":bb(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$a="DialogContent",SN=_.forwardRef((t,e)=>{const n=wN($a,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=si($a,t.__scopeDialog);return y.jsx(Uo,{present:r||s.open,children:s.modal?y.jsx(J5,{...i,ref:e}):y.jsx(eW,{...i,ref:e})})});SN.displayName=$a;var J5=_.forwardRef((t,e)=>{const n=si($a,t.__scopeDialog),r=_.useRef(null),i=Et(e,n.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return pN(s)},[]),y.jsx(TN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,s=>s.preventDefault())})}),eW=_.forwardRef((t,e)=>{const n=si($a,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return y.jsx(TN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),TN=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=si($a,n),l=_.useRef(null),c=Et(e,l);return oN(),y.jsxs(y.Fragment,{children:[y.jsx(yb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(Wd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bb(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(nW,{titleId:a.titleId}),y.jsx(iW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Eb="DialogTitle",xN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=si(Eb,n);return y.jsx(Ze.h2,{id:i.titleId,...r,ref:e})});xN.displayName=Eb;var CN="DialogDescription",AN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=si(CN,n);return y.jsx(Ze.p,{id:i.descriptionId,...r,ref:e})});AN.displayName=CN;var RN="DialogClose",IN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=si(RN,n);return y.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Pe(t.onClick,()=>i.onOpenChange(!1))})});IN.displayName=RN;function bb(t){return t?"open":"closed"}var DN="DialogTitleWarning",[tW,kN]=BU(DN,{contentName:$a,titleName:Eb,docsSlug:"dialog"}),nW=({titleId:t})=>{const e=kN(DN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},rW="DialogDescriptionWarning",iW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kN(rW).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},PN=vN,NN=_N,ON=EN,Sb=bN,Tb=SN,xb=xN,Cb=AN,Ab=IN,MN="AlertDialog",[sW,rne]=Oi(MN,[gN]),xs=gN(),LN=t=>{const{__scopeAlertDialog:e,...n}=t,r=xs(e);return y.jsx(PN,{...r,...n,modal:!0})};LN.displayName=MN;var oW="AlertDialogTrigger",VN=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xs(n);return y.jsx(NN,{...i,...r,ref:e})});VN.displayName=oW;var aW="AlertDialogPortal",jN=t=>{const{__scopeAlertDialog:e,...n}=t,r=xs(e);return y.jsx(ON,{...r,...n})};jN.displayName=aW;var lW="AlertDialogOverlay",FN=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xs(n);return y.jsx(Sb,{...i,...r,ref:e})});FN.displayName=lW;var Xl="AlertDialogContent",[cW,uW]=sW(Xl),dW=ok("AlertDialogContent"),UN=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=xs(n),o=_.useRef(null),a=Et(e,o),l=_.useRef(null);return y.jsx(tW,{contentName:Xl,titleName:BN,docsSlug:"alert-dialog",children:y.jsx(cW,{scope:n,cancelRef:l,children:y.jsxs(Tb,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Pe(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[y.jsx(dW,{children:r}),y.jsx(hW,{contentRef:o})]})})})});UN.displayName=Xl;var BN="AlertDialogTitle",zN=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xs(n);return y.jsx(xb,{...i,...r,ref:e})});zN.displayName=BN;var HN="AlertDialogDescription",$N=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xs(n);return y.jsx(Cb,{...i,...r,ref:e})});$N.displayName=HN;var fW="AlertDialogAction",WN=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xs(n);return y.jsx(Ab,{...i,...r,ref:e})});WN.displayName=fW;var GN="AlertDialogCancel",qN=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=uW(GN,n),s=xs(n),o=Et(e,i);return y.jsx(Ab,{...s,...r,ref:o})});qN.displayName=GN;var hW=({contentRef:t})=>{const e=`\`${Xl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xl}\` by passing a \`${HN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},pW=LN,mW=VN,gW=jN,QN=FN,KN=UN,YN=WN,ZN=qN,XN=zN,JN=$N;const Rb=xE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-xs font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-3.5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-8 px-3 py-1.5",sm:"h-7 rounded-md px-2.5 py-1",lg:"h-9 rounded-md px-6 py-2",icon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),di=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ik:"button";return y.jsx(o,{className:Le(Rb({variant:e,size:n,className:t})),ref:s,...i})});di.displayName="Button";const CC=pW,AC=mW,vW=gW,eO=_.forwardRef(({className:t,...e},n)=>y.jsx(QN,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));eO.displayName=QN.displayName;const L_=_.forwardRef(({className:t,...e},n)=>y.jsxs(vW,{children:[y.jsx(eO,{}),y.jsx(KN,{ref:n,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));L_.displayName=KN.displayName;const V_=({className:t,...e})=>y.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",t),...e});V_.displayName="AlertDialogHeader";const j_=({className:t,...e})=>y.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});j_.displayName="AlertDialogFooter";const F_=_.forwardRef(({className:t,...e},n)=>y.jsx(XN,{ref:n,className:Le("text-lg font-semibold",t),...e}));F_.displayName=XN.displayName;const U_=_.forwardRef(({className:t,...e},n)=>y.jsx(JN,{ref:n,className:Le("text-sm text-muted-foreground",t),...e}));U_.displayName=JN.displayName;const B_=_.forwardRef(({className:t,...e},n)=>y.jsx(YN,{ref:n,className:Le(Rb(),t),...e}));B_.displayName=YN.displayName;const z_=_.forwardRef(({className:t,...e},n)=>y.jsx(ZN,{ref:n,className:Le(Rb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));z_.displayName=ZN.displayName;const Up=PN,RC=NN,yW=ON,tO=_.forwardRef(({className:t,...e},n)=>y.jsx(Sb,{ref:n,className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tO.displayName=Sb.displayName;const Id=_.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(yW,{children:[y.jsx(tO,{}),y.jsxs(Tb,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,y.jsxs(Ab,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(Lk,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Id.displayName=Tb.displayName;const Dd=({className:t,...e})=>y.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dd.displayName="DialogHeader";const H_=({className:t,...e})=>y.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});H_.displayName="DialogFooter";const kd=_.forwardRef(({className:t,...e},n)=>y.jsx(xb,{ref:n,className:Le("text-lg font-semibold leading-none tracking-tight",t),...e}));kd.displayName=xb.displayName;const $_=_.forwardRef(({className:t,...e},n)=>y.jsx(Cb,{ref:n,className:Le("text-sm text-muted-foreground",t),...e}));$_.displayName=Cb.displayName;var af=t=>t.type==="checkbox",wa=t=>t instanceof Date,qn=t=>t==null;const nO=t=>typeof t=="object";var sn=t=>!qn(t)&&!Array.isArray(t)&&nO(t)&&!wa(t),rO=t=>sn(t)&&t.target?af(t.target)?t.target.checked:t.target.value:t,_W=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iO=(t,e)=>t.has(_W(e)),wW=t=>{const e=t.constructor&&t.constructor.prototype;return sn(e)&&e.hasOwnProperty("isPrototypeOf")},Ib=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Ib&&(t instanceof Blob||r))&&(n||sn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!wW(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=hn(t[i]));else return t;return e}var fg=t=>/^\w*$/.test(t),en=t=>t===void 0,Db=t=>Array.isArray(t)?t.filter(Boolean):[],kb=t=>Db(t.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(t,e,n)=>{if(!e||!sn(t))return n;const r=(fg(e)?[e]:kb(e)).reduce((i,s)=>qn(i)?i:i[s],t);return en(r)||r===t?en(t[e])?n:t[e]:r},gr=t=>typeof t=="boolean",Tt=(t,e,n)=>{let r=-1;const i=fg(e)?[e]:kb(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=sn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Bp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Pb=Ue.createContext(null);Pb.displayName="HookFormContext";const hg=()=>Ue.useContext(Pb),EW=t=>{const{children:e,...n}=t;return Ue.createElement(Pb.Provider,{value:n},e)};var sO=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==qr.all&&(e._proxyFormState[o]=!r||qr.all),n&&(n[o]=!0),t[o]}});return i};const Nb=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;function bW(t){const e=hg(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=Ue.useState(n._formState),l=Ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Nb(()=>n._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!r&&a({...n._formState,...c})}}),[i,r,s]),Ue.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),Ue.useMemo(()=>sO(o,n,l.current,!1),[o,n])}var yi=t=>typeof t=="string",oO=(t,e,n,r,i)=>yi(t)?(r&&e.watch.add(t),me(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),me(n,s))):(r&&(e.watchAll=!0),n),W_=t=>qn(t)||!nO(t);function Yi(t,e,n=new WeakSet){if(W_(t)||W_(e))return t===e;if(wa(t)&&wa(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(wa(o)&&wa(a)||sn(o)&&sn(a)||Array.isArray(o)&&Array.isArray(a)?!Yi(o,a,n):o!==a)return!1}}return!0}function SW(t){const e=hg(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o,compute:a}=t||{},l=Ue.useRef(i),c=Ue.useRef(a),u=Ue.useRef(void 0);c.current=a;const f=Ue.useMemo(()=>n._getWatch(r,l.current),[n,r]),[h,p]=Ue.useState(c.current?c.current(f):f);return Nb(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:w=>{if(!s){const g=oO(r,n._names,w.values||n._formValues,!1,l.current);if(c.current){const E=c.current(g);Yi(E,u.current)||(p(E),u.current=E)}else p(g)}}}),[n,s,r,o]),Ue.useEffect(()=>n._removeUnmounted()),h}function TW(t){const e=hg(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s,defaultValue:o}=t,a=iO(i._names.array,n),l=Ue.useMemo(()=>me(i._formValues,n,me(i._defaultValues,n,o)),[i,n,o]),c=SW({control:i,name:n,defaultValue:l,exact:!0}),u=bW({control:i,name:n,exact:!0}),f=Ue.useRef(t),h=Ue.useRef(i.register(n,{...t.rules,value:c,...gr(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const p=Ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!me(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!me(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!me(u.validatingFields,n)},error:{enumerable:!0,get:()=>me(u.errors,n)}}),[u,n]),w=Ue.useCallback(v=>h.current.onChange({target:{value:rO(v),name:n},type:Bp.CHANGE}),[n]),g=Ue.useCallback(()=>h.current.onBlur({target:{value:me(i._formValues,n),name:n},type:Bp.BLUR}),[n,i._formValues]),E=Ue.useCallback(v=>{const x=me(i._fields,n);x&&v&&(x._f.ref={focus:()=>v.focus&&v.focus(),select:()=>v.select&&v.select(),setCustomValidity:A=>v.setCustomValidity(A),reportValidity:()=>v.reportValidity()})},[i._fields,n]),b=Ue.useMemo(()=>({name:n,value:c,...gr(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:w,onBlur:g,ref:E}),[n,r,u.disabled,w,g,E,c]);return Ue.useEffect(()=>{const v=i._options.shouldUnregister||s;i.register(n,{...f.current.rules,...gr(f.current.disabled)?{disabled:f.current.disabled}:{}});const x=(A,O)=>{const V=me(i._fields,A);V&&V._f&&(V._f.mount=O)};if(x(n,!0),v){const A=hn(me(i._options.defaultValues,n));Tt(i._defaultValues,n,A),en(me(i._formValues,n))&&Tt(i._formValues,n,A)}return!a&&i.register(n),()=>{(a?v&&!i._state.action:v)?i.unregister(n):x(n,!1)}},[n,i,a,s]),Ue.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Ue.useMemo(()=>({field:b,formState:u,fieldState:p}),[b,u,p])}const xW=t=>t.render(TW(t));var aO=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ku=t=>Array.isArray(t)?t:[t],IC=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},er=t=>sn(t)&&!Object.keys(t).length,Ob=t=>t.type==="file",Qr=t=>typeof t=="function",zp=t=>{if(!Ib)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},lO=t=>t.type==="select-multiple",Mb=t=>t.type==="radio",CW=t=>Mb(t)||af(t),Uv=t=>zp(t)&&t.isConnected;function AW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=en(t)?r++:t[e[r++]];return t}function RW(t){for(const e in t)if(t.hasOwnProperty(e)&&!en(t[e]))return!1;return!0}function an(t,e){const n=Array.isArray(e)?e:fg(e)?[e]:kb(e),r=n.length===1?t:AW(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(sn(r)&&er(r)||Array.isArray(r)&&RW(r))&&an(t,n.slice(0,-1)),t}var cO=t=>{for(const e in t)if(Qr(t[e]))return!0;return!1};function Hp(t,e={}){const n=Array.isArray(t);if(sn(t)||n)for(const r in t)Array.isArray(t[r])||sn(t[r])&&!cO(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Hp(t[r],e[r])):qn(t[r])||(e[r]=!0);return e}function uO(t,e,n){const r=Array.isArray(t);if(sn(t)||r)for(const i in t)Array.isArray(t[i])||sn(t[i])&&!cO(t[i])?en(e)||W_(n[i])?n[i]=Array.isArray(t[i])?Hp(t[i],[]):{...Hp(t[i])}:uO(t[i],qn(e)?{}:e[i],n[i]):n[i]=!Yi(t[i],e[i]);return n}var _u=(t,e)=>uO(t,e,Hp(e));const DC={value:!1,isValid:!1},kC={value:!0,isValid:!0};var dO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!en(t[0].attributes.value)?en(t[0].value)||t[0].value===""?kC:{value:t[0].value,isValid:!0}:kC:DC}return DC},fO=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>en(t)?t:e?t===""?NaN:t&&+t:n&&yi(t)?new Date(t):r?r(t):t;const PC={isValid:!1,value:null};var hO=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,PC):PC;function NC(t){const e=t.ref;return Ob(e)?e.files:Mb(e)?hO(t.refs).value:lO(e)?[...e.selectedOptions].map(({value:n})=>n):af(e)?dO(t.refs).value:fO(en(e.value)?t.ref.value:e.value,t)}var IW=(t,e,n,r)=>{const i={};for(const s of t){const o=me(e,s);o&&Tt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},$p=t=>t instanceof RegExp,wu=t=>en(t)?t:$p(t)?t.source:sn(t)?$p(t.value)?t.value.source:t.value:t,OC=t=>({isOnSubmit:!t||t===qr.onSubmit,isOnBlur:t===qr.onBlur,isOnChange:t===qr.onChange,isOnAll:t===qr.all,isOnTouch:t===qr.onTouched});const MC="AsyncFunction";var DW=t=>!!t&&!!t.validate&&!!(Qr(t.validate)&&t.validate.constructor.name===MC||sn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===MC)),kW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),LC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Yu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=me(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Yu(a,e))break}else if(sn(a)&&Yu(a,e))break}}};function VC(t,e,n){const r=me(t,n);if(r||fg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=me(e,s),a=me(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:n}}var PW=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return er(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||qr.all))},NW=(t,e,n)=>!t||!e||t===e||Ku(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),OW=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,MW=(t,e)=>!Db(me(t,e)).length&&an(t,e),LW=(t,e,n)=>{const r=Ku(me(t,n));return Tt(r,"root",e[n]),Tt(t,n,r),t},Uh=t=>yi(t);function jC(t,e,n="validate"){if(Uh(t)||Array.isArray(t)&&t.every(Uh)||gr(t)&&!t)return{type:n,message:Uh(t)?t:"",ref:e}}var yl=t=>sn(t)&&!$p(t)?t:{value:t,message:""},FC=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:f,max:h,pattern:p,validate:w,name:g,valueAsNumber:E,mount:b}=t._f,v=me(n,g);if(!b||e.has(g))return{};const x=a?a[0]:o,A=P=>{i&&x.reportValidity&&(x.setCustomValidity(gr(P)?"":P||""),x.reportValidity())},O={},V=Mb(o),S=af(o),C=V||S,R=(E||Ob(o))&&en(o.value)&&en(v)||zp(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,I=aO.bind(null,g,r,O),N=(P,k,Y,fe=qi.maxLength,le=qi.minLength)=>{const ve=P?k:Y;O[g]={type:P?fe:le,message:ve,ref:o,...I(P?fe:le,ve)}};if(s?!Array.isArray(v)||!v.length:l&&(!C&&(R||qn(v))||gr(v)&&!v||S&&!dO(a).isValid||V&&!hO(a).isValid)){const{value:P,message:k}=Uh(l)?{value:!!l,message:l}:yl(l);if(P&&(O[g]={type:qi.required,message:k,ref:x,...I(qi.required,k)},!r))return A(k),O}if(!R&&(!qn(f)||!qn(h))){let P,k;const Y=yl(h),fe=yl(f);if(!qn(v)&&!isNaN(v)){const le=o.valueAsNumber||v&&+v;qn(Y.value)||(P=le>Y.value),qn(fe.value)||(k=le<fe.value)}else{const le=o.valueAsDate||new Date(v),ve=pe=>new Date(new Date().toDateString()+" "+pe),H=o.type=="time",ee=o.type=="week";yi(Y.value)&&v&&(P=H?ve(v)>ve(Y.value):ee?v>Y.value:le>new Date(Y.value)),yi(fe.value)&&v&&(k=H?ve(v)<ve(fe.value):ee?v<fe.value:le<new Date(fe.value))}if((P||k)&&(N(!!P,Y.message,fe.message,qi.max,qi.min),!r))return A(O[g].message),O}if((c||u)&&!R&&(yi(v)||s&&Array.isArray(v))){const P=yl(c),k=yl(u),Y=!qn(P.value)&&v.length>+P.value,fe=!qn(k.value)&&v.length<+k.value;if((Y||fe)&&(N(Y,P.message,k.message),!r))return A(O[g].message),O}if(p&&!R&&yi(v)){const{value:P,message:k}=yl(p);if($p(P)&&!v.match(P)&&(O[g]={type:qi.pattern,message:k,ref:o,...I(qi.pattern,k)},!r))return A(k),O}if(w){if(Qr(w)){const P=await w(v,n),k=jC(P,x);if(k&&(O[g]={...k,...I(qi.validate,k.message)},!r))return A(k.message),O}else if(sn(w)){let P={};for(const k in w){if(!er(P)&&!r)break;const Y=jC(await w[k](v,n),x,k);Y&&(P={...Y,...I(k,Y.message)},A(Y.message),r&&(O[g]=P))}if(!er(P)&&(O[g]={ref:x,...P},!r))return O}}return A(!0),O};const VW={mode:qr.onSubmit,reValidateMode:qr.onChange,shouldFocusError:!0};function jW(t={}){let e={...VW,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Qr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=sn(e.defaultValues)||sn(e.values)?hn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:hn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:IC(),state:IC()},p=e.criteriaMode===qr.all,w=M=>B=>{clearTimeout(c),c=setTimeout(M,B)},g=async M=>{if(!e.disabled&&(u.isValid||f.isValid||M)){const B=e.resolver?er((await S()).errors):await R(r,!0);B!==n.isValid&&h.state.next({isValid:B})}},E=(M,B)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(a.mount)).forEach(K=>{K&&(B?Tt(n.validatingFields,K,B):an(n.validatingFields,K))}),h.state.next({validatingFields:n.validatingFields,isValidating:!er(n.validatingFields)}))},b=(M,B=[],K,se,oe=!0,re=!0)=>{if(se&&K&&!e.disabled){if(o.action=!0,re&&Array.isArray(me(r,M))){const ge=K(me(r,M),se.argA,se.argB);oe&&Tt(r,M,ge)}if(re&&Array.isArray(me(n.errors,M))){const ge=K(me(n.errors,M),se.argA,se.argB);oe&&Tt(n.errors,M,ge),MW(n.errors,M)}if((u.touchedFields||f.touchedFields)&&re&&Array.isArray(me(n.touchedFields,M))){const ge=K(me(n.touchedFields,M),se.argA,se.argB);oe&&Tt(n.touchedFields,M,ge)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=_u(i,s)),h.state.next({name:M,isDirty:N(M,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Tt(s,M,B)},v=(M,B)=>{Tt(n.errors,M,B),h.state.next({errors:n.errors})},x=M=>{n.errors=M,h.state.next({errors:n.errors,isValid:!1})},A=(M,B,K,se)=>{const oe=me(r,M);if(oe){const re=me(s,M,en(K)?me(i,M):K);en(re)||se&&se.defaultChecked||B?Tt(s,M,B?re:NC(oe._f)):Y(M,re),o.mount&&g()}},O=(M,B,K,se,oe)=>{let re=!1,ge=!1;const Ve={name:M};if(!e.disabled){if(!K||se){(u.isDirty||f.isDirty)&&(ge=n.isDirty,n.isDirty=Ve.isDirty=N(),re=ge!==Ve.isDirty);const et=Yi(me(i,M),B);ge=!!me(n.dirtyFields,M),et?an(n.dirtyFields,M):Tt(n.dirtyFields,M,!0),Ve.dirtyFields=n.dirtyFields,re=re||(u.dirtyFields||f.dirtyFields)&&ge!==!et}if(K){const et=me(n.touchedFields,M);et||(Tt(n.touchedFields,M,K),Ve.touchedFields=n.touchedFields,re=re||(u.touchedFields||f.touchedFields)&&et!==K)}re&&oe&&h.state.next(Ve)}return re?Ve:{}},V=(M,B,K,se)=>{const oe=me(n.errors,M),re=(u.isValid||f.isValid)&&gr(B)&&n.isValid!==B;if(e.delayError&&K?(l=w(()=>v(M,K)),l(e.delayError)):(clearTimeout(c),l=null,K?Tt(n.errors,M,K):an(n.errors,M)),(K?!Yi(oe,K):oe)||!er(se)||re){const ge={...se,...re&&gr(B)?{isValid:B}:{},errors:n.errors,name:M};n={...n,...ge},h.state.next(ge)}},S=async M=>{E(M,!0);const B=await e.resolver(s,e.context,IW(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(M),B},C=async M=>{const{errors:B}=await S(M);if(M)for(const K of M){const se=me(B,K);se?Tt(n.errors,K,se):an(n.errors,K)}else n.errors=B;return B},R=async(M,B,K={valid:!0})=>{for(const se in M){const oe=M[se];if(oe){const{_f:re,...ge}=oe;if(re){const Ve=a.array.has(re.name),et=oe._f&&DW(oe._f);et&&u.validatingFields&&E([se],!0);const Pt=await FC(oe,a.disabled,s,p,e.shouldUseNativeValidation&&!B,Ve);if(et&&u.validatingFields&&E([se]),Pt[re.name]&&(K.valid=!1,B))break;!B&&(me(Pt,re.name)?Ve?LW(n.errors,Pt,re.name):Tt(n.errors,re.name,Pt[re.name]):an(n.errors,re.name))}!er(ge)&&await R(ge,B,K)}}return K.valid},I=()=>{for(const M of a.unMount){const B=me(r,M);B&&(B._f.refs?B._f.refs.every(K=>!Uv(K)):!Uv(B._f.ref))&&U(M)}a.unMount=new Set},N=(M,B)=>!e.disabled&&(M&&B&&Tt(s,M,B),!Yi(pe(),i)),P=(M,B,K)=>oO(M,a,{...o.mount?s:en(B)?i:yi(M)?{[M]:B}:B},K,B),k=M=>Db(me(o.mount?s:i,M,e.shouldUnregister?me(i,M,[]):[])),Y=(M,B,K={})=>{const se=me(r,M);let oe=B;if(se){const re=se._f;re&&(!re.disabled&&Tt(s,M,fO(B,re)),oe=zp(re.ref)&&qn(B)?"":B,lO(re.ref)?[...re.ref.options].forEach(ge=>ge.selected=oe.includes(ge.value)):re.refs?af(re.ref)?re.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(oe)?ge.checked=!!oe.find(Ve=>Ve===ge.value):ge.checked=oe===ge.value||!!oe)}):re.refs.forEach(ge=>ge.checked=ge.value===oe):Ob(re.ref)?re.ref.value="":(re.ref.value=oe,re.ref.type||h.state.next({name:M,values:hn(s)})))}(K.shouldDirty||K.shouldTouch)&&O(M,oe,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&ee(M)},fe=(M,B,K)=>{for(const se in B){if(!B.hasOwnProperty(se))return;const oe=B[se],re=M+"."+se,ge=me(r,re);(a.array.has(M)||sn(oe)||ge&&!ge._f)&&!wa(oe)?fe(re,oe,K):Y(re,oe,K)}},le=(M,B,K={})=>{const se=me(r,M),oe=a.array.has(M),re=hn(B);Tt(s,M,re),oe?(h.array.next({name:M,values:hn(s)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&K.shouldDirty&&h.state.next({name:M,dirtyFields:_u(i,s),isDirty:N(M,re)})):se&&!se._f&&!qn(re)?fe(M,re,K):Y(M,re,K),LC(M,a)&&h.state.next({...n,name:M}),h.state.next({name:o.mount?M:void 0,values:hn(s)})},ve=async M=>{o.mount=!0;const B=M.target;let K=B.name,se=!0;const oe=me(r,K),re=et=>{se=Number.isNaN(et)||wa(et)&&isNaN(et.getTime())||Yi(et,me(s,K,et))},ge=OC(e.mode),Ve=OC(e.reValidateMode);if(oe){let et,Pt;const oi=B.type?NC(oe._f):rO(M),Hn=M.type===Bp.BLUR||M.type===Bp.FOCUS_OUT,Vi=!kW(oe._f)&&!e.resolver&&!me(n.errors,K)&&!oe._f.deps||OW(Hn,me(n.touchedFields,K),n.isSubmitted,Ve,ge),$n=LC(K,a,Hn);Tt(s,K,oi),Hn?(!B||!B.readOnly)&&(oe._f.onBlur&&oe._f.onBlur(M),l&&l(0)):oe._f.onChange&&oe._f.onChange(M);const ji=O(K,oi,Hn),Rs=!er(ji)||$n;if(!Hn&&h.state.next({name:K,type:M.type,values:hn(s)}),Vi)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?Hn&&g():Hn||g()),Rs&&h.state.next({name:K,...$n?{}:ji});if(!Hn&&$n&&h.state.next({...n}),e.resolver){const{errors:Ko}=await S([K]);if(re(oi),se){const Kc=VC(n.errors,r,K),Fi=VC(Ko,r,Kc.name||K);et=Fi.error,K=Fi.name,Pt=er(Ko)}}else E([K],!0),et=(await FC(oe,a.disabled,s,p,e.shouldUseNativeValidation))[K],E([K]),re(oi),se&&(et?Pt=!1:(u.isValid||f.isValid)&&(Pt=await R(r,!0)));se&&(oe._f.deps&&ee(oe._f.deps),V(K,Pt,et,ji))}},H=(M,B)=>{if(me(n.errors,B)&&M.focus)return M.focus(),1},ee=async(M,B={})=>{let K,se;const oe=Ku(M);if(e.resolver){const re=await C(en(M)?M:oe);K=er(re),se=M?!oe.some(ge=>me(re,ge)):K}else M?(se=(await Promise.all(oe.map(async re=>{const ge=me(r,re);return await R(ge&&ge._f?{[re]:ge}:ge)}))).every(Boolean),!(!se&&!n.isValid)&&g()):se=K=await R(r);return h.state.next({...!yi(M)||(u.isValid||f.isValid)&&K!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:K}:{},errors:n.errors}),B.shouldFocus&&!se&&Yu(r,H,M?oe:a.mount),se},pe=M=>{const B={...o.mount?s:i};return en(M)?B:yi(M)?me(B,M):M.map(K=>me(B,K))},Ie=(M,B)=>({invalid:!!me((B||n).errors,M),isDirty:!!me((B||n).dirtyFields,M),error:me((B||n).errors,M),isValidating:!!me(n.validatingFields,M),isTouched:!!me((B||n).touchedFields,M)}),ke=M=>{M&&Ku(M).forEach(B=>an(n.errors,B)),h.state.next({errors:M?n.errors:{}})},ze=(M,B,K)=>{const se=(me(r,M,{_f:{}})._f||{}).ref,oe=me(n.errors,M)||{},{ref:re,message:ge,type:Ve,...et}=oe;Tt(n.errors,M,{...et,...B,ref:se}),h.state.next({name:M,errors:n.errors,isValid:!1}),K&&K.shouldFocus&&se&&se.focus&&se.focus()},ct=(M,B)=>Qr(M)?h.state.subscribe({next:K=>"values"in K&&M(P(void 0,B),K)}):P(M,B,!0),it=M=>h.state.subscribe({next:B=>{NW(M.name,B.name,M.exact)&&PW(B,M.formState||u,ft,M.reRenderRoot)&&M.callback({values:{...s},...n,...B,defaultValues:i})}}).unsubscribe,mt=M=>(o.mount=!0,f={...f,...M.formState},it({...M,formState:f})),U=(M,B={})=>{for(const K of M?Ku(M):a.mount)a.mount.delete(K),a.array.delete(K),B.keepValue||(an(r,K),an(s,K)),!B.keepError&&an(n.errors,K),!B.keepDirty&&an(n.dirtyFields,K),!B.keepTouched&&an(n.touchedFields,K),!B.keepIsValidating&&an(n.validatingFields,K),!e.shouldUnregister&&!B.keepDefaultValue&&an(i,K);h.state.next({values:hn(s)}),h.state.next({...n,...B.keepDirty?{isDirty:N()}:{}}),!B.keepIsValid&&g()},$=({disabled:M,name:B})=>{(gr(M)&&o.mount||M||a.disabled.has(B))&&(M?a.disabled.add(B):a.disabled.delete(B))},ue=(M,B={})=>{let K=me(r,M);const se=gr(B.disabled)||gr(e.disabled);return Tt(r,M,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:M}},name:M,mount:!0,...B}}),a.mount.add(M),K?$({disabled:gr(B.disabled)?B.disabled:e.disabled,name:M}):A(M,!0,B.value),{...se?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:wu(B.min),max:wu(B.max),minLength:wu(B.minLength),maxLength:wu(B.maxLength),pattern:wu(B.pattern)}:{},name:M,onChange:ve,onBlur:ve,ref:oe=>{if(oe){ue(M,B),K=me(r,M);const re=en(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,ge=CW(re),Ve=K._f.refs||[];if(ge?Ve.find(et=>et===re):re===K._f.ref)return;Tt(r,M,{_f:{...K._f,...ge?{refs:[...Ve.filter(Uv),re,...Array.isArray(me(i,M))?[{}]:[]],ref:{type:re.type,name:M}}:{ref:re}}}),A(M,!1,void 0,re)}else K=me(r,M,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(iO(a.array,M)&&o.action)&&a.unMount.add(M)}}},ce=()=>e.shouldFocusError&&Yu(r,H,a.mount),ie=M=>{gr(M)&&(h.state.next({disabled:M}),Yu(r,(B,K)=>{const se=me(r,K);se&&(B.disabled=se._f.disabled||M,Array.isArray(se._f.refs)&&se._f.refs.forEach(oe=>{oe.disabled=se._f.disabled||M}))},0,!1))},W=(M,B)=>async K=>{let se;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let oe=hn(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:ge}=await S();n.errors=re,oe=hn(ge)}else await R(r);if(a.disabled.size)for(const re of a.disabled)an(oe,re);if(an(n.errors,"root"),er(n.errors)){h.state.next({errors:{}});try{await M(oe,K)}catch(re){se=re}}else B&&await B({...n.errors},K),ce(),setTimeout(ce);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:er(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},te=(M,B={})=>{me(r,M)&&(en(B.defaultValue)?le(M,hn(me(i,M))):(le(M,B.defaultValue),Tt(i,M,hn(B.defaultValue))),B.keepTouched||an(n.touchedFields,M),B.keepDirty||(an(n.dirtyFields,M),n.isDirty=B.defaultValue?N(M,hn(me(i,M))):N()),B.keepError||(an(n.errors,M),u.isValid&&g()),h.state.next({...n}))},Xe=(M,B={})=>{const K=M?hn(M):i,se=hn(K),oe=er(M),re=oe?i:se;if(B.keepDefaultValues||(i=K),!B.keepValues){if(B.keepDirtyValues){const ge=new Set([...a.mount,...Object.keys(_u(i,s))]);for(const Ve of Array.from(ge))me(n.dirtyFields,Ve)?Tt(re,Ve,me(s,Ve)):le(Ve,me(re,Ve))}else{if(Ib&&en(M))for(const ge of a.mount){const Ve=me(r,ge);if(Ve&&Ve._f){const et=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(zp(et)){const Pt=et.closest("form");if(Pt){Pt.reset();break}}}}if(B.keepFieldsRef)for(const ge of a.mount)le(ge,me(re,ge));else r={}}s=e.shouldUnregister?B.keepDefaultValues?hn(i):{}:hn(re),h.array.next({values:{...re}}),h.state.next({values:{...re}})}a={mount:B.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!B.keepIsValid||!!B.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:oe?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!Yi(M,i)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:oe?{}:B.keepDirtyValues?B.keepDefaultValues&&s?_u(i,s):n.dirtyFields:B.keepDefaultValues&&M?_u(i,M):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ke=(M,B)=>Xe(Qr(M)?M(s):M,B),De=(M,B={})=>{const K=me(r,M),se=K&&K._f;if(se){const oe=se.refs?se.refs[0]:se.ref;oe.focus&&(oe.focus(),B.shouldSelect&&Qr(oe.select)&&oe.select())}},ft=M=>{n={...n,...M}},He={control:{register:ue,unregister:U,getFieldState:Ie,handleSubmit:W,setError:ze,_subscribe:it,_runSchema:S,_focusError:ce,_getWatch:P,_getDirty:N,_setValid:g,_setFieldArray:b,_setDisabledField:$,_setErrors:x,_getFieldArray:k,_reset:Xe,_resetDefaultValues:()=>Qr(e.defaultValues)&&e.defaultValues().then(M=>{Ke(M,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ie,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return a},set _names(M){a=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:mt,trigger:ee,register:ue,handleSubmit:W,watch:ct,setValue:le,getValues:pe,reset:Ke,resetField:te,clearErrors:ke,unregister:U,setError:ze,setFocus:De,getFieldState:Ie};return{...He,formControl:He}}function UC(t={}){const e=Ue.useRef(void 0),n=Ue.useRef(void 0),[r,i]=Ue.useState({isDirty:!1,isValidating:!1,isLoading:Qr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Qr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Qr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=jW(t);e.current={...a,formState:r}}const s=e.current.control;return s._options=t,Nb(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Ue.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ue.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ue.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ue.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ue.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ue.useEffect(()=>{t.values&&!Yi(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ue.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=sO(r,s),e.current}var FW="Label",pO=_.forwardRef((t,e)=>y.jsx(Ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pO.displayName=FW;var mO=pO;const UW=xE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lb=_.forwardRef(({className:t,...e},n)=>y.jsx(mO,{ref:n,className:Le(UW(),t),...e}));Lb.displayName=mO.displayName;const BC=EW,gO=_.createContext({}),_l=({...t})=>y.jsx(gO.Provider,{value:{name:t.name},children:y.jsx(xW,{...t})}),pg=()=>{const t=_.useContext(gO),e=_.useContext(vO),{getFieldState:n,formState:r}=hg(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},vO=_.createContext({}),sa=_.forwardRef(({className:t,...e},n)=>{const r=_.useId();return y.jsx(vO.Provider,{value:{id:r},children:y.jsx("div",{ref:n,className:Le("space-y-2",t),...e})})});sa.displayName="FormItem";const oa=_.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=pg();return y.jsx(Lb,{ref:n,className:Le(r&&"text-destructive",t),htmlFor:i,...e})});oa.displayName="FormLabel";const aa=_.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=pg();return y.jsx(ik,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});aa.displayName="FormControl";const BW=_.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=pg();return y.jsx("p",{ref:n,id:r,className:Le("text-sm text-muted-foreground",t),...e})});BW.displayName="FormDescription";const la=_.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=pg(),o=i?String(i==null?void 0:i.message):e;return o?y.jsx("p",{ref:r,id:s,className:Le("text-sm font-medium text-destructive",t),...n,children:o}):null});la.displayName="FormMessage";const Cl=_.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:Le("flex h-8 w-full rounded-md border border-input bg-background px-2.5 py-1.5 text-xs ring-offset-background file:border-0 file:bg-transparent file:text-xs file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-xs",t),ref:r,...n}));Cl.displayName="Input";function ha({className:t,...e}){return y.jsx("div",{className:Le("animate-pulse rounded-md bg-muted",t),...e})}const Ea=_.forwardRef(({className:t,...e},n)=>y.jsx("div",{className:"relative w-full overflow-auto",children:y.jsx("table",{ref:n,className:Le("w-full caption-bottom text-sm",t),...e})}));Ea.displayName="Table";const ba=_.forwardRef(({className:t,...e},n)=>y.jsx("thead",{ref:n,className:Le("[&_tr]:border-b",t),...e}));ba.displayName="TableHeader";const Sa=_.forwardRef(({className:t,...e},n)=>y.jsx("tbody",{ref:n,className:Le("[&_tr:last-child]:border-0",t),...e}));Sa.displayName="TableBody";const zW=_.forwardRef(({className:t,...e},n)=>y.jsx("tfoot",{ref:n,className:Le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));zW.displayName="TableFooter";const pr=_.forwardRef(({className:t,...e},n)=>y.jsx("tr",{ref:n,className:Le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));pr.displayName="TableRow";const Zt=_.forwardRef(({className:t,...e},n)=>y.jsx("th",{ref:n,className:Le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Zt.displayName="TableHead";const Xt=_.forwardRef(({className:t,...e},n)=>y.jsx("td",{ref:n,className:Le("py-2 px-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Xt.displayName="TableCell";const HW=_.forwardRef(({className:t,...e},n)=>y.jsx("caption",{ref:n,className:Le("mt-4 text-sm text-muted-foreground",t),...e}));HW.displayName="TableCaption";var $W=_.createContext(void 0);function Vb(t){const e=_.useContext($W);return t||e||"ltr"}var Bv="rovingFocusGroup.onEntryFocus",WW={bubbles:!1,cancelable:!0},lf="RovingFocusGroup",[G_,yO,GW]=EE(lf),[qW,_O]=Oi(lf,[GW]),[QW,KW]=qW(lf),wO=_.forwardRef((t,e)=>y.jsx(G_.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(G_.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(YW,{...t,ref:e})})}));wO.displayName=lf;var YW=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,h=_.useRef(null),p=Et(e,h),w=Vb(s),[g,E]=So({prop:o,defaultProp:a??null,onChange:l,caller:lf}),[b,v]=_.useState(!1),x=Vr(c),A=yO(n),O=_.useRef(!1),[V,S]=_.useState(0);return _.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Bv,x),()=>C.removeEventListener(Bv,x)},[x]),y.jsx(QW,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(C=>E(C),[E]),onItemShiftTab:_.useCallback(()=>v(!0),[]),onFocusableItemAdd:_.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:_.useCallback(()=>S(C=>C-1),[]),children:y.jsx(Ze.div,{tabIndex:b||V===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Pe(t.onMouseDown,()=>{O.current=!0}),onFocus:Pe(t.onFocus,C=>{const R=!O.current;if(C.target===C.currentTarget&&R&&!b){const I=new CustomEvent(Bv,WW);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const N=A().filter(le=>le.focusable),P=N.find(le=>le.active),k=N.find(le=>le.id===g),fe=[P,k,...N].filter(Boolean).map(le=>le.ref.current);SO(fe,u)}}O.current=!1}),onBlur:Pe(t.onBlur,()=>v(!1))})})}),EO="RovingFocusGroupItem",bO=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=os(),c=s||l,u=KW(EO,n),f=u.currentTabStopId===c,h=yO(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=u;return _.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),y.jsx(G_.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:y.jsx(Ze.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Pe(t.onMouseDown,E=>{r?u.onItemFocus(c):E.preventDefault()}),onFocus:Pe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Pe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){u.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const b=JW(E,u.orientation,u.dir);if(b!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let x=h().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const A=x.indexOf(E.currentTarget);x=u.loop?e7(x,A+1):x.slice(A+1)}setTimeout(()=>SO(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});bO.displayName=EO;var ZW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function JW(t,e,n){const r=XW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZW[r]}function SO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function e7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var t7=wO,n7=bO,mg="Tabs",[r7,ine]=Oi(mg,[_O]),TO=_O(),[i7,jb]=r7(mg),xO=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Vb(a),[f,h]=So({prop:r,onChange:i,defaultProp:s??"",caller:mg});return y.jsx(i7,{scope:n,baseId:os(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:l,children:y.jsx(Ze.div,{dir:u,"data-orientation":o,...c,ref:e})})});xO.displayName=mg;var CO="TabsList",AO=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=jb(CO,n),o=TO(n);return y.jsx(t7,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:y.jsx(Ze.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});AO.displayName=CO;var RO="TabsTrigger",IO=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=jb(RO,n),a=TO(n),l=PO(o.baseId,r),c=NO(o.baseId,r),u=r===o.value;return y.jsx(n7,{asChild:!0,...a,focusable:!i,active:u,children:y.jsx(Ze.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Pe(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(r)})})})});IO.displayName=RO;var DO="TabsContent",kO=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=jb(DO,n),l=PO(a.baseId,r),c=NO(a.baseId,r),u=r===a.value,f=_.useRef(u);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),y.jsx(Uo,{present:i||u,children:({present:h})=>y.jsx(Ze.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});kO.displayName=DO;function PO(t,e){return`${t}-trigger-${e}`}function NO(t,e){return`${t}-content-${e}`}var s7=xO,OO=AO,MO=IO,LO=kO;const VO=s7,Fb=_.forwardRef(({className:t,...e},n)=>y.jsx(OO,{ref:n,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Fb.displayName=OO.displayName;const Ta=_.forwardRef(({className:t,...e},n)=>y.jsx(MO,{ref:n,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ta.displayName=MO.displayName;const xa=_.forwardRef(({className:t,...e},n)=>y.jsx(LO,{ref:n,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));xa.displayName=LO.displayName;function jO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o7=jO,FO=new qd("auth","Firebase",jO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new AE("@firebase/auth");function a7(t,...e){Wp.logLevel<=ot.WARN&&Wp.warn(`Auth (${Vc}): ${t}`,...e)}function Bh(t,...e){Wp.logLevel<=ot.ERROR&&Wp.error(`Auth (${Vc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw Ub(t,...e)}function Ci(t,...e){return Ub(t,...e)}function UO(t,e,n){const r=Object.assign(Object.assign({},o7()),{[e]:n});return new qd("auth","Firebase",r).create(e,{appName:t.name})}function ka(t){return UO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ub(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FO.create(t,...e)}function Be(t,e,...n){if(!t)throw Ub(e,...n)}function Ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bh(e),new Error(e)}function ys(t,e){t||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function l7(){return zC()==="http:"||zC()==="https:"}function zC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l7()||NB()||"connection"in navigator)?navigator.onLine:!0}function u7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=DB()||OB()}get(){return c7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h7=new cf(3e4,6e4);function zb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hc(t,e,n,r,i={}){return zO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Qd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return PB()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Lc(t.emulatorConfig.host)&&(c.credentials="include"),BO.fetch()(await HO(t,t.config.apiHost,n,a),c)})}async function zO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d7),e);try{const i=new m7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sh(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw UO(t,u,c);vs(t,u)}}catch(i){if(i instanceof Ts)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function p7(t,e,n,r,i={}){const s=await Hc(t,e,n,r,i);return"mfaPendingCredential"in s&&vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function HO(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Bb(t.config,i):`${t.config.apiScheme}://${i}`;return f7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class m7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),h7.get())})}}function sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ci(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(t,e){return Hc(t,"POST","/v1/accounts:delete",e)}async function Gp(t,e){return Hc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v7(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=Hb(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zu(zv(i.auth_time)),issuedAtTime:Zu(zv(i.iat)),expirationTime:Zu(zv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zv(t){return Number(t)*1e3}function Hb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yk(n);return i?JSON.parse(i):(Bh("Failed to decode base64 JWT payload"),null)}catch(i){return Bh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function HC(t){const e=Hb(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ts&&y7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function y7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pd(t,Gp(n,{idToken:r}));Be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$O(s.providerUserInfo):[],a=E7(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Q_(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function w7(t){const e=Dn(t);await qp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $O(t){return t.map(e=>{var{providerId:n}=e,r=of(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e){const n=await zO(t,{},async()=>{const r=Qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await HO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Lc(t.emulatorConfig.host)&&(l.credentials="include"),BO.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S7(t,e){return Hc(t,"POST","/v2/accounts:revokeToken",zb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=HC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Jl;return r&&(Be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Q_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Pd(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v7(this,e)}reload(){return w7(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(ka(this.auth));const e=await this.getIdToken();return await Pd(this,g7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:A,isAnonymous:O,providerData:V,stsTokenManager:S}=n;Be(x&&S,e,"internal-error");const C=Jl.fromJSON(this.name,S);Be(typeof x=="string",e,"internal-error"),Vs(f,e.name),Vs(h,e.name),Be(typeof A=="boolean",e,"internal-error"),Be(typeof O=="boolean",e,"internal-error"),Vs(p,e.name),Vs(w,e.name),Vs(g,e.name),Vs(E,e.name),Vs(b,e.name),Vs(v,e.name);const R=new Yr({uid:x,auth:e,email:h,emailVerified:A,displayName:f,isAnonymous:O,photoURL:w,phoneNumber:p,tenantId:g,stsTokenManager:C,createdAt:b,lastLoginAt:v});return V&&Array.isArray(V)&&(R.providerData=V.map(I=>Object.assign({},I))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jl;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$O(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Jl;a.updateFromIdToken(r);const l=new Yr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Q_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Map;function es(t){ys(t instanceof Function,"Expected a class definition");let e=$C.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$C.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WO.type="NONE";const WC=WO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zh(this.userKey,i.apiKey,s),this.fullPersistenceKey=zh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gp(this.auth,{idToken:e}).catch(()=>{});return n?Yr._fromGetAccountInfoResponse(this.auth,n,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(es(WC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||es(WC);const o=zh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Gp(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Yr._fromGetAccountInfoResponse(e,h,u)}else f=Yr._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ec(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ec(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZO(e))return"Blackberry";if(XO(e))return"Webos";if(qO(e))return"Safari";if((e.includes("chrome/")||QO(e))&&!e.includes("edge/"))return"Chrome";if(YO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GO(t=zn()){return/firefox\//i.test(t)}function qO(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QO(t=zn()){return/crios\//i.test(t)}function KO(t=zn()){return/iemobile/i.test(t)}function YO(t=zn()){return/android/i.test(t)}function ZO(t=zn()){return/blackberry/i.test(t)}function XO(t=zn()){return/webos/i.test(t)}function $b(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T7(t=zn()){var e;return $b(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x7(){return MB()&&document.documentMode===10}function JO(t=zn()){return $b(t)||YO(t)||XO(t)||ZO(t)||/windows phone/i.test(t)||KO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e=[]){let n;switch(t){case"Browser":n=GC(zn());break;case"Worker":n=`${GC(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t,e={}){return Hc(t,"GET","/v2/passwordPolicy",zb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=6;class I7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:R7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qC(this),this.idTokenSubscription=new qC(this),this.beforeStateQueue=new C7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gp(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(ka(this));const n=e?Dn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A7(this),n=new I7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&a7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wb(t){return Dn(t)}class qC{constructor(e){this.auth=e,this.observer=null,this.addObserver=HB(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k7(t){Gb=t}function P7(t){return Gb.loadJS(t)}function N7(){return Gb.gapiScript}function O7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t,e){const n=IE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fa(s,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function L7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V7(t,e,n){const r=Wb(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tM(e),{host:o,port:a}=j7(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(Fa(c,r.config.emulator)&&Fa(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Lc(o)?(eP(`${s}//${o}${l}`),tP("Auth",!0)):F7()}function tM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j7(t){const e=tM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:QC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:QC(o)}}}function QC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e){return p7(t,"POST","/v1/accounts:signInWithIdp",zb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7="http://localhost";class Wa extends nM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=of(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Wa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:U7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends rM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends uf{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends uf{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends uf{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),o=KC(r);return new Ec({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=KC(r);return new Ec({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function KC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Ts{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qp(e,n,r,i)}}function iM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(t,s,e,r):s})}async function B7(t,e,n=!1){const r=await Pd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ec._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z7(t,e,n=!1){const{auth:r}=t;if(gi(r.app))return Promise.reject(ka(r));const i="reauthenticate";try{const s=await Pd(t,iM(r,i,e,t),n);Be(s.idToken,r,"internal-error");const o=Hb(s.idToken);Be(o,r,"internal-error");const{sub:a}=o;return Be(t.uid===a,r,"user-mismatch"),Ec._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H7(t,e,n=!1){if(gi(t.app))return Promise.reject(ka(t));const r="signIn",i=await iM(t,r,e),s=await Ec._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function $7(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function W7(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}const Kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kp,"1"),this.storage.removeItem(Kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=1e3,q7=10;class oM extends sM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);x7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oM.type="LOCAL";const Q7=oM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM extends sM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aM.type="SESSION";const lM=aM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await K7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=qb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function Z7(t){Ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function X7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e8(){return cM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firebaseLocalStorageDb",t8=1,Yp="firebaseLocalStorage",dM="fbase_key";class df{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vg(t,e){return t.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function n8(){const t=indexedDB.deleteDatabase(uM);return new df(t).toPromise()}function K_(){const t=indexedDB.open(uM,t8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yp,{keyPath:dM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await n8(),e(await K_()))})})}async function YC(t,e,n){const r=vg(t,!0).put({[dM]:e,value:n});return new df(r).toPromise()}async function r8(t,e){const n=vg(t,!1).get(e),r=await new df(n).toPromise();return r===void 0?null:r.value}function ZC(t,e){const n=vg(t,!0).delete(e);return new df(n).toPromise()}const i8=800,s8=3;class fM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gg._getInstance(e8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X7(),!this.activeServiceWorker)return;this.sender=new Y7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K_();return await YC(e,Kp,"1"),await ZC(e,Kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>r8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=vg(i,!1).getAll();return new df(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fM.type="LOCAL";const o8=fM;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t,e){return e?es(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends nM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l8(t){return H7(t.auth,new Qb(t),t.bypassAuthState)}function c8(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),z7(n,new Qb(t),t.bypassAuthState)}async function u8(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),B7(n,new Qb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l8;case"linkViaPopup":case"linkViaRedirect":return u8;case"reauthViaPopup":case"reauthViaRedirect":return c8;default:vs(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new cf(2e3,1e4);class Bl extends hM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Bl.currentPopupAction&&Bl.currentPopupAction.cancel(),Bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=qb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d8.get())};e()}}Bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="pendingRedirect",Hh=new Map;class h8 extends hM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const r=await p8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p8(t,e){const n=v8(e),r=g8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function m8(t,e){Hh.set(t._key(),e)}function g8(t){return es(t._redirectPersistence)}function v8(t){return zh(f8,t.config.apiKey,t.name)}async function y8(t,e,n=!1){if(gi(t.app))return Promise.reject(ka(t));const r=Wb(t),i=a8(r,e),o=await new h8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=10*60*1e3;class w8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_8&&this.cachedEventUids.clear(),this.cachedEventUids.has(XC(e))}saveEventToCache(e){this.cachedEventUids.add(XC(e)),this.lastProcessedEventTime=Date.now()}}function XC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e={}){return Hc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T8=/^https?/;async function x8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b8(t);for(const n of e)try{if(C8(n))return}catch{}vs(t,"unauthorized-domain")}function C8(t){const e=q_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!T8.test(n))return!1;if(S8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new cf(3e4,6e4);function JC(){const t=Ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R8(t){return new Promise((e,n)=>{var r,i,s;function o(){JC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JC(),n(Ci(t,"network-request-failed"))},timeout:A8.get()})}if(!((i=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ai().gapi)===null||s===void 0)&&s.load)o();else{const a=O7("iframefcb");return Ai()[a]=()=>{gapi.load?o():n(Ci(t,"network-request-failed"))},P7(`${N7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $h=null,e})}let $h=null;function I8(t){return $h=$h||R8(t),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=new cf(5e3,15e3),k8="__/auth/iframe",P8="emulator/auth/iframe",N8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M8(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bb(e,P8):`https://${t.config.authDomain}/${k8}`,r={apiKey:e.apiKey,appName:t.name,v:Vc},i=O8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qd(r).slice(1)}`}async function L8(t){const e=await I8(t),n=Ai().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:M8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ci(t,"network-request-failed"),a=Ai().setTimeout(()=>{s(o)},D8.get());function l(){Ai().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j8=500,F8=600,U8="_blank",B8="http://localhost";class eA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z8(t,e,n,r=j8,i=F8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},V8),{width:r.toString(),height:i.toString(),top:s,left:o}),c=zn().toLowerCase();n&&(a=QO(c)?U8:n),GO(c)&&(e=e||B8,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,w])=>`${h}${p}=${w},`,"");if(T7(c)&&a!=="_self")return H8(e||"",a),new eA(null);const f=window.open(e||"",a,u);Be(f,t,"popup-blocked");try{f.focus()}catch{}return new eA(f)}function H8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="__/auth/handler",W8="emulator/auth/handler",G8=encodeURIComponent("fac");async function tA(t,e,n,r,i,s){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vc,eventId:i};if(e instanceof rM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof uf){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${G8}=${encodeURIComponent(l)}`:"";return`${q8(t)}?${Qd(a).slice(1)}${c}`}function q8({config:t}){return t.emulator?Bb(t,W8):`https://${t.authDomain}/${$8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="webStorageSupport";class Q8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lM,this._completeRedirectFn=y8,this._overrideRedirectResult=m8}async _openPopup(e,n,r,i){var s;ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tA(e,n,r,q_(),i);return z8(e,o,qb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await tA(e,n,r,q_(),i);return Z7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ys(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await L8(e),r=new w8(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hv,{type:Hv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hv];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JO()||qO()||$b()}}const K8=Q8;var nA="@firebase/auth",rA="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X8(t){pc(new Ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eM(t)},c=new D7(r,i,s,l);return L7(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pc(new Ua("auth-internal",e=>{const n=Wb(e.getProvider("auth").getImmediate());return(r=>new Y8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),po(nA,rA,Z8(t)),po(nA,rA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=5*60,eG=Jk("authIdTokenMaxAge")||J8;let iA=null;const tG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eG)return;const i=n==null?void 0:n.token;iA!==i&&(iA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nG(t=iP()){const e=IE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M7(t,{popupRedirectResolver:K8,persistence:[o8,Q7,lM]}),r=Jk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=tG(s.toString());W7(n,o,()=>o(n.currentUser)),$7(n,a=>o(a))}}const i=Zk("auth");return i&&V7(n,`http://${i}`),n}function rG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X8("Browser");const iG={apiKey:"AIzaSyCp0xxnxtwHkJLN-xsy57tYzgqWM05IgXI",authDomain:"vitti2-ff436.firebaseapp.com",projectId:"vitti2-ff436",storageBucket:"vitti2-ff436.firebasestorage.app",messagingSenderId:"274780035739",appId:"1:274780035739:web:c10ec0a29e2f02c1b0c43e",measurementId:"G-03BS6YJL6W"},mM=$0().length?$0()[0]:DE(iG),wl=x1(mM),sG=nG(mM),oG=()=>{const[t,e]=_.useState({user:null,loading:!0});return _.useEffect(()=>{const n=sG.onAuthStateChanged(r=>{e({user:r,loading:!1})});return()=>n()},[]),t},sA="/api",aG={async listUsers(t,e,n){const r=await fetch(`${sA}/users?page=${t}&limit=${e}${n?`&search=${n}`:""}`);if(!r.ok)throw new Error("Erro ao listar usuários");return r.json()},async checkFirstUser(){const t=await fetch(`${sA}/users/first`);if(!t.ok)throw new Error("Erro ao verificar primeiro usuário");return(await t.json()).isFirst}},lG=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const s=Kr(tn,"services"),a=(await gs(s)).docs.map(l=>({service_id:l.id,name:l.id,...l.data()}));e(a)}catch(s){console.error("Erro ao buscar serviços:",s)}finally{r(!1)}})()},[]),{services:t,loading:n}},cG=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const s=Kr(tn,"webUsers"),a=(await gs(s)).docs.map(l=>({user_id:l.id,...l.data()}));e(a)}catch(s){console.error("Error fetching webUsers:",s)}finally{r(!1)}})()},[]),{webUsers:t,loading:n}},uG=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const s=Kr(tn,"employees"),a=(await gs(s)).docs.map(l=>{const c=l.data();return{employee_id:l.id,employees:c.employees}});e(a)}catch(s){console.error("Error fetching employees: ",s)}finally{r(!1)}})()},[]),{employees:t,loading:n}},dG=()=>({updateDocument:async(i,s,o)=>{try{const a=Qn(tn,i,s);await Da(a,o,{merge:!0})}catch(a){throw console.error("Erro ao atualizar documento:",a),a}},deleteDocument:async(i,s)=>{try{await j1(Qn(tn,i,s)),console.log(`Documento ${s} excluído com sucesso da coleção ${i}`)}catch(o){throw console.error("Erro ao deletar documento:",o),o}},listUsers:async(i,s,o)=>aG.listUsers(i,s,o),updateUserRole:async(i,s)=>{const o=Qn(tn,"webUsers",i);return await Da(o,{isAdmin:s==="admin"},{merge:!0}),{success:!0}}}),oA=(t,e,n)=>{if(t&&"reportValidity"in t){const r=me(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},gM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?oA(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>oA(i,n,t))}},fG=(t,e)=>{e.shouldUseNativeValidation&&gM(t,e);const n={};for(const r in t){const i=me(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(hG(e.names||Object.keys(t),r)){const o=Object.assign({},me(n,r));Tt(o,"root",s),Tt(n,r,o)}else Tt(n,r,s)}return n},hG=(t,e)=>{const n=aA(e);return t.some(r=>aA(r).match(`^${n}\\.\\d+`))};function aA(t){return t.replace(/\]|\[/g,"")}function pG(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=aO(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n}function lA(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&gM({},s),{errors:{},values:n.raw?Object.assign({},r):c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:fG(pG(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}}var _t;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(_t||(_t={}));var cA;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(cA||(cA={}));const xe=_t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zs=t=>{switch(typeof t){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(t)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(t)?xe.array:t===null?xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xe.promise:typeof Map<"u"&&t instanceof Map?xe.map:typeof Set<"u"&&t instanceof Set?xe.set:typeof Date<"u"&&t instanceof Date?xe.date:xe.object;default:return xe.unknown}},ae=_t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _s extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof _s))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_t.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_s.create=t=>new _s(t);const Y_=(t,e)=>{let n;switch(t.code){case ae.invalid_type:t.received===xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,_t.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${_t.joinValues(t.keys,", ")}`;break;case ae.invalid_union:n="Invalid input";break;case ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${_t.joinValues(t.options)}`;break;case ae.invalid_enum_value:n=`Invalid enum value. Expected ${_t.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:n="Invalid function arguments";break;case ae.invalid_return_type:n="Invalid function return type";break;case ae.invalid_date:n="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:_t.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ae.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ae.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ae.custom:n="Invalid input";break;case ae.invalid_intersection_types:n="Intersection results could not be merged";break;case ae.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:n="Number must be finite";break;default:n=e.defaultError,_t.assertNever(t)}return{message:n}};let mG=Y_;function gG(){return mG}const vG=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function ye(t,e){const n=gG(),r=vG({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Y_?void 0:Y_].filter(i=>!!i)});t.common.issues.push(r)}class xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ge;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return xr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Ge;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Ge=Object.freeze({status:"aborted"}),ku=t=>({status:"dirty",value:t}),jr=t=>({status:"valid",value:t}),uA=t=>t.status==="aborted",dA=t=>t.status==="dirty",bc=t=>t.status==="valid",Zp=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));class ko{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fA=(t,e)=>{if(bc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _s(t.common.issues);return this._error=n,this._error}}};function rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class vt{get description(){return this._def.description}_getType(e){return zs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xr,ctx:{common:e.parent.common,data:e.data,parsedType:zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Zp(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zs(e)},i=this._parseSync({data:e,path:r.path,parent:r});return fA(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zs(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return bc(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>bc(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zs(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Zp(i)?i:Promise.resolve(i));return fA(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:ae.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new xc({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return yo.create(this,this._def)}nullable(){return Cc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ri.create(this)}promise(){return tm.create(this,this._def)}or(e){return Jp.create([this,e],this._def)}and(e){return em.create(this,e,this._def)}transform(e){return new xc({...rt(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new X_({...rt(this._def),innerType:this,defaultValue:n,typeName:qe.ZodDefault})}brand(){return new UG({typeName:qe.ZodBranded,type:this,...rt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new J_({...rt(this._def),innerType:this,catchValue:n,typeName:qe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Kb.create(this,e)}readonly(){return ew.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yG=/^c[^\s-]{8,}$/i,_G=/^[0-9a-z]+$/,wG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,EG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bG=/^[a-z0-9_-]{21}$/i,SG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,CG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $v;const AG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,IG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,PG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",NG=new RegExp(`^${vM}$`);function yM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function OG(t){return new RegExp(`^${yM(t)}$`)}function MG(t){let e=`${vM}T${yM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function LG(t,e){return!!((e==="v4"||!e)&&AG.test(t)||(e==="v6"||!e)&&IG.test(t))}function VG(t,e){if(!SG.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function jG(t,e){return!!((e==="v4"||!e)&&RG.test(t)||(e==="v6"||!e)&&DG.test(t))}class ts extends vt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const s=this._getOrReturnCtx(e);return ye(s,{code:ae.invalid_type,expected:xe.string,received:s.parsedType}),Ge}const r=new xr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ye(i,{code:ae.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ye(i,{code:ae.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")xG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"email",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")$v||($v=new RegExp(CG,"u")),$v.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"emoji",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")EG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"uuid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")bG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"nanoid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")yG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"cuid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")_G.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"cuid2",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")wG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"ulid",code:ae.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ye(i,{validation:"url",code:ae.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"regex",code:ae.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?MG(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?NG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?OG(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?TG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"duration",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?LG(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"ip",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?VG(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"jwt",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?jG(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"cidr",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?kG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"base64",code:ae.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?PG.test(e.data)||(i=this._getOrReturnCtx(e,i),ye(i,{validation:"base64url",code:ae.invalid_string,message:s.message}),r.dirty()):_t.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ae.invalid_string,...Re.errToObj(r)})}_addCheck(e){return new ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Re.errToObj(n)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ts.create=t=>new ts({checks:[],typeName:qe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});function FG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Ga extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const s=this._getOrReturnCtx(e);return ye(s,{code:ae.invalid_type,expected:xe.number,received:s.parsedType}),Ge}let r;const i=new xr;for(const s of this._def.checks)s.kind==="int"?_t.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?FG(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.not_finite,message:s.message}),i.dirty()):_t.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,i){return new Ga({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new Ga({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_t.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ga.create=t=>new Ga({checks:[],typeName:qe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class qa extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let r;const i=new xr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ae.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):_t.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ye(n,{code:ae.invalid_type,expected:xe.bigint,received:n.parsedType}),Ge}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,i){return new qa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new qa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}qa.create=t=>new qa({checks:[],typeName:qe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});class Xp extends vt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return ye(r,{code:ae.invalid_type,expected:xe.boolean,received:r.parsedType}),Ge}return jr(e.data)}}Xp.create=t=>new Xp({typeName:qe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class Sc extends vt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const s=this._getOrReturnCtx(e);return ye(s,{code:ae.invalid_type,expected:xe.date,received:s.parsedType}),Ge}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ye(s,{code:ae.invalid_date}),Ge}const r=new xr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ye(i,{code:ae.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):_t.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Sc.create=t=>new Sc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:qe.ZodDate,...rt(t)});class hA extends vt{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return ye(r,{code:ae.invalid_type,expected:xe.symbol,received:r.parsedType}),Ge}return jr(e.data)}}hA.create=t=>new hA({typeName:qe.ZodSymbol,...rt(t)});class pA extends vt{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return ye(r,{code:ae.invalid_type,expected:xe.undefined,received:r.parsedType}),Ge}return jr(e.data)}}pA.create=t=>new pA({typeName:qe.ZodUndefined,...rt(t)});class mA extends vt{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return ye(r,{code:ae.invalid_type,expected:xe.null,received:r.parsedType}),Ge}return jr(e.data)}}mA.create=t=>new mA({typeName:qe.ZodNull,...rt(t)});class gA extends vt{constructor(){super(...arguments),this._any=!0}_parse(e){return jr(e.data)}}gA.create=t=>new gA({typeName:qe.ZodAny,...rt(t)});class vA extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jr(e.data)}}vA.create=t=>new vA({typeName:qe.ZodUnknown,...rt(t)});class Po extends vt{_parse(e){const n=this._getOrReturnCtx(e);return ye(n,{code:ae.invalid_type,expected:xe.never,received:n.parsedType}),Ge}}Po.create=t=>new Po({typeName:qe.ZodNever,...rt(t)});class yA extends vt{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return ye(r,{code:ae.invalid_type,expected:xe.void,received:r.parsedType}),Ge}return jr(e.data)}}yA.create=t=>new yA({typeName:qe.ZodVoid,...rt(t)});class Ri extends vt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==xe.array)return ye(n,{code:ae.invalid_type,expected:xe.array,received:n.parsedType}),Ge;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(ye(n,{code:o?ae.too_big:ae.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ye(n,{code:ae.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ye(n,{code:ae.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new ko(n,o,n.path,a)))).then(o=>xr.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new ko(n,o,n.path,a)));return xr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Ri({...this._def,minLength:{value:e,message:Re.toString(n)}})}max(e,n){return new Ri({...this._def,maxLength:{value:e,message:Re.toString(n)}})}length(e,n){return new Ri({...this._def,exactLength:{value:e,message:Re.toString(n)}})}nonempty(e){return this.min(1,e)}}Ri.create=(t,e)=>new Ri({type:t,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...rt(e)});function Al(t){if(t instanceof un){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=yo.create(Al(r))}return new un({...t._def,shape:()=>e})}else return t instanceof Ri?new Ri({...t._def,type:Al(t.element)}):t instanceof yo?yo.create(Al(t.unwrap())):t instanceof Cc?Cc.create(Al(t.unwrap())):t instanceof Qa?Qa.create(t.items.map(e=>Al(e))):t}class un extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=_t.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==xe.object){const c=this._getOrReturnCtx(e);return ye(c,{code:ae.invalid_type,expected:xe.object,received:c.parsedType}),Ge}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Po&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ko(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Po){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(ye(i,{code:ae.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ko(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,h=await u.value;c.push({key:f,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>xr.mergeObjectSync(r,c)):xr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new un({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Re.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new un({...this._def,unknownKeys:"strip"})}passthrough(){return new un({...this._def,unknownKeys:"passthrough"})}extend(e){return new un({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new un({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:qe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new un({...this._def,catchall:e})}pick(e){const n={};for(const r of _t.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new un({...this._def,shape:()=>n})}omit(e){const n={};for(const r of _t.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new un({...this._def,shape:()=>n})}deepPartial(){return Al(this)}partial(e){const n={};for(const r of _t.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new un({...this._def,shape:()=>n})}required(e){const n={};for(const r of _t.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof yo;)s=s._def.innerType;n[r]=s}return new un({...this._def,shape:()=>n})}keyof(){return _M(_t.objectKeys(this.shape))}}un.create=(t,e)=>new un({shape:()=>t,unknownKeys:"strip",catchall:Po.create(),typeName:qe.ZodObject,...rt(e)});un.strictCreate=(t,e)=>new un({shape:()=>t,unknownKeys:"strict",catchall:Po.create(),typeName:qe.ZodObject,...rt(e)});un.lazycreate=(t,e)=>new un({shape:t,unknownKeys:"strip",catchall:Po.create(),typeName:qe.ZodObject,...rt(e)});class Jp extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new _s(a.ctx.common.issues));return ye(n,{code:ae.invalid_union,unionErrors:o}),Ge}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new _s(l));return ye(n,{code:ae.invalid_union,unionErrors:a}),Ge}}get options(){return this._def.options}}Jp.create=(t,e)=>new Jp({options:t,typeName:qe.ZodUnion,...rt(e)});function Z_(t,e){const n=zs(t),r=zs(e);if(t===e)return{valid:!0,data:t};if(n===xe.object&&r===xe.object){const i=_t.objectKeys(e),s=_t.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Z_(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===xe.array&&r===xe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Z_(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===xe.date&&r===xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class em extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(uA(s)||uA(o))return Ge;const a=Z_(s.value,o.value);return a.valid?((dA(s)||dA(o))&&n.dirty(),{status:n.value,value:a.data}):(ye(r,{code:ae.invalid_intersection_types}),Ge)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}em.create=(t,e,n)=>new em({left:t,right:e,typeName:qe.ZodIntersection,...rt(n)});class Qa extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return ye(r,{code:ae.invalid_type,expected:xe.array,received:r.parsedType}),Ge;if(r.data.length<this._def.items.length)return ye(r,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&r.data.length>this._def.items.length&&(ye(r,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ko(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>xr.mergeArray(n,o)):xr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Qa({...this._def,rest:e})}}Qa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qa({items:t,typeName:qe.ZodTuple,rest:null,...rt(e)})};class _A extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return ye(r,{code:ae.invalid_type,expected:xe.map,received:r.parsedType}),Ge;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new ko(r,a,r.path,[c,"key"])),value:s._parse(new ko(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ge;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ge;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}_A.create=(t,e,n)=>new _A({valueType:e,keyType:t,typeName:qe.ZodMap,...rt(n)});class Nd extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return ye(r,{code:ae.invalid_type,expected:xe.set,received:r.parsedType}),Ge;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ye(r,{code:ae.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ye(r,{code:ae.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ge;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new ko(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Nd({...this._def,minSize:{value:e,message:Re.toString(n)}})}max(e,n){return new Nd({...this._def,maxSize:{value:e,message:Re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Nd.create=(t,e)=>new Nd({valueType:t,minSize:null,maxSize:null,typeName:qe.ZodSet,...rt(e)});class wA extends vt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wA.create=(t,e)=>new wA({getter:t,typeName:qe.ZodLazy,...rt(e)});class EA extends vt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ye(n,{received:n.data,code:ae.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}EA.create=(t,e)=>new EA({value:t,typeName:qe.ZodLiteral,...rt(e)});function _M(t,e){return new Tc({values:t,typeName:qe.ZodEnum,...rt(e)})}class Tc extends vt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ye(n,{expected:_t.joinValues(r),received:n.parsedType,code:ae.invalid_type}),Ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ye(n,{received:n.data,code:ae.invalid_enum_value,options:r}),Ge}return jr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Tc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Tc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Tc.create=_M;class bA extends vt{_parse(e){const n=_t.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const i=_t.objectValues(n);return ye(r,{expected:_t.joinValues(i),received:r.parsedType,code:ae.invalid_type}),Ge}if(this._cache||(this._cache=new Set(_t.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=_t.objectValues(n);return ye(r,{received:r.data,code:ae.invalid_enum_value,options:i}),Ge}return jr(e.data)}get enum(){return this._def.values}}bA.create=(t,e)=>new bA({values:t,typeName:qe.ZodNativeEnum,...rt(e)});class tm extends vt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.promise&&n.common.async===!1)return ye(n,{code:ae.invalid_type,expected:xe.promise,received:n.parsedType}),Ge;const r=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return jr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}tm.create=(t,e)=>new tm({type:t,typeName:qe.ZodPromise,...rt(e)});class xc extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ye(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Ge;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ge:l.status==="dirty"||n.value==="dirty"?ku(l.value):l});{if(n.value==="aborted")return Ge;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Ge:a.status==="dirty"||n.value==="dirty"?ku(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ge:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ge:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bc(o))return Ge;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>bc(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):Ge);_t.assertNever(i)}}xc.create=(t,e,n)=>new xc({schema:t,typeName:qe.ZodEffects,effect:e,...rt(n)});xc.createWithPreprocess=(t,e,n)=>new xc({schema:e,effect:{type:"preprocess",transform:t},typeName:qe.ZodEffects,...rt(n)});class yo extends vt{_parse(e){return this._getType(e)===xe.undefined?jr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yo.create=(t,e)=>new yo({innerType:t,typeName:qe.ZodOptional,...rt(e)});class Cc extends vt{_parse(e){return this._getType(e)===xe.null?jr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cc.create=(t,e)=>new Cc({innerType:t,typeName:qe.ZodNullable,...rt(e)});class X_ extends vt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}X_.create=(t,e)=>new X_({innerType:t,typeName:qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class J_ extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Zp(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _s(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _s(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}J_.create=(t,e)=>new J_({innerType:t,typeName:qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class SA extends vt{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return ye(r,{code:ae.invalid_type,expected:xe.nan,received:r.parsedType}),Ge}return{status:"valid",value:e.data}}}SA.create=t=>new SA({typeName:qe.ZodNaN,...rt(t)});class UG extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Kb extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ge:s.status==="dirty"?(n.dirty(),ku(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ge:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Kb({in:e,out:n,typeName:qe.ZodPipeline})}}class ew extends vt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(bc(i)&&(i.value=Object.freeze(i.value)),i);return Zp(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}ew.create=(t,e)=>new ew({innerType:t,typeName:qe.ZodReadonly,...rt(e)});var qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(qe||(qe={}));const nm=ts.create;Ga.create;qa.create;Xp.create;Sc.create;Po.create;const BG=Ri.create,wM=un.create;Jp.create;em.create;Qa.create;Tc.create;tm.create;yo.create;Cc.create;const TA={string:t=>ts.create({...t,coerce:!0}),number:t=>Ga.create({...t,coerce:!0}),boolean:t=>Xp.create({...t,coerce:!0}),bigint:t=>qa.create({...t,coerce:!0}),date:t=>Sc.create({...t,coerce:!0})},zG=wM({name:nm().min(2,"Nome deve ter pelo menos 2 caracteres"),description:nm().min(2,"Descrição deve ter pelo menos 2 caracteres"),preco:TA.number().min(0,"Preço deve ser maior que 0"),service_duration:TA.number().min(1,"Duração deve ser maior que 0")}),HG=wM({employee_name:nm().min(2,"Nome deve ter pelo menos 2 caracteres"),services:BG(nm()).min(1,"Selecione pelo menos um serviço")}),xA=()=>{const{toast:t}=nk(),{updateDocument:e,deleteDocument:n}=dG(),{employees:r,loading:i}=uG(),[s,o]=_.useState(!0),[a,l]=_.useState(!1),[c,u]=_.useState({}),{services:f}=lG(),[h,p]=_.useState([]),{user:w}=oG(),{webUsers:g}=cG();g.find(U=>U.user_id===(w==null?void 0:w.uid));const[E,b]=_.useState(!1),[v,x]=_.useState(!1),[A,O]=_.useState(null),[V,S]=_.useState(null),[C,R]=_.useState([]),I=UC({resolver:lA(zG),defaultValues:{name:"",description:"",preco:0,service_duration:1}}),N=UC({resolver:lA(HG),defaultValues:{employee_name:"",services:[]}}),P=_.useMemo(()=>["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],[]);lg();const k=U1(),Y=_.useCallback(async()=>{var U;try{const $={};if((U=r[0])!=null&&U.employees[0]){const ue=r[0].employees[0].employee_name,ce=await Ws(Qn(wl,"calendar",ue));ce.exists()&&ce.data().calendar.forEach(W=>{const Xe=new Date(W.day).getDay(),Ke=P[Xe],De={};W.day_time.forEach(ft=>{const tt=vo(ft.hour);De[tt]||(De[tt]=[]);const He=ft.appointment_id!=="not_in_schedule";De[tt].push(He)}),Object.keys(De).forEach(ft=>{const tt=De[ft].every(M=>M===!0),He=`${Ke}-${ft}:00`;$[He]=tt})})}u($),o(!1)}catch($){console.error("Erro ao carregar estados iniciais:",$),o(!1)}},[r,P]);_.useEffect(()=>{f&&f.length>0&&R(f)},[f]),_.useEffect(()=>{var U;r&&r.length>0&&((U=r[0])!=null&&U.employees)&&p(r[0].employees)},[r]),_.useEffect(()=>{r&&r.length>0&&!s&&Y()},[r,s,Y]);const fe=async(U,$)=>{try{const ue=`${U}-${$}`,ce=vo($),ie=k_(ce);u(te=>({...te,[ue]:!te[ue]}));const W=!c[ue];for(const te of r)for(const Xe of te.employees){const Ke=Xe.employee_name,De=await Ws(Qn(wl,"calendar",Ke));if(!De.exists())continue;const ft=De.data(),tt=ft.calendar.map(He=>{const B=new Date(He.day).getDay();return P[B]!==U?He:{...He,day_time:He.day_time.map(se=>se.appointment_id!==""&&se.appointment_id!=="not_in_schedule"?se:ie.includes(se.hour)?W?{appointment_id:"",client_id:"none",hour:se.hour,service:"none"}:{appointment_id:"not_in_schedule",client_id:"not_in_schedule",hour:se.hour,service:"not_in_schedule"}:se)}});await e("calendar",Ke,{...ft,calendar:tt})}}catch(ue){console.error("Erro ao atualizar horários:",ue),t({variant:"destructive",title:"Erro",description:"Erro ao atualizar horário. Tente novamente."})}},le=async()=>{try{l(!0);const U=Kr(wl,"calendar"),$=await gs(U);for(const ue of $.docs){const ce=ue.id,ie=ue.data();if(!ie.calendar||!Array.isArray(ie.calendar)){console.warn(`Calendário inválido para ${ce}`);continue}const W=ie.calendar.map(te=>{const Ke=new Date(te.day).getDay(),De=P[Ke];return{...te,day_time:te.day_time.map(ft=>{if(ft.appointment_id!==""&&ft.appointment_id!=="not_in_schedule")return ft;const tt=vo(ft.hour),He=`${De}-${tt}:00`;return c[He]??De!=="Domingo"?{appointment_id:"",client_id:"none",hour:ft.hour,service:"none"}:{appointment_id:"not_in_schedule",client_id:"not_in_schedule",hour:ft.hour,service:"not_in_schedule"}})}});await e("calendar",ce,{calendar:W})}t({title:"Sucesso!",description:"Horários atualizados para todos os funcionários."})}catch(U){console.error("Erro ao atualizar horários:",U),t({variant:"destructive",title:"Erro",description:"Erro ao atualizar horários. Tente novamente."})}finally{l(!1)}},ve=async U=>{try{await n("services",U),R($=>$.filter(ue=>ue.name!==U)),t({title:"Sucesso!",description:"Serviço excluído com sucesso."})}catch{t({variant:"destructive",title:"Erro",description:"Erro ao excluir serviço."})}},H=async U=>{try{const $=await Ws(Qn(wl,"employees","colaborador"));if($.exists()){const ce=$.data().employees||[],ie=ce.find(te=>te.employee_id===U),W=ce.filter(te=>te.employee_id!==U);await e("employees","colaborador",{employees:W}),p(W),ie&&await f6(ie.employee_name),t({title:"Sucesso!",description:"Funcionário excluído com sucesso."})}}catch{t({variant:"destructive",title:"Erro",description:"Erro ao excluir funcionário."})}},ee=(U="id")=>`${U}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,pe=async U=>{try{const $=ee(),ue={...U,service_id:$};await e("services",U.name,ue),R(ce=>[...ce,{service_id:$,name:U.name,description:U.description,preco:U.preco,service_duration:U.service_duration}]),t({title:"Sucesso!",description:"Serviço criado com sucesso."}),ct(!1)}catch{t({variant:"destructive",title:"Erro",description:"Erro ao criar serviço."})}},Ie=async U=>{if(A)try{const $={...U,service_id:A.service_id};await e("services",A.service_id,$),R(ue=>ue.map(ce=>ce.service_id===A.service_id?{service_id:$.service_id,name:U.name,description:U.description,preco:U.preco,service_duration:U.service_duration}:ce)),t({title:"Sucesso!",description:"Serviço atualizado com sucesso."}),ct(!1)}catch{t({variant:"destructive",title:"Erro",description:"Erro ao atualizar serviço."})}},ke=async U=>{try{const ue={employee_id:ee("emp"),employee_name:U.employee_name,services:U.services},ce=await Ws(Qn(wl,"employees","colaborador"));if(ce.exists()){const te=[...ce.data().employees||[],ue];await e("employees","colaborador",{employees:te}),p(te)}else await e("employees","colaborador",{employees:[ue]}),p([ue]);try{console.log(`Iniciando criação do calendário para novo funcionário: ${U.employee_name}`),await d6(U.employee_name),console.log(`Calendário para ${U.employee_name} criado com sucesso`)}catch(ie){console.error("Erro ao criar calendário para o novo funcionário:",ie)}t({title:"Sucesso!",description:"Funcionário criado com sucesso."}),it(!1)}catch($){console.error("Erro ao criar funcionário:",$),t({variant:"destructive",title:"Erro",description:"Erro ao criar funcionário."})}},ze=async U=>{if(V)try{const $={employee_id:V.employee_id,...U},ue=await Ws(Qn(wl,"employees","colaborador"));if(ue.exists()){const W=(ue.data().employees||[]).map(te=>te.employee_id===$.employee_id?$:te);await e("employees","colaborador",{employees:W}),p(W),t({title:"Sucesso!",description:"Funcionário atualizado com sucesso."}),it(!1)}}catch{t({variant:"destructive",title:"Erro",description:"Erro ao atualizar funcionário."})}},ct=U=>{b(U),U||(O(null),I.reset({name:"",description:"",preco:0,service_duration:1}))},it=U=>{x(U),U||(S(null),N.reset({employee_name:"",services:[]}))},mt=U=>U.split("@")[0].slice(2);return i?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-center items-center my-20 gap-4",children:[y.jsx(ha,{className:"w-16 h-5"}),y.jsx(ha,{className:"w-16 h-5"}),y.jsx(ha,{className:"w-16 h-5"}),y.jsx(ha,{className:"w-16 h-5"})]}),y.jsx(ha,{className:"w-full h-screen"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsxs(VO,{defaultValue:"schedule",className:"w-full",children:[y.jsxs(Fb,{className:"flex justify-center w-full h-16 bg-transparent mb-8",children:[y.jsx(Ta,{value:"schedule",children:"Horários"}),y.jsx(Ta,{value:"services",children:"Serviços"}),y.jsx(Ta,{value:"team",children:"Equipe"}),y.jsx(Ta,{value:"users",children:"Usuários"})]}),y.jsxs(xa,{value:"schedule",children:[y.jsx("div",{className:"rounded-md border",children:y.jsxs(Ea,{children:[y.jsx(ba,{children:y.jsxs(pr,{children:[y.jsx(Zt,{children:"Horário"}),P.map(U=>y.jsx(Zt,{className:"text-center",children:U},U))]})}),y.jsx(Sa,{children:k.map(U=>y.jsxs(pr,{children:[y.jsx(Xt,{className:"font-medium",children:U}),P.map($=>y.jsx(Xt,{className:"text-center",children:y.jsx("input",{checked:c[`${$}-${U}`]??$!=="Domingo",onChange:()=>fe($,U),type:"checkbox",className:"w-4 h-4 rounded border-border"})},`${$}-${U}`))]},U))})]})}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:le,disabled:a,className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(o_,{className:"w-4 h-4 animate-spin"}),"Atualizando..."]}):"Salvar Alterações"})})]}),y.jsxs(xa,{value:"services",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Serviços"}),y.jsxs(Up,{open:E,onOpenChange:ct,children:[y.jsx(RC,{asChild:!0,children:y.jsxs(di,{size:"sm",children:[y.jsx(N0,{className:"mr-2 h-4 w-4"}),"Novo Serviço"]})}),y.jsxs(Id,{children:[y.jsxs(Dd,{children:[y.jsx(kd,{children:A?"Editar Serviço":"Novo Serviço"}),y.jsxs($_,{children:["Preencha os campos abaixo para"," ",A?"editar o":"criar um novo"," serviço."]})]}),y.jsx(BC,{...I,children:y.jsxs("form",{onSubmit:I.handleSubmit(A?Ie:pe),className:"space-y-4",children:[y.jsx(_l,{control:I.control,name:"name",render:({field:U})=>y.jsxs(sa,{children:[y.jsx(oa,{children:"Nome"}),y.jsx(aa,{children:y.jsx(Cl,{...U})}),y.jsx(la,{})]})}),y.jsx(_l,{control:I.control,name:"description",render:({field:U})=>y.jsxs(sa,{children:[y.jsx(oa,{children:"Descrição"}),y.jsx(aa,{children:y.jsx(Cl,{...U})}),y.jsx(la,{})]})}),y.jsx(_l,{control:I.control,name:"preco",render:({field:U})=>y.jsxs(sa,{children:[y.jsx(oa,{children:"Preço"}),y.jsx(aa,{children:y.jsx(Cl,{type:"number",...U})}),y.jsx(la,{})]})}),y.jsx(_l,{control:I.control,name:"service_duration",render:({field:U})=>y.jsxs(sa,{children:[y.jsx(oa,{children:"Duração (em slots de 15 minutos)"}),y.jsx(aa,{children:y.jsx(Cl,{type:"number",...U})}),y.jsx(la,{})]})}),y.jsx(H_,{children:y.jsx(di,{type:"submit",children:A?"Salvar":"Criar"})})]})})]})]})]}),y.jsx("div",{className:"rounded-md border",children:y.jsxs(Ea,{children:[y.jsx(ba,{children:y.jsxs(pr,{children:[y.jsx(Zt,{children:"Nome"}),y.jsx(Zt,{children:"Descrição"}),y.jsx(Zt,{children:"Duração"}),y.jsx(Zt,{children:"Preço"}),y.jsx(Zt,{children:"Ações"})]})}),y.jsx(Sa,{children:C.map(U=>y.jsxs(pr,{children:[y.jsx(Xt,{children:U.name}),y.jsx(Xt,{children:U.description}),y.jsxs(Xt,{children:[U.service_duration*15,"min"]}),y.jsx(Xt,{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.preco)}),y.jsx(Xt,{children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx(di,{variant:"ghost",size:"icon",onClick:()=>{O(U),b(!0)},children:y.jsx(P0,{className:"h-4 w-4"})}),y.jsxs(CC,{children:[y.jsx(AC,{asChild:!0,children:y.jsx(di,{variant:"ghost",size:"icon",children:y.jsx(a_,{className:"h-4 w-4"})})}),y.jsxs(L_,{children:[y.jsxs(V_,{children:[y.jsx(F_,{children:"Confirmar exclusão"}),y.jsx(U_,{children:"Tem certeza que deseja excluir este serviço?"})]}),y.jsxs(j_,{children:[y.jsx(z_,{children:"Cancelar"}),y.jsx(B_,{onClick:()=>ve(U.name),children:"Confirmar"})]})]})]})]})})]},U.service_id))})]})})]}),y.jsxs(xa,{value:"team",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Equipe"}),y.jsxs(Up,{open:v,onOpenChange:it,children:[y.jsx(RC,{asChild:!0,children:y.jsxs(di,{size:"sm",children:[y.jsx(N0,{className:"mr-2 h-4 w-4"}),"Novo Funcionário"]})}),y.jsxs(Id,{children:[y.jsxs(Dd,{children:[y.jsx(kd,{children:V?"Editar Funcionário":"Novo Funcionário"}),y.jsxs($_,{children:["Preencha os campos abaixo para"," ",V?"editar o":"criar um novo"," ","funcionário."]})]}),y.jsx(BC,{...N,children:y.jsxs("form",{onSubmit:N.handleSubmit(V?ze:ke),className:"space-y-4",children:[y.jsx(_l,{control:N.control,name:"employee_name",render:({field:U})=>y.jsxs(sa,{children:[y.jsx(oa,{children:"Nome"}),y.jsx(aa,{children:y.jsx(Cl,{...U})}),y.jsx(la,{})]})}),y.jsx(_l,{control:N.control,name:"services",render:({field:U})=>y.jsxs(sa,{children:[y.jsx(oa,{children:"Serviços"}),y.jsx(aa,{children:y.jsx("div",{className:"flex flex-wrap gap-2",children:C.map($=>y.jsx(di,{type:"button",variant:U.value.includes($.name)?"default":"outline",onClick:()=>{const ue=U.value.includes($.name)?U.value.filter(ce=>ce!==$.name):[...U.value,$.name];U.onChange(ue)},children:$.name},$.service_id))})}),y.jsx(la,{})]})}),y.jsx(H_,{children:y.jsx(di,{type:"submit",children:V?"Salvar":"Criar"})})]})})]})]})]}),y.jsx("div",{className:"rounded-md border",children:y.jsxs(Ea,{children:[y.jsx(ba,{children:y.jsxs(pr,{children:[y.jsx(Zt,{children:"Nome"}),y.jsx(Zt,{children:"Serviços"}),y.jsx(Zt,{children:"Ações"})]})}),y.jsx(Sa,{children:h.map(U=>y.jsxs(pr,{children:[y.jsx(Xt,{children:U.employee_name}),y.jsx(Xt,{children:U.services.join(", ")}),y.jsx(Xt,{children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx(di,{variant:"ghost",size:"icon",onClick:()=>{S(U),x(!0)},children:y.jsx(P0,{className:"h-4 w-4"})}),y.jsxs(CC,{children:[y.jsx(AC,{asChild:!0,children:y.jsx(di,{variant:"ghost",size:"icon",children:y.jsx(a_,{className:"h-4 w-4"})})}),y.jsxs(L_,{children:[y.jsxs(V_,{children:[y.jsx(F_,{children:"Confirmar exclusão"}),y.jsx(U_,{children:"Tem certeza que deseja excluir este funcionário?"})]}),y.jsxs(j_,{children:[y.jsx(z_,{children:"Cancelar"}),y.jsx(B_,{onClick:()=>H(U.employee_id),children:"Confirmar"})]})]})]})]})})]},U.employee_id))})]})})]}),y.jsxs(xa,{value:"users",children:[y.jsx("div",{className:"flex justify-between items-center mb-4",children:y.jsx("h2",{className:"text-2xl font-bold",children:"Usuários"})}),y.jsx("div",{className:"rounded-md border",children:y.jsxs(Ea,{children:[y.jsx(ba,{children:y.jsxs(pr,{children:[y.jsx(Zt,{children:"Nome"}),y.jsx(Zt,{children:"Email"}),y.jsx(Zt,{children:"Telefone"}),y.jsx(Zt,{children:"Admin"})]})}),y.jsx(Sa,{children:g.map(U=>y.jsxs(pr,{children:[y.jsx(Xt,{children:U.name}),y.jsx(Xt,{children:U.email}),y.jsx(Xt,{children:mt(U.phone)}),y.jsx(Xt,{children:y.jsx("div",{className:"flex items-center",children:U.isAdmin?y.jsx("span",{className:"text-green-500",children:"Sim"}):y.jsx("span",{className:"text-red-500",children:"Não"})})})]},U.user_id))})]})})]})]})}),y.jsx(qk,{})]})};function EM(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function bM(t){const[e,n]=_.useState(void 0);return In(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var yg="Checkbox",[$G,sne]=Oi(yg),[WG,Yb]=$G(yg);function GG(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,p]=So({prop:n,defaultProp:i??!1,onChange:l,caller:yg}),[w,g]=_.useState(null),[E,b]=_.useState(null),v=_.useRef(!1),x=w?!!o||!!w.closest("form"):!0,A={checked:h,disabled:s,setChecked:p,control:w,setControl:g,name:a,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:_o(i)?!1:i,isFormControl:x,bubbleInput:E,setBubbleInput:b};return y.jsx(WG,{scope:e,...A,children:qG(f)?f(A):r})}var SM="CheckboxTrigger",TM=_.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:w}=Yb(SM,t),g=Et(i,u),E=_.useRef(l);return _.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const v=()=>f(E.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[s,f]),y.jsx(Ze.button,{type:"button",role:"checkbox","aria-checked":_o(l)?"mixed":l,"aria-required":c,"data-state":IM(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:Pe(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Pe(n,b=>{f(v=>_o(v)?!0:!v),w&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});TM.displayName=SM;var Zb=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return y.jsx(GG,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>y.jsxs(y.Fragment,{children:[y.jsx(TM,{...f,ref:e,__scopeCheckbox:n}),h&&y.jsx(RM,{__scopeCheckbox:n})]})})});Zb.displayName=yg;var xM="CheckboxIndicator",CM=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=Yb(xM,n);return y.jsx(Uo,{present:r||_o(s.checked)||s.checked===!0,children:y.jsx(Ze.span,{"data-state":IM(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});CM.displayName=xM;var AM="CheckboxBubbleInput",RM=_.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:p}=Yb(AM,t),w=Et(n,p),g=EM(s),E=bM(r);_.useEffect(()=>{const v=h;if(!v)return;const x=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(x,"checked").set,V=!i.current;if(g!==s&&O){const S=new Event("click",{bubbles:V});v.indeterminate=_o(s),O.call(v,_o(s)?!1:s),v.dispatchEvent(S)}},[h,g,s,i]);const b=_.useRef(_o(s)?!1:s);return y.jsx(Ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:w,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});RM.displayName=AM;function qG(t){return typeof t=="function"}function _o(t){return t==="indeterminate"}function IM(t){return _o(t)?"indeterminate":t?"checked":"unchecked"}const DM=_.forwardRef(({className:t,...e},n)=>y.jsx(Zb,{ref:n,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:y.jsx(CM,{className:Le("flex items-center justify-center text-current"),children:y.jsx(Ok,{className:"h-4 w-4"})})}));DM.displayName=Zb.displayName;function CA(t,[e,n]){return Math.min(n,Math.max(e,t))}const QG=["top","right","bottom","left"],No=Math.min,vr=Math.max,rm=Math.round,oh=Math.floor,Ii=t=>({x:t,y:t}),KG={left:"right",right:"left",bottom:"top",top:"bottom"},YG={start:"end",end:"start"};function tw(t,e,n){return vr(t,No(e,n))}function ws(t,e){return typeof t=="function"?t(e):t}function Es(t){return t.split("-")[0]}function $c(t){return t.split("-")[1]}function Xb(t){return t==="x"?"y":"x"}function Jb(t){return t==="y"?"height":"width"}const ZG=new Set(["top","bottom"]);function _i(t){return ZG.has(Es(t))?"y":"x"}function eS(t){return Xb(_i(t))}function XG(t,e,n){n===void 0&&(n=!1);const r=$c(t),i=eS(t),s=Jb(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=im(o)),[o,im(o)]}function JG(t){const e=im(t);return[nw(t),e,nw(e)]}function nw(t){return t.replace(/start|end/g,e=>YG[e])}const AA=["left","right"],RA=["right","left"],eq=["top","bottom"],tq=["bottom","top"];function nq(t,e,n){switch(t){case"top":case"bottom":return n?e?RA:AA:e?AA:RA;case"left":case"right":return e?eq:tq;default:return[]}}function rq(t,e,n,r){const i=$c(t);let s=nq(Es(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(nw)))),s}function im(t){return t.replace(/left|right|bottom|top/g,e=>KG[e])}function iq(t){return{top:0,right:0,bottom:0,left:0,...t}}function kM(t){return typeof t!="number"?iq(t):{top:t,right:t,bottom:t,left:t}}function sm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function IA(t,e,n){let{reference:r,floating:i}=t;const s=_i(e),o=eS(e),a=Jb(o),l=Es(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch($c(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const sq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=IA(c,r,l),h=r,p={},w=0;for(let g=0;g<a.length;g++){const{name:E,fn:b}=a[g],{x:v,y:x,data:A,reset:O}=await b({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,f=x??f,p={...p,[E]:{...p[E],...A}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:u,y:f}=IA(c,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function Od(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ws(e,t),w=kM(p),E=a[h?f==="floating"?"reference":"floating":f],b=sm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},O=sm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(b.top-O.top+w.top)/A.y,bottom:(O.bottom-b.bottom+w.bottom)/A.y,left:(b.left-O.left+w.left)/A.x,right:(O.right-b.right+w.right)/A.x}}const oq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ws(t,e)||{};if(c==null)return{};const f=kM(u),h={x:n,y:r},p=eS(i),w=Jb(p),g=await o.getDimensions(c),E=p==="y",b=E?"top":"left",v=E?"bottom":"right",x=E?"clientHeight":"clientWidth",A=s.reference[w]+s.reference[p]-h[p]-s.floating[w],O=h[p]-s.reference[p],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=V?V[x]:0;(!S||!await(o.isElement==null?void 0:o.isElement(V)))&&(S=a.floating[x]||s.floating[w]);const C=A/2-O/2,R=S/2-g[w]/2-1,I=No(f[b],R),N=No(f[v],R),P=I,k=S-g[w]-N,Y=S/2-g[w]/2+C,fe=tw(P,Y,k),le=!l.arrow&&$c(i)!=null&&Y!==fe&&s.reference[w]/2-(Y<P?I:N)-g[w]/2<0,ve=le?Y<P?Y-P:Y-k:0;return{[p]:h[p]+ve,data:{[p]:fe,centerOffset:Y-fe-ve,...le&&{alignmentOffset:ve}},reset:le}}}),aq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...E}=ws(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Es(i),v=_i(a),x=Es(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=h||(x||!g?[im(a)]:JG(a)),V=w!=="none";!h&&V&&O.push(...rq(a,g,w,A));const S=[a,...O],C=await Od(e,E),R=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(C[b]),f){const Y=XG(i,o,A);R.push(C[Y[0]],C[Y[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(Y=>Y<=0)){var N,P;const Y=(((N=s.flip)==null?void 0:N.index)||0)+1,fe=S[Y];if(fe&&(!(f==="alignment"?v!==_i(fe):!1)||I.every(H=>_i(H.placement)===v?H.overflows[0]>0:!0)))return{data:{index:Y,overflows:I},reset:{placement:fe}};let le=(P=I.filter(ve=>ve.overflows[0]<=0).sort((ve,H)=>ve.overflows[1]-H.overflows[1])[0])==null?void 0:P.placement;if(!le)switch(p){case"bestFit":{var k;const ve=(k=I.filter(H=>{if(V){const ee=_i(H.placement);return ee===v||ee==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ee=>ee>0).reduce((ee,pe)=>ee+pe,0)]).sort((H,ee)=>H[1]-ee[1])[0])==null?void 0:k[0];ve&&(le=ve);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function DA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kA(t){return QG.some(e=>t[e]>=0)}const lq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ws(t,e);switch(r){case"referenceHidden":{const s=await Od(e,{...i,elementContext:"reference"}),o=DA(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kA(o)}}}case"escaped":{const s=await Od(e,{...i,altBoundary:!0}),o=DA(s,n.floating);return{data:{escapedOffsets:o,escaped:kA(o)}}}default:return{}}}}},PM=new Set(["left","top"]);async function cq(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Es(n),a=$c(n),l=_i(n)==="y",c=PM.has(o)?-1:1,u=s&&l?-1:1,f=ws(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(p=a==="end"?w*-1:w),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const uq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await cq(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},dq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:b,y:v}=E;return{x:b,y:v}}},...l}=ws(t,e),c={x:n,y:r},u=await Od(e,l),f=_i(Es(i)),h=Xb(f);let p=c[h],w=c[f];if(s){const E=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+u[E],x=p-u[b];p=tw(v,p,x)}if(o){const E=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=w+u[E],x=w-u[b];w=tw(v,w,x)}const g=a.fn({...e,[h]:p,[f]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}},fq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ws(t,e),u={x:n,y:r},f=_i(i),h=Xb(f);let p=u[h],w=u[f];const g=ws(a,e),E=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=h==="y"?"height":"width",A=s.reference[h]-s.floating[x]+E.mainAxis,O=s.reference[h]+s.reference[x]-E.mainAxis;p<A?p=A:p>O&&(p=O)}if(c){var b,v;const x=h==="y"?"width":"height",A=PM.has(Es(i)),O=s.reference[f]-s.floating[x]+(A&&((b=o.offset)==null?void 0:b[f])||0)+(A?0:E.crossAxis),V=s.reference[f]+s.reference[x]+(A?0:((v=o.offset)==null?void 0:v[f])||0)-(A?E.crossAxis:0);w<O?w=O:w>V&&(w=V)}return{[h]:p,[f]:w}}}},hq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ws(t,e),u=await Od(e,c),f=Es(i),h=$c(i),p=_i(i)==="y",{width:w,height:g}=s.floating;let E,b;f==="top"||f==="bottom"?(E=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,E=h==="end"?"top":"bottom");const v=g-u.top-u.bottom,x=w-u.left-u.right,A=No(g-u[E],v),O=No(w-u[b],x),V=!e.middlewareData.shift;let S=A,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),V&&!h){const I=vr(u.left,0),N=vr(u.right,0),P=vr(u.top,0),k=vr(u.bottom,0);p?C=w-2*(I!==0||N!==0?I+N:vr(u.left,u.right)):S=g-2*(P!==0||k!==0?P+k:vr(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const R=await o.getDimensions(a.floating);return w!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function _g(){return typeof window<"u"}function Wc(t){return NM(t)?(t.nodeName||"").toLowerCase():"#document"}function Er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mi(t){var e;return(e=(NM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NM(t){return _g()?t instanceof Node||t instanceof Er(t).Node:!1}function ni(t){return _g()?t instanceof Element||t instanceof Er(t).Element:!1}function Pi(t){return _g()?t instanceof HTMLElement||t instanceof Er(t).HTMLElement:!1}function PA(t){return!_g()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Er(t).ShadowRoot}const pq=new Set(["inline","contents"]);function ff(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ri(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pq.has(i)}const mq=new Set(["table","td","th"]);function gq(t){return mq.has(Wc(t))}const vq=[":popover-open",":modal"];function wg(t){return vq.some(e=>{try{return t.matches(e)}catch{return!1}})}const yq=["transform","translate","scale","rotate","perspective"],_q=["transform","translate","scale","rotate","perspective","filter"],wq=["paint","layout","strict","content"];function tS(t){const e=nS(),n=ni(t)?ri(t):t;return yq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||_q.some(r=>(n.willChange||"").includes(r))||wq.some(r=>(n.contain||"").includes(r))}function Eq(t){let e=Oo(t);for(;Pi(e)&&!Ac(e);){if(tS(e))return e;if(wg(e))return null;e=Oo(e)}return null}function nS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bq=new Set(["html","body","#document"]);function Ac(t){return bq.has(Wc(t))}function ri(t){return Er(t).getComputedStyle(t)}function Eg(t){return ni(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oo(t){if(Wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PA(t)&&t.host||Mi(t);return PA(e)?e.host:e}function OM(t){const e=Oo(t);return Ac(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pi(e)&&ff(e)?e:OM(e)}function Md(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=OM(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Er(i);if(s){const a=rw(o);return e.concat(o,o.visualViewport||[],ff(i)?i:[],a&&n?Md(a):[])}return e.concat(i,Md(i,[],n))}function rw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MM(t){const e=ri(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Pi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=rm(n)!==s||rm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function rS(t){return ni(t)?t:t.contextElement}function nc(t){const e=rS(t);if(!Pi(e))return Ii(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=MM(e);let o=(s?rm(n.width):n.width)/r,a=(s?rm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Sq=Ii(0);function LM(t){const e=Er(t);return!nS()||!e.visualViewport?Sq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Er(t)?!1:e}function Ka(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=rS(t);let o=Ii(1);e&&(r?ni(r)&&(o=nc(r)):o=nc(t));const a=Tq(s,n,r)?LM(s):Ii(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=Er(s),p=r&&ni(r)?Er(r):r;let w=h,g=rw(w);for(;g&&r&&p!==w;){const E=nc(g),b=g.getBoundingClientRect(),v=ri(g),x=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*E.x,A=b.top+(g.clientTop+parseFloat(v.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,f*=E.y,l+=x,c+=A,w=Er(g),g=rw(w)}}return sm({width:u,height:f,x:l,y:c})}function bg(t,e){const n=Eg(t).scrollLeft;return e?e.left+n:Ka(Mi(t)).left+n}function VM(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-bg(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function xq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Mi(r),a=e?wg(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ii(1);const u=Ii(0),f=Pi(r);if((f||!f&&!s)&&((Wc(r)!=="body"||ff(o))&&(l=Eg(r)),Pi(r))){const p=Ka(r);c=nc(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=o&&!f&&!s?VM(o,l):Ii(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function Cq(t){return Array.from(t.getClientRects())}function Aq(t){const e=Mi(t),n=Eg(t),r=t.ownerDocument.body,i=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+bg(t);const a=-n.scrollTop;return ri(r).direction==="rtl"&&(o+=vr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const NA=25;function Rq(t,e){const n=Er(t),r=Mi(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=nS();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=bg(r);if(c<=0){const u=r.ownerDocument,f=u.body,h=getComputedStyle(f),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,w=Math.abs(r.clientWidth-f.clientWidth-p);w<=NA&&(s-=w)}else c<=NA&&(s+=c);return{width:s,height:o,x:a,y:l}}const Iq=new Set(["absolute","fixed"]);function Dq(t,e){const n=Ka(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Pi(t)?nc(t):Ii(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function OA(t,e,n){let r;if(e==="viewport")r=Rq(t,n);else if(e==="document")r=Aq(Mi(t));else if(ni(e))r=Dq(e,n);else{const i=LM(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return sm(r)}function jM(t,e){const n=Oo(t);return n===e||!ni(n)||Ac(n)?!1:ri(n).position==="fixed"||jM(n,e)}function kq(t,e){const n=e.get(t);if(n)return n;let r=Md(t,[],!1).filter(a=>ni(a)&&Wc(a)!=="body"),i=null;const s=ri(t).position==="fixed";let o=s?Oo(t):t;for(;ni(o)&&!Ac(o);){const a=ri(o),l=tS(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&Iq.has(i.position)||ff(o)&&!l&&jM(t,o))?r=r.filter(u=>u!==o):i=a,o=Oo(o)}return e.set(t,r),r}function Pq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?wg(e)?[]:kq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=OA(e,u,i);return c.top=vr(f.top,c.top),c.right=No(f.right,c.right),c.bottom=No(f.bottom,c.bottom),c.left=vr(f.left,c.left),c},OA(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Nq(t){const{width:e,height:n}=MM(t);return{width:e,height:n}}function Oq(t,e,n){const r=Pi(e),i=Mi(e),s=n==="fixed",o=Ka(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ii(0);function c(){l.x=bg(i)}if(r||!r&&!s)if((Wc(e)!=="body"||ff(i))&&(a=Eg(e)),r){const p=Ka(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?VM(i,a):Ii(0),f=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function Wv(t){return ri(t).position==="static"}function MA(t,e){if(!Pi(t)||ri(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mi(t)===n&&(n=n.ownerDocument.body),n}function FM(t,e){const n=Er(t);if(wg(t))return n;if(!Pi(t)){let i=Oo(t);for(;i&&!Ac(i);){if(ni(i)&&!Wv(i))return i;i=Oo(i)}return n}let r=MA(t,e);for(;r&&gq(r)&&Wv(r);)r=MA(r,e);return r&&Ac(r)&&Wv(r)&&!tS(r)?n:r||Eq(t)||n}const Mq=async function(t){const e=this.getOffsetParent||FM,n=this.getDimensions,r=await n(t.floating);return{reference:Oq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lq(t){return ri(t).direction==="rtl"}const Vq={convertOffsetParentRelativeRectToViewportRelativeRect:xq,getDocumentElement:Mi,getClippingRect:Pq,getOffsetParent:FM,getElementRects:Mq,getClientRects:Cq,getDimensions:Nq,getScale:nc,isElement:ni,isRTL:Lq};function UM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jq(t,e){let n=null,r;const i=Mi(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=c;if(a||e(),!h||!p)return;const w=oh(f),g=oh(i.clientWidth-(u+h)),E=oh(i.clientHeight-(f+p)),b=oh(u),x={rootMargin:-w+"px "+-g+"px "+-E+"px "+-b+"px",threshold:vr(0,No(1,l))||1};let A=!0;function O(V){const S=V[0].intersectionRatio;if(S!==l){if(!A)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!UM(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(O,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),s}function Fq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=rS(t),u=i||s?[...c?Md(c):[],...Md(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=c&&a?jq(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let w,g=l?Ka(t):null;l&&E();function E(){const b=Ka(t);g&&!UM(g,b)&&n(),g=b,w=requestAnimationFrame(E)}return n(),()=>{var b;u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(w)}}const Uq=uq,Bq=dq,zq=aq,Hq=hq,$q=lq,LA=oq,Wq=fq,Gq=(t,e,n)=>{const r=new Map,i={platform:Vq,...n},s={...i.platform,_c:r};return sq(t,e,{...i,platform:s})};var qq=typeof document<"u",Qq=function(){},Wh=qq?_.useLayoutEffect:Qq;function om(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!om(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!om(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function BM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VA(t,e){const n=BM(t);return Math.round(e*n)/n}function Gv(t){const e=_.useRef(t);return Wh(()=>{e.current=t}),e}function Kq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=_.useState(r);om(h,r)||p(r);const[w,g]=_.useState(null),[E,b]=_.useState(null),v=_.useCallback(H=>{H!==V.current&&(V.current=H,g(H))},[]),x=_.useCallback(H=>{H!==S.current&&(S.current=H,b(H))},[]),A=s||w,O=o||E,V=_.useRef(null),S=_.useRef(null),C=_.useRef(u),R=l!=null,I=Gv(l),N=Gv(i),P=Gv(c),k=_.useCallback(()=>{if(!V.current||!S.current)return;const H={placement:e,strategy:n,middleware:h};N.current&&(H.platform=N.current),Gq(V.current,S.current,H).then(ee=>{const pe={...ee,isPositioned:P.current!==!1};Y.current&&!om(C.current,pe)&&(C.current=pe,ti.flushSync(()=>{f(pe)}))})},[h,e,n,N,P]);Wh(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[c]);const Y=_.useRef(!1);Wh(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Wh(()=>{if(A&&(V.current=A),O&&(S.current=O),A&&O){if(I.current)return I.current(A,O,k);k()}},[A,O,k,I,R]);const fe=_.useMemo(()=>({reference:V,floating:S,setReference:v,setFloating:x}),[v,x]),le=_.useMemo(()=>({reference:A,floating:O}),[A,O]),ve=_.useMemo(()=>{const H={position:n,left:0,top:0};if(!le.floating)return H;const ee=VA(le.floating,u.x),pe=VA(le.floating,u.y);return a?{...H,transform:"translate("+ee+"px, "+pe+"px)",...BM(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:pe}},[n,a,le.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:k,refs:fe,elements:le,floatingStyles:ve}),[u,k,fe,le,ve])}const Yq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?LA({element:r.current,padding:i}).fn(n):{}:r?LA({element:r,padding:i}).fn(n):{}}}},Zq=(t,e)=>({...Uq(t),options:[t,e]}),Xq=(t,e)=>({...Bq(t),options:[t,e]}),Jq=(t,e)=>({...Wq(t),options:[t,e]}),eQ=(t,e)=>({...zq(t),options:[t,e]}),tQ=(t,e)=>({...Hq(t),options:[t,e]}),nQ=(t,e)=>({...$q(t),options:[t,e]}),rQ=(t,e)=>({...Yq(t),options:[t,e]});var iQ="Arrow",zM=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return y.jsx(Ze.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});zM.displayName=iQ;var sQ=zM,iS="Popper",[HM,Sg]=Oi(iS),[oQ,$M]=HM(iS),WM=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return y.jsx(oQ,{scope:e,anchor:r,onAnchorChange:i,children:n})};WM.displayName=iS;var GM="PopperAnchor",qM=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=$M(GM,n),o=_.useRef(null),a=Et(e,o),l=_.useRef(null);return _.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:y.jsx(Ze.div,{...i,ref:a})});qM.displayName=GM;var sS="PopperContent",[aQ,lQ]=HM(sS),QM=_.forwardRef((t,e)=>{var U,$,ue,ce,ie,W;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=t,E=$M(sS,n),[b,v]=_.useState(null),x=Et(e,te=>v(te)),[A,O]=_.useState(null),V=bM(A),S=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,R=r+(s!=="center"?"-"+s:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],P=N.length>0,k={padding:I,boundary:N.filter(uQ),altBoundary:P},{refs:Y,floatingStyles:fe,placement:le,isPositioned:ve,middlewareData:H}=Kq({strategy:"fixed",placement:R,whileElementsMounted:(...te)=>Fq(...te,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[Zq({mainAxis:i+C,alignmentAxis:o}),l&&Xq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Jq():void 0,...k}),l&&eQ({...k}),tQ({...k,apply:({elements:te,rects:Xe,availableWidth:Ke,availableHeight:De})=>{const{width:ft,height:tt}=Xe.reference,He=te.floating.style;He.setProperty("--radix-popper-available-width",`${Ke}px`),He.setProperty("--radix-popper-available-height",`${De}px`),He.setProperty("--radix-popper-anchor-width",`${ft}px`),He.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),A&&rQ({element:A,padding:a}),dQ({arrowWidth:S,arrowHeight:C}),h&&nQ({strategy:"referenceHidden",...k})]}),[ee,pe]=ZM(le),Ie=Vr(w);In(()=>{ve&&(Ie==null||Ie())},[ve,Ie]);const ke=(U=H.arrow)==null?void 0:U.x,ze=($=H.arrow)==null?void 0:$.y,ct=((ue=H.arrow)==null?void 0:ue.centerOffset)!==0,[it,mt]=_.useState();return In(()=>{b&&mt(window.getComputedStyle(b).zIndex)},[b]),y.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:ve?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:it,"--radix-popper-transform-origin":[(ce=H.transformOrigin)==null?void 0:ce.x,(ie=H.transformOrigin)==null?void 0:ie.y].join(" "),...((W=H.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(aQ,{scope:n,placedSide:ee,onArrowChange:O,arrowX:ke,arrowY:ze,shouldHideArrow:ct,children:y.jsx(Ze.div,{"data-side":ee,"data-align":pe,...g,ref:x,style:{...g.style,animation:ve?void 0:"none"}})})})});QM.displayName=sS;var KM="PopperArrow",cQ={top:"bottom",right:"left",bottom:"top",left:"right"},YM=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=lQ(KM,r),o=cQ[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(sQ,{...i,ref:n,style:{...i.style,display:"block"}})})});YM.displayName=KM;function uQ(t){return t!==null}var dQ=t=>({name:"transformOrigin",options:t,fn(e){var E,b,v;const{placement:n,rects:r,middlewareData:i}=e,o=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=ZM(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let w="",g="";return c==="bottom"?(w=o?f:`${h}px`,g=`${-l}px`):c==="top"?(w=o?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,g=o?f:`${p}px`):c==="left"&&(w=`${r.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:w,y:g}}}});function ZM(t){const[e,n="center"]=t.split("-");return[e,n]}var XM=WM,JM=qM,eL=QM,tL=YM,fQ=[" ","Enter","ArrowUp","ArrowDown"],hQ=[" ","Enter"],Ya="Select",[Tg,xg,pQ]=EE(Ya),[Gc,one]=Oi(Ya,[pQ,Sg]),Cg=Sg(),[mQ,Go]=Gc(Ya),[gQ,vQ]=Gc(Ya),nL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:p,form:w}=t,g=Cg(e),[E,b]=_.useState(null),[v,x]=_.useState(null),[A,O]=_.useState(!1),V=Vb(c),[S,C]=So({prop:r,defaultProp:i??!1,onChange:s,caller:Ya}),[R,I]=So({prop:o,defaultProp:a,onChange:l,caller:Ya}),N=_.useRef(null),P=E?w||!!E.closest("form"):!0,[k,Y]=_.useState(new Set),fe=Array.from(k).map(le=>le.props.value).join(";");return y.jsx(XM,{...g,children:y.jsxs(mQ,{required:p,scope:e,trigger:E,onTriggerChange:b,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:os(),value:R,onValueChange:I,open:S,onOpenChange:C,dir:V,triggerPointerDownPosRef:N,disabled:h,children:[y.jsx(Tg.Provider,{scope:e,children:y.jsx(gQ,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(le=>{Y(ve=>new Set(ve).add(le))},[]),onNativeOptionRemove:_.useCallback(le=>{Y(ve=>{const H=new Set(ve);return H.delete(le),H})},[]),children:n})}),P?y.jsxs(CL,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:le=>I(le.target.value),disabled:h,form:w,children:[R===void 0?y.jsx("option",{value:""}):null,Array.from(k)]},fe):null]})})};nL.displayName=Ya;var rL="SelectTrigger",iL=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Cg(n),o=Go(rL,n),a=o.disabled||r,l=Et(e,o.onTriggerChange),c=xg(n),u=_.useRef("touch"),[f,h,p]=RL(g=>{const E=c().filter(x=>!x.disabled),b=E.find(x=>x.value===o.value),v=IL(E,g,b);v!==void 0&&o.onValueChange(v.value)}),w=g=>{a||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return y.jsx(JM,{asChild:!0,...s,children:y.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":AL(o.value)?"":void 0,...i,ref:l,onClick:Pe(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&w(g)}),onPointerDown:Pe(i.onPointerDown,g=>{u.current=g.pointerType;const E=g.target;E.hasPointerCapture(g.pointerId)&&E.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:Pe(i.onKeyDown,g=>{const E=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(E&&g.key===" ")&&fQ.includes(g.key)&&(w(),g.preventDefault())})})})});iL.displayName=rL;var sL="SelectValue",oL=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Go(sL,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,f=Et(e,l.onValueNodeChange);return In(()=>{c(u)},[c,u]),y.jsx(Ze.span,{...a,ref:f,style:{pointerEvents:"none"},children:AL(l.value)?y.jsx(y.Fragment,{children:o}):s})});oL.displayName=sL;var yQ="SelectIcon",aL=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return y.jsx(Ze.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});aL.displayName=yQ;var _Q="SelectPortal",lL=t=>y.jsx(Um,{asChild:!0,...t});lL.displayName=_Q;var Za="SelectContent",cL=_.forwardRef((t,e)=>{const n=Go(Za,t.__scopeSelect),[r,i]=_.useState();if(In(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ti.createPortal(y.jsx(uL,{scope:t.__scopeSelect,children:y.jsx(Tg.Slot,{scope:t.__scopeSelect,children:y.jsx("div",{children:t.children})})}),s):null}return y.jsx(dL,{...t,ref:e})});cL.displayName=Za;var zr=10,[uL,qo]=Gc(Za),wQ="SelectContentImpl",EQ=hc("SelectContent.RemoveScroll"),dL=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:E,...b}=t,v=Go(Za,n),[x,A]=_.useState(null),[O,V]=_.useState(null),S=Et(e,U=>A(U)),[C,R]=_.useState(null),[I,N]=_.useState(null),P=xg(n),[k,Y]=_.useState(!1),fe=_.useRef(!1);_.useEffect(()=>{if(x)return pN(x)},[x]),oN();const le=_.useCallback(U=>{const[$,...ue]=P().map(W=>W.ref.current),[ce]=ue.slice(-1),ie=document.activeElement;for(const W of U)if(W===ie||(W==null||W.scrollIntoView({block:"nearest"}),W===$&&O&&(O.scrollTop=0),W===ce&&O&&(O.scrollTop=O.scrollHeight),W==null||W.focus(),document.activeElement!==ie))return},[P,O]),ve=_.useCallback(()=>le([C,x]),[le,C,x]);_.useEffect(()=>{k&&ve()},[k,ve]);const{onOpenChange:H,triggerPointerDownPosRef:ee}=v;_.useEffect(()=>{if(x){let U={x:0,y:0};const $=ce=>{var ie,W;U={x:Math.abs(Math.round(ce.pageX)-(((ie=ee.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((W=ee.current)==null?void 0:W.y)??0))}},ue=ce=>{U.x<=10&&U.y<=10?ce.preventDefault():x.contains(ce.target)||H(!1),document.removeEventListener("pointermove",$),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",$),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",ue,{capture:!0})}}},[x,H,ee]),_.useEffect(()=>{const U=()=>H(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[H]);const[pe,Ie]=RL(U=>{const $=P().filter(ie=>!ie.disabled),ue=$.find(ie=>ie.ref.current===document.activeElement),ce=IL($,U,ue);ce&&setTimeout(()=>ce.ref.current.focus())}),ke=_.useCallback((U,$,ue)=>{const ce=!fe.current&&!ue;(v.value!==void 0&&v.value===$||ce)&&(R(U),ce&&(fe.current=!0))},[v.value]),ze=_.useCallback(()=>x==null?void 0:x.focus(),[x]),ct=_.useCallback((U,$,ue)=>{const ce=!fe.current&&!ue;(v.value!==void 0&&v.value===$||ce)&&N(U)},[v.value]),it=r==="popper"?iw:fL,mt=it===iw?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:E}:{};return y.jsx(uL,{scope:n,content:x,viewport:O,onViewportChange:V,itemRefCallback:ke,selectedItem:C,onItemLeave:ze,itemTextRefCallback:ct,focusSelectedItem:ve,selectedItemText:I,position:r,isPositioned:k,searchRef:pe,children:y.jsx(_b,{as:EQ,allowPinchZoom:!0,children:y.jsx(yb,{asChild:!0,trapped:v.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Pe(i,U=>{var $;($=v.trigger)==null||$.focus({preventScroll:!0}),U.preventDefault()}),children:y.jsx(Wd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:y.jsx(it,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:U=>U.preventDefault(),...b,...mt,onPlaced:()=>Y(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Pe(b.onKeyDown,U=>{const $=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!$&&U.key.length===1&&Ie(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let ce=P().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(U.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ie=U.target,W=ce.indexOf(ie);ce=ce.slice(W+1)}setTimeout(()=>le(ce)),U.preventDefault()}})})})})})})});dL.displayName=wQ;var bQ="SelectItemAlignedPosition",fL=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Go(Za,n),o=qo(Za,n),[a,l]=_.useState(null),[c,u]=_.useState(null),f=Et(e,S=>u(S)),h=xg(n),p=_.useRef(!1),w=_.useRef(!0),{viewport:g,selectedItem:E,selectedItemText:b,focusSelectedItem:v}=o,x=_.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&E&&b){const S=s.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(s.dir!=="rtl"){const ie=I.left-C.left,W=R.left-ie,te=S.left-W,Xe=S.width+te,Ke=Math.max(Xe,C.width),De=window.innerWidth-zr,ft=CA(W,[zr,Math.max(zr,De-Ke)]);a.style.minWidth=Xe+"px",a.style.left=ft+"px"}else{const ie=C.right-I.right,W=window.innerWidth-R.right-ie,te=window.innerWidth-S.right-W,Xe=S.width+te,Ke=Math.max(Xe,C.width),De=window.innerWidth-zr,ft=CA(W,[zr,Math.max(zr,De-Ke)]);a.style.minWidth=Xe+"px",a.style.right=ft+"px"}const N=h(),P=window.innerHeight-zr*2,k=g.scrollHeight,Y=window.getComputedStyle(c),fe=parseInt(Y.borderTopWidth,10),le=parseInt(Y.paddingTop,10),ve=parseInt(Y.borderBottomWidth,10),H=parseInt(Y.paddingBottom,10),ee=fe+le+k+H+ve,pe=Math.min(E.offsetHeight*5,ee),Ie=window.getComputedStyle(g),ke=parseInt(Ie.paddingTop,10),ze=parseInt(Ie.paddingBottom,10),ct=S.top+S.height/2-zr,it=P-ct,mt=E.offsetHeight/2,U=E.offsetTop+mt,$=fe+le+U,ue=ee-$;if($<=ct){const ie=N.length>0&&E===N[N.length-1].ref.current;a.style.bottom="0px";const W=c.clientHeight-g.offsetTop-g.offsetHeight,te=Math.max(it,mt+(ie?ze:0)+W+ve),Xe=$+te;a.style.height=Xe+"px"}else{const ie=N.length>0&&E===N[0].ref.current;a.style.top="0px";const te=Math.max(ct,fe+g.offsetTop+(ie?ke:0)+mt)+ue;a.style.height=te+"px",g.scrollTop=$-ct+g.offsetTop}a.style.margin=`${zr}px 0`,a.style.minHeight=pe+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,a,c,g,E,b,s.dir,r]);In(()=>x(),[x]);const[A,O]=_.useState();In(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const V=_.useCallback(S=>{S&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return y.jsx(TQ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:V,children:y.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:y.jsx(Ze.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});fL.displayName=bQ;var SQ="SelectPopperPosition",iw=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=zr,...s}=t,o=Cg(n);return y.jsx(eL,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iw.displayName=SQ;var[TQ,oS]=Gc(Za,{}),sw="SelectViewport",hL=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=qo(sw,n),o=oS(sw,n),a=Et(e,s.onViewportChange),l=_.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(Tg.Slot,{scope:n,children:y.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pe(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-u.scrollTop);if(p>0){const w=window.innerHeight-zr*2,g=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),b=Math.max(g,E);if(b<w){const v=b+p,x=Math.min(w,v),A=v-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});hL.displayName=sw;var pL="SelectGroup",[xQ,CQ]=Gc(pL),AQ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=os();return y.jsx(xQ,{scope:n,id:i,children:y.jsx(Ze.div,{role:"group","aria-labelledby":i,...r,ref:e})})});AQ.displayName=pL;var mL="SelectLabel",gL=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=CQ(mL,n);return y.jsx(Ze.div,{id:i.id,...r,ref:e})});gL.displayName=mL;var am="SelectItem",[RQ,vL]=Gc(am),yL=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Go(am,n),l=qo(am,n),c=a.value===r,[u,f]=_.useState(s??""),[h,p]=_.useState(!1),w=Et(e,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,i)}),g=os(),E=_.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(RQ,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(v=>{f(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:y.jsx(Tg.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:y.jsx(Ze.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Pe(o.onFocus,()=>p(!0)),onBlur:Pe(o.onBlur,()=>p(!1)),onClick:Pe(o.onClick,()=>{E.current!=="mouse"&&b()}),onPointerUp:Pe(o.onPointerUp,()=>{E.current==="mouse"&&b()}),onPointerDown:Pe(o.onPointerDown,v=>{E.current=v.pointerType}),onPointerMove:Pe(o.onPointerMove,v=>{var x;E.current=v.pointerType,i?(x=l.onItemLeave)==null||x.call(l):E.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(o.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Pe(o.onKeyDown,v=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&v.key===" "||(hQ.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});yL.displayName=am;var Pu="SelectItemText",_L=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Go(Pu,n),a=qo(Pu,n),l=vL(Pu,n),c=vQ(Pu,n),[u,f]=_.useState(null),h=Et(e,b=>f(b),l.onItemTextChange,b=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,b,l.value,l.disabled)}),p=u==null?void 0:u.textContent,w=_.useMemo(()=>y.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:E}=c;return In(()=>(g(w),()=>E(w)),[g,E,w]),y.jsxs(y.Fragment,{children:[y.jsx(Ze.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ti.createPortal(s.children,o.valueNode):null]})});_L.displayName=Pu;var wL="SelectItemIndicator",EL=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return vL(wL,n).isSelected?y.jsx(Ze.span,{"aria-hidden":!0,...r,ref:e}):null});EL.displayName=wL;var ow="SelectScrollUpButton",bL=_.forwardRef((t,e)=>{const n=qo(ow,t.__scopeSelect),r=oS(ow,t.__scopeSelect),[i,s]=_.useState(!1),o=Et(e,r.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?y.jsx(TL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});bL.displayName=ow;var aw="SelectScrollDownButton",SL=_.forwardRef((t,e)=>{const n=qo(aw,t.__scopeSelect),r=oS(aw,t.__scopeSelect),[i,s]=_.useState(!1),o=Et(e,r.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?y.jsx(TL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});SL.displayName=aw;var TL=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=qo("SelectScrollButton",n),o=_.useRef(null),a=xg(n),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),In(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),y.jsx(Ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Pe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{l()})})}),IQ="SelectSeparator",xL=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y.jsx(Ze.div,{"aria-hidden":!0,...r,ref:e})});xL.displayName=IQ;var lw="SelectArrow",DQ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Cg(n),s=Go(lw,n),o=qo(lw,n);return s.open&&o.position==="popper"?y.jsx(tL,{...i,...r,ref:e}):null});DQ.displayName=lw;var kQ="SelectBubbleInput",CL=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),s=Et(r,i),o=EM(e);return _.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const f=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[o,e]),y.jsx(Ze.select,{...n,style:{...dk,...n.style},ref:s,defaultValue:e})});CL.displayName=kQ;function AL(t){return t===""||t===void 0}function RL(t){const e=Vr(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function IL(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=PQ(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function PQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NQ=nL,DL=iL,OQ=oL,MQ=aL,LQ=lL,kL=cL,VQ=hL,PL=gL,NL=yL,jQ=_L,FQ=EL,OL=bL,ML=SL,LL=xL;const UQ=NQ,BQ=OQ,VL=_.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(DL,{ref:r,className:Le("flex h-8 w-full items-center justify-between rounded-md border border-input bg-background px-2.5 py-1.5 text-xs ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,y.jsx(MQ,{asChild:!0,children:y.jsx(Mk,{className:"h-3.5 w-3.5 opacity-50"})})]}));VL.displayName=DL.displayName;const jL=_.forwardRef(({className:t,...e},n)=>y.jsx(OL,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(N4,{className:"h-3.5 w-3.5"})}));jL.displayName=OL.displayName;const FL=_.forwardRef(({className:t,...e},n)=>y.jsx(ML,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(Mk,{className:"h-3.5 w-3.5"})}));FL.displayName=ML.displayName;const UL=_.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>y.jsx(LQ,{children:y.jsxs(kL,{ref:i,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[y.jsx(jL,{}),y.jsx(VQ,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(FL,{})]})}));UL.displayName=kL.displayName;const zQ=_.forwardRef(({className:t,...e},n)=>y.jsx(PL,{ref:n,className:Le("py-1.5 pl-7 pr-2 text-xs font-semibold",t),...e}));zQ.displayName=PL.displayName;const BL=_.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(NL,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-7 pr-2 text-xs outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3 w-3 items-center justify-center",children:y.jsx(FQ,{children:y.jsx(Ok,{className:"h-3.5 w-3.5"})})}),y.jsx(jQ,{children:e})]}));BL.displayName=NL.displayName;const HQ=_.forwardRef(({className:t,...e},n)=>y.jsx(LL,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));HQ.displayName=LL.displayName;var[Ag,ane]=Oi("Tooltip",[Sg]),Rg=Sg(),zL="TooltipProvider",$Q=700,cw="tooltip.open",[WQ,aS]=Ag(zL),HL=t=>{const{__scopeTooltip:e,delayDuration:n=$Q,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),y.jsx(WQ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};HL.displayName=zL;var Ld="Tooltip",[GQ,Ig]=Ag(Ld),$L=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=aS(Ld,t.__scopeTooltip),c=Rg(e),[u,f]=_.useState(null),h=os(),p=_.useRef(0),w=o??l.disableHoverableContent,g=a??l.delayDuration,E=_.useRef(!1),[b,v]=So({prop:r,defaultProp:i??!1,onChange:S=>{S?(l.onOpen(),document.dispatchEvent(new CustomEvent(cw))):l.onClose(),s==null||s(S)},caller:Ld}),x=_.useMemo(()=>b?E.current?"delayed-open":"instant-open":"closed",[b]),A=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,E.current=!1,v(!0)},[v]),O=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),V=_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{E.current=!0,v(!0),p.current=0},g)},[g,v]);return _.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),y.jsx(XM,{...c,children:y.jsx(GQ,{scope:e,contentId:h,open:b,stateAttribute:x,trigger:u,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{l.isOpenDelayedRef.current?V():A()},[l.isOpenDelayedRef,V,A]),onTriggerLeave:_.useCallback(()=>{w?O():(window.clearTimeout(p.current),p.current=0)},[O,w]),onOpen:A,onClose:O,disableHoverableContent:w,children:n})})};$L.displayName=Ld;var uw="TooltipTrigger",WL=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ig(uw,n),s=aS(uw,n),o=Rg(n),a=_.useRef(null),l=Et(e,a,i.onTriggerChange),c=_.useRef(!1),u=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),y.jsx(JM,{asChild:!0,...o,children:y.jsx(Ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Pe(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Pe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Pe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Pe(t.onBlur,i.onClose),onClick:Pe(t.onClick,i.onClose)})})});WL.displayName=uw;var qQ="TooltipPortal",[lne,QQ]=Ag(qQ,{forceMount:void 0}),Rc="TooltipContent",GL=_.forwardRef((t,e)=>{const n=QQ(Rc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Ig(Rc,t.__scopeTooltip);return y.jsx(Uo,{present:r||o.open,children:o.disableHoverableContent?y.jsx(qL,{side:i,...s,ref:e}):y.jsx(KQ,{side:i,...s,ref:e})})}),KQ=_.forwardRef((t,e)=>{const n=Ig(Rc,t.__scopeTooltip),r=aS(Rc,t.__scopeTooltip),i=_.useRef(null),s=Et(e,i),[o,a]=_.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,h=_.useCallback(()=>{a(null),f(!1)},[f]),p=_.useCallback((w,g)=>{const E=w.currentTarget,b={x:w.clientX,y:w.clientY},v=eK(b,E.getBoundingClientRect()),x=tK(b,v),A=nK(g.getBoundingClientRect()),O=iK([...x,...A]);a(O),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(l&&u){const w=E=>p(E,u),g=E=>p(E,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",g)}}},[l,u,p,h]),_.useEffect(()=>{if(o){const w=g=>{const E=g.target,b={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(E))||(u==null?void 0:u.contains(E)),x=!rK(b,o);v?h():x&&(h(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,h]),y.jsx(qL,{...t,ref:s})}),[YQ,ZQ]=Ag(Ld,{isInside:!1}),XQ=ok("TooltipContent"),qL=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Ig(Rc,n),c=Rg(n),{onClose:u}=l;return _.useEffect(()=>(document.addEventListener(cw,u),()=>document.removeEventListener(cw,u)),[u]),_.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),y.jsx(Wd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:y.jsxs(eL,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(XQ,{children:r}),y.jsx(YQ,{scope:n,isInside:!0,children:y.jsx(d4,{id:l.contentId,role:"tooltip",children:i||r})})]})})});GL.displayName=Rc;var QL="TooltipArrow",JQ=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Rg(n);return ZQ(QL,n).isInside?null:y.jsx(tL,{...i,...r,ref:e})});JQ.displayName=QL;function eK(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tK(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nK(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function rK(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,f=l.x,h=l.y;u>r!=h>r&&n<(f-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function iK(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sK(e)}function sK(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oK=HL,aK=$L,lK=WL,KL=GL;const ah=oK,lh=aK,ch=lK,Nu=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(KL,{ref:r,sideOffset:e,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Nu.displayName=KL.displayName;var Dg,Oe,YL,ZL,Ic,pa,jA,XL,JL,lm={},eV=[],cK=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function eo(t,e){for(var n in e)t[n]=e[n];return t}function tV(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Dg.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Gh(t,o,r,i,null)}function Gh(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++YL};return i==null&&Oe.vnode!=null&&Oe.vnode(s),s}function Yn(){return{current:null}}function Dt(t){return t.children}function uK(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||cm(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||cm(t,s,e[s],n[s],r)}function FA(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||cK.test(e)?n:n+"px"}function cm(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||FA(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||FA(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?BA:UA,s):t.removeEventListener(e,s?BA:UA,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function UA(t){Ic=!0;try{return this.l[t.type+!1](Oe.event?Oe.event(t):t)}finally{Ic=!1}}function BA(t){Ic=!0;try{return this.l[t.type+!0](Oe.event?Oe.event(t):t)}finally{Ic=!1}}function br(t,e){this.props=t,this.context=e}function Vd(t,e){if(e==null)return t.__?Vd(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Vd(t):null}function nV(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return nV(t)}}function dK(t){Ic?setTimeout(t):XL(t)}function dw(t){(!t.__d&&(t.__d=!0)&&pa.push(t)&&!um.__r++||jA!==Oe.debounceRendering)&&((jA=Oe.debounceRendering)||dK)(um)}function um(){var t,e,n,r,i,s,o,a;for(pa.sort(function(l,c){return l.__v.__b-c.__v.__b});t=pa.shift();)t.__d&&(e=pa.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=eo({},s)).__v=s.__v+1,lS(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Vd(s),s.__h),aV(r,s),s.__e!=o&&nV(s)),pa.length>e&&pa.sort(function(l,c){return l.__v.__b-c.__v.__b}));um.__r=0}function rV(t,e,n,r,i,s,o,a,l,c){var u,f,h,p,w,g,E,b=r&&r.__k||eV,v=b.length;for(n.__k=[],u=0;u<e.length;u++)if((p=n.__k[u]=(p=e[u])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Gh(null,p,null,null,p):Array.isArray(p)?Gh(Dt,{children:p},null,null,null):p.__b>0?Gh(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(h=b[u])===null||h&&p.key==h.key&&p.type===h.type)b[u]=void 0;else for(f=0;f<v;f++){if((h=b[f])&&p.key==h.key&&p.type===h.type){b[f]=void 0;break}h=null}lS(t,p,h=h||lm,i,s,o,a,l,c),w=p.__e,(f=p.ref)&&h.ref!=f&&(E||(E=[]),h.ref&&E.push(h.ref,null,p),E.push(f,p.__c||w,p)),w!=null?(g==null&&(g=w),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=iV(p,l,t):l=sV(t,p,h,b,w,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Vd(h))}for(n.__e=g,u=v;u--;)b[u]!=null&&(typeof n.type=="function"&&b[u].__e!=null&&b[u].__e==n.__d&&(n.__d=oV(r).nextSibling),cV(b[u],b[u]));if(E)for(u=0;u<E.length;u++)lV(E[u],E[++u],E[++u])}function iV(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?iV(r,e,n):sV(n,r,r,i,r.__e,e));return e}function dm(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){dm(n,e)}):e.push(t)),e}function sV(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function oV(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=oV(n)))return r}return null}function lS(t,e,n,r,i,s,o,a,l){var c,u,f,h,p,w,g,E,b,v,x,A,O,V,S,C=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(c=Oe.__b)&&c(e);try{e:if(typeof C=="function"){if(E=e.props,b=(c=C.contextType)&&r[c.__c],v=c?b?b.props.value:c.__:r,n.__c?g=(u=e.__c=n.__c).__=u.__E:("prototype"in C&&C.prototype.render?e.__c=u=new C(E,v):(e.__c=u=new br(E,v),u.constructor=C,u.render=hK),b&&b.sub(u),u.props=E,u.state||(u.state={}),u.context=v,u.__n=r,f=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),C.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=eo({},u.__s)),eo(u.__s,C.getDerivedStateFromProps(E,u.__s))),h=u.props,p=u.state,u.__v=e,f)C.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(C.getDerivedStateFromProps==null&&E!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(E,v),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(E,u.__s,v)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=E,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(R){R&&(R.__=e)}),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(E,u.__s,v),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,p,w)})}if(u.context=v,u.props=E,u.__P=t,A=Oe.__r,O=0,"prototype"in C&&C.prototype.render){for(u.state=u.__s,u.__d=!1,A&&A(e),c=u.render(u.props,u.state,u.context),V=0;V<u._sb.length;V++)u.__h.push(u._sb[V]);u._sb=[]}else do u.__d=!1,A&&A(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++O<25);u.state=u.__s,u.getChildContext!=null&&(r=eo(eo({},r),u.getChildContext())),f||u.getSnapshotBeforeUpdate==null||(w=u.getSnapshotBeforeUpdate(h,p)),S=c!=null&&c.type===Dt&&c.key==null?c.props.children:c,rV(t,Array.isArray(S)?S:[S],e,n,r,i,s,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),g&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=fK(n.__e,e,n,r,i,s,o,l);(c=Oe.diffed)&&c(e)}catch(R){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),Oe.__e(R,e,n)}}function aV(t,e){Oe.__c&&Oe.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Oe.__e(r,n.__v)}})}function fK(t,e,n,r,i,s,o,a){var l,c,u,f=n.props,h=e.props,p=e.type,w=0;if(p==="svg"&&(i=!0),s!=null){for(;w<s.length;w++)if((l=s[w])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,s[w]=null;break}}if(t==null){if(p===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),s=null,a=!1}if(p===null)f===h||a&&t.data===h||(t.data=h);else{if(s=s&&Dg.call(t.childNodes),c=(f=n.props||lm).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(s!=null)for(f={},w=0;w<t.attributes.length;w++)f[t.attributes[w].name]=t.attributes[w].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(uK(t,h,f,i,a),u)e.__k=[];else if(w=e.props.children,rV(t,Array.isArray(w)?w:[w],e,n,r,i&&p!=="foreignObject",s,o,s?s[0]:n.__k&&Vd(n,0),a),s!=null)for(w=s.length;w--;)s[w]!=null&&tV(s[w]);a||("value"in h&&(w=h.value)!==void 0&&(w!==t.value||p==="progress"&&!w||p==="option"&&w!==f.value)&&cm(t,"value",w,f.value,!1),"checked"in h&&(w=h.checked)!==void 0&&w!==t.checked&&cm(t,"checked",w,f.checked,!1))}return t}function lV(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Oe.__e(r,n)}}function cV(t,e,n){var r,i;if(Oe.unmount&&Oe.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||lV(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Oe.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&cV(r[i],e,n||typeof t.type!="function");n||t.__e==null||tV(t.__e),t.__=t.__e=t.__d=void 0}function hK(t,e,n){return this.constructor(t,n)}function jd(t,e,n){var r,i,s;Oe.__&&Oe.__(t,e),i=(r=!1)?null:e.__k,s=[],lS(e,t=e.__k=L(Dt,null,[t]),i||lm,lm,e.ownerSVGElement!==void 0,i?null:e.firstChild?Dg.call(e.childNodes):null,s,i?i.__e:e.firstChild,r),aV(s,t)}function pK(t,e){var n={__c:e="__cC"+JL++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,dw(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Dg=eV.slice,Oe={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},YL=0,ZL=function(t){return t!=null&&t.constructor===void 0},Ic=!1,br.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=eo({},this.state),typeof t=="function"&&(t=t(eo({},n),this.props)),t&&eo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),dw(this))},br.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),dw(this))},br.prototype.render=Dt,pa=[],XL=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,um.__r=0,JL=0;var pi,qv,zA,uV=[],Qv=[],HA=Oe.__b,$A=Oe.__r,WA=Oe.diffed,GA=Oe.__c,qA=Oe.unmount;function mK(){for(var t;t=uV.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(qh),t.__H.__h.forEach(fw),t.__H.__h=[]}catch(e){t.__H.__h=[],Oe.__e(e,t.__v)}}Oe.__b=function(t){pi=null,HA&&HA(t)},Oe.__r=function(t){$A&&$A(t);var e=(pi=t.__c).__H;e&&(qv===pi?(e.__h=[],pi.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Qv,n.__N=n.i=void 0})):(e.__h.forEach(qh),e.__h.forEach(fw),e.__h=[])),qv=pi},Oe.diffed=function(t){WA&&WA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(uV.push(e)!==1&&zA===Oe.requestAnimationFrame||((zA=Oe.requestAnimationFrame)||gK)(mK)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Qv&&(n.__=n.__V),n.i=void 0,n.__V=Qv})),qv=pi=null},Oe.__c=function(t,e){e.some(function(n){try{n.__h.forEach(qh),n.__h=n.__h.filter(function(r){return!r.__||fw(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Oe.__e(r,n.__v)}}),GA&&GA(t,e)},Oe.unmount=function(t){qA&&qA(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{qh(r)}catch(i){e=i}}),n.__H=void 0,e&&Oe.__e(e,n.__v))};var QA=typeof requestAnimationFrame=="function";function gK(t){var e,n=function(){clearTimeout(r),QA&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);QA&&(e=requestAnimationFrame(n))}function qh(t){var e=pi,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),pi=e}function fw(t){var e=pi;t.__c=t.__(),pi=e}function vK(t,e){for(var n in e)t[n]=e[n];return t}function KA(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function YA(t){this.props=t}(YA.prototype=new br).isPureReactComponent=!0,YA.prototype.shouldComponentUpdate=function(t,e){return KA(this.props,t)||KA(this.state,e)};var ZA=Oe.__b;Oe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ZA&&ZA(t)};var yK=Oe.__e;Oe.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}yK(t,e,n,r)};var XA=Oe.unmount;function dV(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=vK({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return dV(r,e,n)})),t}function fV(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return fV(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Kv(){this.__u=0,this.t=null,this.__b=null}function hV(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function uh(){this.u=null,this.o=null}Oe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),XA&&XA(t)},(Kv.prototype=new br).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=hV(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=fV(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Kv.prototype.componentWillUnmount=function(){this.t=[]},Kv.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=dV(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&L(Dt,null,t.fallback);return i&&(i.__h=null),[L(Dt,null,e.__a?null:t.children),i]};var JA=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function _K(t){return this.getChildContext=function(){return t.context},t.children}function wK(t){var e=this,n=t.i;e.componentWillUnmount=function(){jd(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),jd(L(_K,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function EK(t,e){var n=L(wK,{__v:t,i:e});return n.containerInfo=e,n}(uh.prototype=new br).__a=function(t){var e=this,n=hV(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),JA(e,t,r)):i()};n?n(s):s()}},uh.prototype.render=function(t){this.u=null,this.o=new Map;var e=dm(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},uh.prototype.componentDidUpdate=uh.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){JA(t,n,e)})};var bK=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,SK=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,TK=typeof document<"u",xK=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};br.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(br.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var eR=Oe.event;function CK(){}function AK(){return this.cancelBubble}function RK(){return this.defaultPrevented}Oe.event=function(t){return eR&&(t=eR(t)),t.persist=CK,t.isPropagationStopped=AK,t.isDefaultPrevented=RK,t.nativeEvent=t};var tR={configurable:!0,get:function(){return this.class}},nR=Oe.vnode;Oe.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];TK&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!xK(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&SK.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=dm(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=dm(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(tR.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",tR))}t.$$typeof=bK,nR&&nR(t)};var rR=Oe.__r;Oe.__r=function(t){rR&&rR(t),t.__c};const pV=[],hw=new Map;function cS(t){pV.push(t),hw.forEach(e=>{gV(e,t)})}function IK(t){t.isConnected&&t.getRootNode&&mV(t.getRootNode())}function mV(t){let e=hw.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=kK();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}hw.set(t,e),DK(e)}}function DK(t){for(const e of pV)gV(t,e)}function gV(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let Yv;function kK(){return Yv===void 0&&(Yv=PK()),Yv}function PK(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&mV(document);var NK=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';cS(NK);class uS{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function dS(t){t.parentNode&&t.parentNode.removeChild(t)}function Un(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(OK(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function OK(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function MK(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const LK=/(top|left|right|bottom|width|height)$/i;function Xu(t,e){for(let n in e)vV(t,n,e[n])}function vV(t,e,n){n==null?t.style[e]="":typeof n=="number"&&LK.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function yV(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let iR=0;function kg(){return iR+=1,"fc-dom-"+iR}function Pg(t){t.preventDefault()}function VK(t,e){return n=>{let r=Un(n.target,t);r&&e.call(r,n,r)}}function _V(t,e,n,r){let i=VK(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function jK(t,e,n,r){let i;return _V(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const sR=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function FK(t,e){let n=r=>{e(r),sR.forEach(i=>{t.removeEventListener(i,n)})};sR.forEach(r=>{t.addEventListener(r,n)})}function wV(t){return Object.assign({onClick:t},EV(t))}function EV(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let oR=0;function ol(){return oR+=1,String(oR)}function fS(){document.body.classList.add("fc-not-allowed")}function hS(){document.body.classList.remove("fc-not-allowed")}function UK(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Pg)}function BK(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Pg)}function zK(t){t.addEventListener("contextmenu",Pg)}function HK(t){t.removeEventListener("contextmenu",Pg)}function $K(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function WK(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=GK(t,e,n[r]),i)return i;return 0}function GK(t,e,n){return n.func?n.func(t,e):qK(t[n.field],e[n.field])*(n.order||1)}function qK(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function rc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ju(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function QK(t,e){return t-e}function Qh(t){return t%1===0}function KK(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const aR=["years","months","days","milliseconds"],YK=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function dt(t,e){return typeof t=="string"?ZK(t):typeof t=="object"&&t?lR(t):typeof t=="number"?lR({[e||"milliseconds"]:t}):null}function ZK(t){let e=YK.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function lR(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function XK(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function pw(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function JK(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function eY(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function tY(t){return ic(t)/365}function nY(t){return ic(t)/30}function ic(t){return Zr(t)/864e5}function Zr(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function pS(t,e){let n=null;for(let r=0;r<aR.length;r+=1){let i=aR[r];if(e[i]){let s=t[i]/e[i];if(!Qh(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function mw(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Mo(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const rY=["sun","mon","tue","wed","thu","fri","sat"];function cR(t,e){let n=to(t);return n[2]+=e*7,sr(n)}function En(t,e){let n=to(t);return n[2]+=e,sr(n)}function Lo(t,e){let n=to(t);return n[6]+=e,sr(n)}function iY(t,e){return al(t,e)/7}function al(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function sY(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function oY(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function aY(t,e){return(e.valueOf()-t.valueOf())/1e3}function lY(t,e){let n=kt(t),r=kt(e);return{years:0,months:0,days:Math.round(al(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function cY(t,e){let n=fm(t,e);return n!==null&&n%7===0?n/7:null}function fm(t,e){return no(t)===no(e)?Math.round(al(t,e)):null}function kt(t){return sr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function uY(t){return sr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function dY(t){return sr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function fY(t){return sr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function hY(t,e,n){let r=t.getUTCFullYear(),i=Zv(t,r,e,n);if(i<1)return Zv(t,r-1,e,n);let s=Zv(t,r+1,e,n);return s>=1?Math.min(i,s):i}function Zv(t,e,n,r){let i=sr([e,0,1+pY(e,n,r)]),s=kt(t),o=Math.round(al(i,s));return Math.floor(o/7)+1}function pY(t,e,n){let r=7+e-n;return-((7+sr([t,0,r]).getUTCDay()-e)%7)+r-1}function uR(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function dR(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function to(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function sr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function bV(t){return!isNaN(t.valueOf())}function no(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function SV(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",gS(e,!0)))),r}function mS(t){return t.toISOString().replace(/T.*$/,"")}function mY(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function gY(t){return rc(t.getUTCHours(),2)+":"+rc(t.getUTCMinutes(),2)+":"+rc(t.getUTCSeconds(),2)}function gS(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+rc(i,2)}:${rc(s,2)}`:`GMT${n}${i}${s?`:${rc(s,2)}`:""}`}function Me(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!Mo(r,s)){let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function Kh(t,e,n){let r,i;return s=>(r?ii(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const Xv={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},hm={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},dh=/\s*([ap])\.?m\.?/i,vY=/,/g,yY=/\s+/g,_Y=/\u200e/g,wY=/UTC|GMT/;class EY{constructor(e){let n={},r={},i=9;for(let s in e)s in Xv?(r[s]=e[s],Xv[s]<9&&(i=Math.min(Xv[s],i))):(n[s]=e[s],s in hm&&(i=Math.min(hm[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=Me(fR)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=AY(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let f=RY(s,l),h=fR(f,o,r),p=h(e),w=h(n),g=IY(c,p,u,w),E=o.separator||i||r.defaultSeparator||"";return g?g.before+p+E+w+g.after:c+E+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function fR(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>gS(i.timeZoneOffset):r===0&&e.week?i=>CY(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):bY(t,e,n)}function bY(t,e,n){t=Object.assign({},t),e=Object.assign({},e),SY(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let l=a.format(o);return TY(l,s,t,e,n)}}function SY(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function TY(t,e,n,r,i){return t=t.replace(_Y,""),n.timeZoneName==="short"&&(t=xY(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":gS(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(vY,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(dh,"").trim():r.meridiem==="narrow"?t=t.replace(dh,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(dh,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(dh,s=>s.toLocaleLowerCase())),t=t.replace(yY," "),t=t.trim(),t}function xY(t,e){let n=!1;return t=t.replace(wY,()=>(n=!0,e)),n||(t+=` ${e}`),t}function CY(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function AY(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:no(t)!==no(e)?1:0}function RY(t,e){let n={};for(let r in t)(!(r in hm)||hm[r]<=e)&&(n[r]=t[r]);return n}function IY(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let f=n.substr(l);if(o===u&&a===f)return{before:o,after:a}}}return null}function hR(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function pm(t,e,n,r){let i=hR(t,n.calendarSystem),s=e?hR(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class DY{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,pm(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,pm(e,n,r,i))}}class kY{constructor(e){this.func=e}format(e,n,r){return this.func(pm(e,null,n,r))}formatRange(e,n,r,i){return this.func(pm(e,n,r,i))}}function Wt(t){return typeof t=="object"&&t?new EY(t):typeof t=="string"?new DY(t):typeof t=="function"?new kY(t):null}const pR={navLinkDayClick:q,navLinkWeekClick:q,duration:dt,bootstrapFontAwesome:q,buttonIcons:q,customButtons:q,defaultAllDayEventDuration:dt,defaultTimedEventDuration:dt,nextDayThreshold:dt,scrollTime:dt,scrollTimeReset:Boolean,slotMinTime:dt,slotMaxTime:dt,dayPopoverFormat:Wt,slotDuration:dt,snapDuration:dt,headerToolbar:q,footerToolbar:q,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Wt,dayHeaderClassNames:q,dayHeaderContent:q,dayHeaderDidMount:q,dayHeaderWillUnmount:q,dayCellClassNames:q,dayCellContent:q,dayCellDidMount:q,dayCellWillUnmount:q,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:q,weekNumbers:Boolean,weekNumberClassNames:q,weekNumberContent:q,weekNumberDidMount:q,weekNumberWillUnmount:q,editable:Boolean,viewClassNames:q,viewDidMount:q,viewWillUnmount:q,nowIndicator:Boolean,nowIndicatorSnap:q,nowIndicatorClassNames:q,nowIndicatorContent:q,nowIndicatorDidMount:q,nowIndicatorWillUnmount:q,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:q,locale:q,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:q,eventOrder:$K,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:q,contentHeight:q,direction:String,weekNumberFormat:Wt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:q,initialDate:q,now:q,eventDataTransform:q,stickyHeaderDates:q,stickyFooterScrollbar:q,viewHeight:q,defaultAllDay:Boolean,eventSourceFailure:q,eventSourceSuccess:q,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:q,eventConstraint:q,eventAllow:q,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:q,eventContent:q,eventDidMount:q,eventWillUnmount:q,selectConstraint:q,selectOverlap:q,selectAllow:q,droppable:Boolean,unselectCancel:String,slotLabelFormat:q,slotLaneClassNames:q,slotLaneContent:q,slotLaneDidMount:q,slotLaneWillUnmount:q,slotLabelClassNames:q,slotLabelContent:q,slotLabelDidMount:q,slotLabelWillUnmount:q,dayMaxEvents:q,dayMaxEventRows:q,dayMinWidth:Number,slotLabelInterval:dt,allDayText:String,allDayClassNames:q,allDayContent:q,allDayDidMount:q,allDayWillUnmount:q,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Wt,rerenderDelay:Number,moreLinkText:q,moreLinkHint:q,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:q,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:dt,hiddenDays:q,fixedWeekCount:Boolean,validRange:q,visibleRange:q,titleFormat:q,eventInteractive:Boolean,noEventsText:String,viewHint:q,navLinkHint:q,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:q,moreLinkClassNames:q,moreLinkContent:q,moreLinkDidMount:q,moreLinkWillUnmount:q,monthStartFormat:Wt,handleCustomRendering:q,customRenderingMetaMap:q,customRenderingReplaces:Boolean},ed={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},mR={datesSet:q,eventsSet:q,eventAdd:q,eventChange:q,eventRemove:q,windowResize:q,eventClick:q,eventMouseEnter:q,eventMouseLeave:q,select:q,unselect:q,loading:q,_unmount:q,_beforeprint:q,_afterprint:q,_noEventDrop:q,_noEventResize:q,_resize:q,_scrollRequest:q},gR={buttonText:q,buttonHints:q,views:q,plugins:q,initialEvents:q,events:q,eventSources:q},ca={headerToolbar:ua,footerToolbar:ua,buttonText:ua,buttonHints:ua,buttonIcons:ua,dateIncrement:ua,plugins:fh,events:fh,eventSources:fh,resources:fh};function ua(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?ii(t,e):t===e}function fh(t,e){return Array.isArray(t)&&Array.isArray(e)?Mo(t,e):t===e}const PY={type:String,component:q,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:q,usesMinMaxTime:Boolean,classNames:q,content:q,didMount:q,willUnmount:q};function Jv(t){return yS(t,ca)}function vS(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function q(t){return t}const{hasOwnProperty:mm}=Object.prototype;function yS(t,e){let n={};if(e){for(let r in e)if(e[r]===ua){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=yS(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function Xa(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function bs(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function TV(t){let e={};for(let n of t)e[n]=!0;return e}function _S(t){let e=[];for(let n in t)e.push(t[n]);return e}function ii(t,e){if(t===e)return!0;for(let n in t)if(mm.call(t,n)&&!(n in e))return!1;for(let n in e)if(mm.call(e,n)&&t[n]!==e[n])return!1;return!0}const NY=/^on[A-Z]/;function OY(t,e){const n=MY(t,e);for(let r of n)if(!NY.test(r))return!1;return!0}function MY(t,e){let n=[];for(let r in t)mm.call(t,r)&&(r in e||n.push(r));for(let r in e)mm.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function ey(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&LY(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function LY(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function VY(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let xV={};function jY(t,e){xV[t]=e}function FY(t){return new xV[t]}class UY{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return sr(e)}markerToArray(e){return to(e)}}jY("gregory",UY);const BY=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function zY(t){let e=BY.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(bV(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class HY{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=FY(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):sr(uR(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=sr(e)),n===null||!bV(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=zY(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return no(e)===no(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return no(e)===no(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=cY(e,n),r!==null?{unit:"week",value:r}:(r=fm(e,n),r!==null?{unit:"day",value:r}:(r=sY(e,n),Qh(r)?{unit:"hour",value:r}:(r=oY(e,n),Qh(r)?{unit:"minute",value:r}:(r=aY(e,n),Qh(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/tY(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/nY(r):r.days&&(i=fm(e,n),i!==null)?i/ic(r):(n.valueOf()-e.valueOf())/Zr(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?kt(e):n==="hour"?uY(e):n==="minute"?dY(e):n==="second"?fY(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):hY(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Lo(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),SV(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?sr(uR(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):sr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-dR(to(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(to(e)):null}toDate(e,n){return this.timeZone==="local"?dR(to(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(to(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class hf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}hf.prototype.classes={};hf.prototype.iconClasses={};hf.prototype.baseIconClass="";hf.prototype.iconOverridePrefix="";function gm(t){t();let e=Oe.debounceRendering,n=[];function r(i){n.push(i)}for(Oe.debounceRendering=r,jd(L($Y,{}),document.createElement("div"));n.length;)n.shift()();Oe.debounceRendering=e}class $Y extends br{render(){return L("div",{})}componentDidMount(){this.setState({})}}function CV(t){let e=pK(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}class WY{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Cs=CV({});function GY(t,e,n,r,i,s,o,a,l,c,u,f,h,p){return{dateEnv:i,nowManager:s,options:n,pluginHooks:a,emitter:u,dispatch:l,getCurrentData:c,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(w){u.on("_resize",w)},removeResizeHandler(w){u.off("_resize",w)},createScrollResponder(w){return new WY(w,u,dt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class ll extends br{shouldComponentUpdate(e,n){return!ey(this.props,e,this.propEquality)||!ey(this.state,n,this.stateEquality)}safeSetState(e){ey(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}ll.addPropsEquality=qY;ll.addStateEquality=QY;ll.contextType=Cs;ll.prototype.propEquality={};ll.prototype.stateEquality={};class bt extends ll{}bt.contextType=Cs;function qY(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function QY(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Ni(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class wS extends bt{constructor(){super(...arguments),this.id=ol(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!gw(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Ni(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=AV(e,[],this.handleEl);let l=!1,c,u=[],f;if(i!=null){const h=typeof i=="function"?i(o,L):i;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(p?ZL(h):typeof h!="function")?c=h:f=h}}else l=!gw(e.generatorName,r);return l&&s&&(c=s(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=f,L(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(KY)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Mo(e,n)){n.forEach(dS);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}wS.addPropsEquality({elClasses:Mo,elStyle:ii,elAttrs:OY,renderProps:ii});function gw(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function AV(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function KY(t){return!!t}const RV=CV(0);class Rr extends br{constructor(){super(...arguments),this.InnerContent=YY.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Ni(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=ZY(e.classNameGenerator,e.renderProps);if(e.children){const r=AV(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?L(e.elTag,r,i):i}else return L(wS,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Rr.contextType=RV;function YY(t,e){const n=t.props;return L(wS,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function ZY(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class vm extends bt{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return L(Rr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...IV(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function IV(t){return[`fc-${t.type}-view`,"fc-view"]}function XY(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function vR(t,e){let n=[],{start:r}=e,i,s;for(t.sort(JY),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function JY(t,e){return t.start.valueOf()-e.start.valueOf()}function Ja(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function eZ(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function ES(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Ng(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function as(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function tZ(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function DV(t){let e=Math.floor(al(t.start,t.end))||1,n=kt(t.start),r=En(n,e);return{start:n,end:r}}function kV(t,e=dt(0)){let n=null,r=null;if(t.end){r=kt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Zr(e)&&(r=En(r,1))}return t.start&&(n=kt(t.start),r&&r<=n&&(r=En(n,1))),{start:n,end:r}}function zl(t,e,n,r){return r==="year"?dt(n.diffWholeYears(t,e),"year"):r==="month"?dt(n.diffWholeMonths(t,e),"month"):lY(t,e)}class PV{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,l,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=tZ(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=Ja(c,o.range)),c=this.adjustActiveRange(c),c=Ja(c,s),u=ES(o.range,s),as(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=mw(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return dt({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(ic(i)<0&&(o=kt(o),o=n.add(o,i)),ic(s)>1&&(a=kt(a),a=En(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:f}=this.props;f&&Zr(f)<Zr(r)?o=mw(f).unit:o=i}ic(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=kt(a));function u(){a=s.startOf(e,o),l=s.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=i.startOf(a,s)),a=kt(a),a=this.skipHiddenDays(a,n),l=a;do l=En(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?dt(1,r):e||dt({days:1}))}refineRange(e){if(e){let n=XY(e,this.props.dateEnv);return n&&(n=kV(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=En(e,n);return e}}function bS(t,e,n,r){return{instanceId:ol(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function nZ(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function el(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=Xa(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let f=rZ(c,u,e,r,i.recurringTypes);for(let h of f){let p=bS(l,{start:h,end:r.add(h,u)});a[p.instanceId]=p}}}return{defs:o,instances:a}}function rZ(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(kt)),o}const Yh={id:String,groupId:String,title:String,url:String,interactive:Boolean},NV={start:q,end:q,date:q,allDay:Boolean},iZ=Object.assign(Object.assign(Object.assign({},Yh),NV),{extendedProps:q});function OV(t,e,n,r,i=SS(n),s,o){let{refined:a,extra:l}=MV(t,n,i),c=oZ(e,n),u=nZ(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=vw(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,s);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let f=sZ(a,c,n,r);if(f){let h=vw(a,l,e?e.sourceId:"",f.allDay,f.hasEnd,n,s),p=bS(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(p.instanceId=o[h.publicId]),{def:h,instance:p}}return null}function MV(t,e,n=SS(e)){return vS(t,n)}function SS(t){return Object.assign(Object.assign(Object.assign({},ym),iZ),t.pluginHooks.eventRefiners)}function vw(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||ol(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:_m(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function sZ(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(u),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=kt(o)),l&&(c=l.marker,i&&(c=kt(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function oZ(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Fd(t,e,n,r,i,s){let o=Sr(),a=SS(n);for(let l of t){let c=OV(l,e,n,r,a,i,s);c&&yw(c,o)}return o}function yw(t,e=Sr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function TS(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=Og(t,s=>aZ(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return Sr()}function aZ(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Sr(){return{defs:{},instances:{}}}function xS(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Og(t,e){let n=Xa(t.defs,e),r=Xa(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function lZ(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function cZ(t,e){return Array.isArray(t)?Fd(t,null,e,!0):typeof t=="object"&&t?Fd([t],null,e,!0):t!=null?String(t):null}function yR(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const ym={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:q,overlap:q,allow:q,className:yR,classNames:yR,color:String,backgroundColor:String,borderColor:String,textColor:String},uZ={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function _m(t,e){let n=cZ(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function LV(t){return t.reduce(dZ,uZ)}function dZ(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const fZ={id:String,defaultAllDay:Boolean,url:String,format:String,events:q,eventDataTransform:q,success:q,failure:q};function VV(t,e,n=jV(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=vS(r,n),o=hZ(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ol(),sourceDefId:o.sourceDefId,meta:o.meta,ui:_m(i,e),extendedProps:s}}return null}function jV(t){return Object.assign(Object.assign(Object.assign({},ym),fZ),t.pluginHooks.eventSourceRefiners)}function hZ(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function pZ(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return mZ(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return gZ(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return vZ(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return xS(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?el(t,r.activeRange,i):t;case"REMOVE_EVENTS":return lZ(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return UV(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Og(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Sr();default:return t}}function mZ(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Fd(FV(i,e,s),e,s);return r&&(o=el(o,r,s)),xS(UV(t,e.sourceId),o)}return t}function gZ(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=_Z(t);let a=Fd(FV(n,e,i),e,i,!1,s,o);return el(a,r,i)}function FV(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=_R(t,i)),r&&(t=_R(t,r)),t}function _R(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function vZ(t,e,n,r){return n&&(e=el(e,n,r)),xS(t,e)}function wR(t,e,n){let{defs:r}=t,i=bs(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function UV(t,e){return Og(t,n=>n.sourceId!==e)}function yZ(t,e){return{defs:t.defs,instances:Xa(t.instances,n=>!e[n.instanceId])}}function _Z(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){const o=n[s],a=e[o.defId],{publicId:l}=a;l&&(i[l]=s)}return{defIdMap:r,instanceIdMap:i}}class Mg{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){wZ(this.handlers,e,n)}off(e,n){EZ(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function wZ(t,e,n){(t[e]||(t[e]=[])).push(n)}function EZ(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const bZ={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function SZ(t,e){return Fd(TZ(t),null,e)}function TZ(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},bZ),n)),e}function BV(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},CS(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function xZ(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function CS(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,FZ(t,e.dateEnv)),n}function ER(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=kt(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function AS(t,e,n,r){let i=wm(t.defs,e),s=Sr();for(let o in t.defs){let a=t.defs[o];s.defs[o]=CZ(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=s.defs[a.defId];s.instances[o]=AZ(a,l,i[a.defId],n,r)}return s}function CZ(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function AZ(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=DV(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:ER(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:kt(l.range.start),end:kt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=ER(e.allDay,l.range.start,i)),l}class Rl{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ht{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in NV)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Yh[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Yh)n=Yh[e](n),this.mutate({standardProps:{[e]:n}});else if(e in ym){let r=ym[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=zl(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=zl(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=DV(l));let c=zl(l.start,o,i,r.granularity);if(a){let u=zl(l.end,a,i,r.granularity);XK(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let n=dt(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=dt(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=dt(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Wt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=TS(s,n.instanceId);o=AS(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new Ht(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Pa(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=zV(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Rl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function zV(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Pa(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==o&&s.push(new Ht(e,c,l))}return s}function bR(t,e,n,r){let i={},s={},o={},a=[],l=[],c=wm(t.defs,e);for(let u in t.defs){let f=t.defs[u];c[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):s[u]=[])}for(let u in t.instances){let f=t.instances[u],h=t.defs[f.defId],p=c[h.defId],w=f.range,g=!h.allDay&&r?kV(w,r):w,E=Ja(g,n);E&&(p.display==="inverse-background"?h.groupId?i[h.groupId].push(E):s[f.defId].push(E):p.display!=="none"&&(p.display==="background"?a:l).push({def:h,ui:p,instance:f,range:E,isStart:g.start&&g.start.valueOf()===E.start.valueOf(),isEnd:g.end&&g.end.valueOf()===E.end.valueOf()}))}for(let u in i){let f=i[u],h=vR(f,n);for(let p of h){let w=o[u],g=c[w.defId];a.push({def:w,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let u in s){let f=s[u],h=vR(f,n);for(let p of h)a.push({def:t.defs[u],ui:c[u],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function RZ(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function SR(t,e){t.fcSeg=e}function Dc(t){return t.fcSeg||t.parentNode.fcSeg||null}function wm(t,e){return bs(t,n=>HV(n,e))}function HV(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),LV(n)}function $V(t,e){let n=t.map(IZ);return n.sort((r,i)=>WK(r,i,e)),n.map(r=>r._seg)}function IZ(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function DZ(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function kZ(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function PZ(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function WV(t,e,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,f=t.eventRange.def,h=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=i!==!1);let p=h.range.start,w=h.range.end,g=t.start||t.eventRange.range.start,E=t.end||t.eventRange.range.end,b=kt(p).valueOf()===kt(g).valueOf(),v=kt(Lo(w,-1)).valueOf()===kt(Lo(E,-1)).valueOf();return c&&!f.allDay&&(b||v)?(g=b?p:g,E=v?w:E,u&&f.hasEnd?a.formatRange(g,E,e,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):a.format(g,e,{forcedTzo:h.forcedStartTzo})):""}function wo(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&as(e,r.start)}}function NZ(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function GV(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function qV(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?EV(l=>{s.trigger("eventClick",{el:l.target,event:new Ht(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const OZ={start:q,end:q,allDay:Boolean};function MZ(t,e,n){let r=LZ(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function LZ(t,e){let{refined:n,extra:r}=vS(t,OZ),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function VZ(t,e){return eZ(t.range,e.range)&&t.allDay===e.allDay&&jZ(t,e)}function jZ(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function FZ(t,e){return Object.assign(Object.assign({},KV(t.range,e,t.allDay)),{allDay:t.allDay})}function QV(t,e,n){return Object.assign(Object.assign({},KV(t,e,n)),{timeZone:e.timeZone})}function KV(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function UZ(t,e,n){let r=MV({editable:!1},n),i=vw(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:HV(i,e),instance:bS(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function BZ(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class TR extends Error{constructor(e,n){super(e),this.response=n}}function zZ(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new TR("Failure parsing JSON",i)});throw new TR("Request failed",i)})}let ty;function YV(){return ty==null&&(ty=HZ()),ty}function HZ(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class $Z extends bt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{gm(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{gm(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return YV()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class qc{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function WZ(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function RS(t){return{[t.component.uid]:t}}const _w={};class Qc extends br{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,o;return i?(s=n.dateEnv.startOf(r,e.unit),o=n.dateEnv.add(s,dt(1,e.unit)).valueOf()-r.valueOf()):(s=r,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:s,todayRange:GZ(s)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Qc.contextType=Cs;function GZ(t){let e=kt(t),n=En(e,1);return{start:e,end:n}}class qZ{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=dt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Wt(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Wt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=MZ(r,i.dateEnv,dt({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),BV(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),xZ(e,n))}addEvent(e,n){if(e instanceof Ht){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:yw({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Rl)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=_S(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=OV(e,i,r,!1);if(s){let o=new Ht(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:yw(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:zV(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new Ht(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new Ht(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Pa(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Rl(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Rl(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Rl)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=VV(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Rl(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=dt(e);n&&this.trigger("_scrollRequest",{time:n})}}function QZ(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function ZV(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function KZ(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function YZ(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function ZZ(t,e){return{left:t.left-e.left,top:t.top-e.top}}const ny=Sr();class XZ{constructor(){this.getKeysForEventDefs=Me(this._getKeysForEventDefs),this.splitDateSelection=Me(this._splitDateSpan),this.splitEventStore=Me(this._splitEventStore),this.splitIndividualUi=Me(this._splitIndividualUi),this.splitEventDrag=Me(this._splitInteraction),this.splitEventResize=Me(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=bs(n,(u,f)=>this.eventUiBuilders[f]||Me(JZ));for(let u in n){let f=n[u],h=o[u]||ny,p=this.eventUiBuilders[u];c[u]={businessHours:f.businessHours||e.businessHours,dateSelection:i[u]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],f.ui,s[u]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return bs(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let o in r)for(let a of n[o])s[a]||(s[a]=Sr()),s[a].defs[o]=r[o];for(let o in i){let a=i[o];for(let l of n[a.defId])s[l]&&(s[l].instances[o]=a)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=a=>{n[a]||(n[a]={affectedEvents:r[a]||ny,mutatedEvents:s[a]||ny,isEvent:e.isEvent})};for(let a in r)o(a);for(let a in s)o(a)}return n}}function JZ(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":LV(r)};return n&&Object.assign(i,n),i}function XV(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!as(r.activeRange,t))),isOther:!!(r&&!as(r.currentRange,t)),isToday:!!(e&&as(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function IS(t,e){let n=["fc-day",`fc-day-${rY[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const eX=Wt({year:"numeric",month:"long",day:"numeric"}),tX=Wt({week:"long"});function Em(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let a=i.format(e,n==="week"?tX:eX);if(s.navLinks){let l=i.toDate(e);const c=u=>{let f=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof f=="function"?f.call(o,i.toDate(e),u):(typeof f=="string"&&(n=f),o.zoomTo(e,n))};return Object.assign({title:Ju(s.navLinkHint,[a,l],a),"data-navlink":""},r?wV(c):{onClick:c})}return{"aria-label":a}}let ry=null;function nX(){return ry===null&&(ry=rX()),ry}function rX(){let t=document.createElement("div");Xu(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return dS(t),n}let iy;function iX(){return iy||(iy=sX()),iy}function sX(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=JV(t);return document.body.removeChild(t),e}function JV(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function oX(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=JV(t),l=a.y-r-i,c=a.x-s-o,u={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return nX()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function aX(t,e=!1,n){let r=DS(t),i=oX(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function DS(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function lX(t){let e=e2(t),n=t.getBoundingClientRect();for(let r of e){let i=ZV(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function e2(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class kc{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return hh(this.tops||[],e.tops||[])&&hh(this.bottoms||[],e.bottoms||[])&&hh(this.lefts||[],e.lefts||[])&&hh(this.rights||[],e.rights||[])}}function hh(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class kS{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class cX extends kS{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class uX extends kS{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Li extends bt{constructor(){super(...arguments),this.uid=ol()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Un(e,".fc-event-mirror")}isValidDateDownEl(e){return!Un(e,".fc-event:not(.fc-bg-event)")&&!Un(e,".fc-more-link")&&!Un(e,"a[data-navlink]")&&!Un(e,".fc-popover")}}class t2{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:PS(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(sy(i,n.level,n.levelCoord),sy(r,n.level,[e])):sy(r[n.level],n.lateral,e),this.stackCnts[Na(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,l=-1,c=-1,u=null,f=0;for(let w=0;w<o;w+=1){const g=n[w];if(!i&&g>=a+this.getEntryThickness(e))break;let E=r[w],b,v=Ew(E,e.span.start,ww),x=v[0]+v[1];for(;(b=E[x])&&b.span.start<e.span.end;){let A=g+this.getEntryThickness(b);A>a&&(a=A,u=b,l=w,c=x),A===a&&(f=Math.max(f,s[Na(b)]+1)),x+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<a;)h+=1;let p=-1;return h<o&&n[h]===a&&(p=Ew(r[h],e.span.end,ww)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:f,levelCoord:a,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}}function ww(t){return t.span.end}function Na(t){return t.index+":"+t.span.start}function dX(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)PS(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:fX(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function fX(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function PS(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function sy(t,e,n){t.splice(e,0,n)}function Ew(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class hX{constructor(e,n){this.emitter=new Mg}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const NS={};function pX(t,e){return!t||e>10?Wt({weekday:"short"}):e>1?Wt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Wt({weekday:"long"})}const n2="fc-col-header-cell";function r2(t){return t.text}class mX extends bt{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=XV(o,s.todayRange,null,a),c=[n2].concat(IS(l,r)),u=e.format(o,s.dayHeaderFormat),f=!l.isDisabled&&s.colCnt>1?Em(this.context,o):{},h=e.toDate(o);e.namedTimeZoneImpl&&(h=Lo(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:i},s.extraRenderProps),{text:u}),l);return L(Rr,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:mS(o)},s.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:r2,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},w=>L("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&L(w,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const gX=Wt({weekday:"long"});class vX extends bt{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=En(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return L(Rr,{elTag:"th",elClasses:[n2,...IS(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:r2,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>L("div",{className:"fc-scrollgrid-sync-inner"},L(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,gX)}})))}}class i2 extends bt{constructor(){super(...arguments),this.createDayHeaderFormatter=Me(yX)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return L(Qc,{unit:"day"},(a,l)=>L("tr",{role:"row"},s&&s("day"),n.map(c=>i?L(mX,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):L(vX,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function yX(t,e,n){return t||pX(e,n)}class s2{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=En(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(En(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(al(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class o2{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&c-1===o}),a=c}}return i}}class a2{constructor(){this.sliceBusinessHours=Me(this._sliceBusinessHours),this.sliceDateSelection=Me(this._sliceDateSpan),this.sliceEventStore=Me(this._sliceEventStore),this.sliceEventDrag=Me(this._sliceInteraction),this.sliceEventResize=Me(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Lo(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(el(e,ph(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=bR(e,n,ph(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=bR(e.mutatedEvents,n,ph(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=ph(n,!!r),l=Ja(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=UZ(e,i,s),u=this.sliceRange(e.range,...o);for(let f of u)f.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:En(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function ph(t,e){let n=t.activeRange;return e?n:{start:Lo(n.start,t.slotMinTime.milliseconds),end:Lo(n.end,t.slotMaxTime.milliseconds-864e5)}}function l2(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!Ng(e.validRange,r[i].range))return!1;return c2({eventDrag:t},n)}function _X(t,e,n){return Ng(e.validRange,t.range)?c2({dateSelection:t},n):!1}function c2(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||wX)(r,e)}function wX(t,e,n={},r){return!(t.eventDrag&&!EX(t,e,n,r)||t.dateSelection&&!bX(t,e,n,r))}function EX(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=wm(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=bs(c,r));let u=yZ(t.eventStore,s.affectedEvents.instances),f=u.defs,h=u.instances,p=wm(f,t.eventUiBases);for(let w in l){let g=l[w],E=g.range,b=c[g.defId],v=a[g.defId];if(!u2(b.constraints,E,u,t.businessHours,e))return!1;let{eventOverlap:x}=e.options,A=typeof x=="function"?x:null;for(let V in h){let S=h[V];if(ES(E,S.range)&&(p[S.defId].overlap===!1&&s.isEvent||b.overlap===!1||A&&!A(new Ht(e,f[S.defId],S),new Ht(e,v,g))))return!1}let O=i.eventStore;for(let V of b.allows){let S=Object.assign(Object.assign({},n),{range:g.range,allDay:v.allDay}),C=O.defs[v.defId],R=O.instances[w],I;if(C?I=new Ht(e,C,R):I=new Ht(e,v),!V(CS(S,e),I))return!1}}return!0}function bX(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!u2(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,f=typeof u=="function"?u:null;for(let h in o){let p=o[h];if(ES(l,p.range)&&(c.overlap===!1||f&&!f(new Ht(e,s[p.defId],p),null)))return!1}for(let h of c.allows){let p=Object.assign(Object.assign({},n),a);if(!h(CS(p,e),null))return!1}return!0}function u2(t,e,n,r,i){for(let s of t)if(!TX(SX(s,e,n,r,i),e))return!1;return!0}function SX(t,e,n,r,i){return t==="businessHours"?oy(el(r,e,i)):typeof t=="string"?oy(Og(n,s=>s.groupId===t)):typeof t=="object"&&t?oy(el(t,e,i)):[]}function oy(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function TX(t,e){for(let n of t)if(Ng(n,e))return!0;return!1}const mh=/^(visible|hidden)$/;class xX extends bt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Ni(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),L("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(mh.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(mh.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return mh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return mh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ns{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return VY(this.currentMap,e,n,r)}getAll(){return _S(this.currentMap)}}function CX(t){let e=MK(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,KK(r));return Math.ceil(n)}function d2(t,e){return t.liquid&&e.liquid}function AX(t,e){return e.maxHeight!=null||d2(t,e)}function RX(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):L("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,L(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function IX(t,e){return Mo(t,e,ii)}function DX(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(L("col",{style:{width:r.width==="shrink"?kX(e):r.width||"",minWidth:r.minWidth||""}}))}return L("colgroup",{},...n)}function kX(t){return t??4}function PX(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function NX(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function OX(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function bw(t){return L("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function bm(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function f2(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class OS extends bt{constructor(){super(...arguments),this.processCols=Me(e=>e,IX),this.renderMicroColGroup=Me(DX),this.scrollerRefs=new ns,this.scrollerElRefs=new ns(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=NX(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,f=[],h=[],p=[];for(;c<l&&(u=i[c]).type==="header";)f.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)p.push(this.renderSection(u,o,!0)),c+=1;let w=!YV();const g={role:"rowgroup"};return L("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!w&&f.length)&&L("thead",g,...f),!!(!w&&h.length)&&L("tbody",g,...h),!!(!w&&p.length)&&L("tfoot",g,...p),w&&L("tbody",g,...f,...h,...p))}renderSection(e,n,r){return"outerContent"in e?L(Dt,{key:e.key},e.outerContent):L("tr",{key:e.key,role:"presentation",className:OX(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=AX(s,e),u=d2(s,e),f=s.liquid?o?"scroll":c?"auto":"hidden":"visible",h=e.key,p=RX(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return L(i?"th":"td",{ref:r.elRef,role:"presentation"},L("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},L(xX,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,n){let r=MX(this.props.sections,n);r&&Ni(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return PX(this.props.cols)?CX(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=iX(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;s[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}OS.addStateEquality({scrollerClientWidths:ii,scrollerClientHeights:ii});function MX(t,e){for(let n of t)if(n.key===e)return n;return null}class MS extends bt{constructor(){super(...arguments),this.buildPublicEvent=Me((e,n,r)=>new Ht(e,n,r)),this.handleEl=e=>{this.el=e,Ni(this.props.elRef,e),e&&SR(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&DZ(i,n),isStartResizable:!e.disableResizing&&kZ(i,n),isEndResizable:!e.disableResizing&&PZ(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return L(Rr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...NZ(a),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&SR(this.el,this.props.seg)}}class LS extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=WV(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return L(MS,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:qV(i,n),defaultGenerator:LX,timeText:a}),(l,c)=>L(Dt,null,L(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}LS.addPropsEquality({seg:ii});function LX(t){return L("div",{className:"fc-event-main-frame"},t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title-container"},L("div",{className:"fc-event-title fc-sticky"},t.event.title||L(Dt,null," "))))}const VS=t=>L(Cs.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return L(Rr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),VX=Wt({day:"numeric"});class jS extends bt{constructor(){super(...arguments),this.refineRenderProps=Kh(jX)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return L(Rr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":mS(e.date)}),elClasses:[...IS(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function FS(t){return!!(t.dayCellContent||gw("dayCellContent",t))}function jX(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=XV(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:VX):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class h2 extends bt{render(){let{props:e}=this,{seg:n}=e;return L(MS,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:FX,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function FX(t){let{title:e}=t.event;return e&&L("div",{className:"fc-event-title"},t.event.title)}function p2(t){return L("div",{className:`fc-${t}`})}const m2=t=>L(Cs.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s),l={num:o,text:a,date:i};return L(Rr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:UX,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function UX(t){return t.text}const ay=10;class BX extends bt{constructor(){super(...arguments),this.state={titleId:kg()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Ni(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=yV(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return EK(L("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),L("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},L("span",{className:"fc-popover-title",id:i.titleId},r.title),L("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),L("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=lX(n);if(s){let o=i.getBoundingClientRect(),a=r?Un(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,ay),l=Math.min(l,document.documentElement.clientWidth-ay-o.width),l=Math.max(l,ay);let c=i.offsetParent.getBoundingClientRect();Xu(i,{top:a-c.top,left:l-c.left})}}}class zX extends Li{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return L(jS,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(l,c,u)=>L(BX,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},FS(e)&&L(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class g2 extends bt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:kg()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Ni(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=xR(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new Ht(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return L(Cs.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:l}=e,c=xR(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,f=Ju(s.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:i};return L(Dt,null,!!e.moreCnt&&L(Rr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),wV(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||HX,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&L(zX,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Un(this.linkEl,".fc-view-harness"))}}function HX(t){return t.text}function xR(t){if(t.allDayDate)return{start:t.allDayDate,end:En(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:v2(e),end:WX(e)}}function v2(t){return t.reduce($X).eventRange.range.start}function $X(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function WX(t){return t.reduce(GX).eventRange.range.end}function GX(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class qX{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class QX extends qX{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const KX=[],y2={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},_2=Object.assign(Object.assign({},y2),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function YX(t){let e=t.length>0?t[0].code:"en",n=KX.concat(t),r={en:_2};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function w2(t,e){return typeof t=="object"&&!Array.isArray(t)?E2(t.code,[t.code],t):ZX(t,e)}function ZX(t,e){let n=[].concat(t||[]),r=XX(n,e)||_2;return E2(t,n,r)}function XX(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function E2(t,e,n){let r=yS([y2,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function As(t){return{id:ol(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function JX(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),r=tJ(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function eJ(){let t=[],e=[],n;return(r,i)=>((!n||!Mo(r,t)||!Mo(i,e))&&(n=JX(r,i)),t=r,e=i,n)}function tJ(t,e){return{premiumReleaseDate:nJ(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function nJ(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Qo extends hf{}Qo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Qo.prototype.baseIconClass="fc-icon";Qo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Qo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Qo.prototype.iconOverrideOption="buttonIcons";Qo.prototype.iconOverrideCustomButtonOption="icon";Qo.prototype.iconOverridePrefix="fc-icon-";function rJ(t,e){let n={},r;for(r in t)Sw(r,n,t,e);for(r in e)Sw(r,n,t,e);return n}function Sw(t,e,n,r){if(e[t])return e[t];let i=iJ(t,e,n,r);return i&&(e[t]=i),i}function iJ(t,e,n,r){let i=n[t],s=r[t],o=u=>i&&i[u]!==null?i[u]:s&&s[u]!==null?s[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=Sw(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function CR(t){return bs(t,sJ)}function sJ(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=AR(e):n&&!(n.prototype instanceof bt)&&(n=AR(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function AR(t){return e=>L(Cs.Consumer,null,n=>L(Rr,{elTag:"div",elClasses:IV(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function oJ(t,e,n,r){let i=CR(t),s=CR(e.views),o=rJ(i,s);return bs(o,a=>aJ(a,s,e,n,r))}function aJ(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(s&&(o=lJ(s),o)){let h=mw(o);a=h.unit,h.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=h=>{let p=h.buttonText||{},w=t.defaults.buttonTextKey;return w!=null&&p[w]!=null?p[w]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},f=h=>{let p=h.buttonHints||{},w=t.defaults.buttonTextKey;return w!=null&&p[w]!=null?p[w]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(ed)||t.type,buttonTitleOverride:f(r)||f(n)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(ed)}}let RR={};function lJ(t){let e=JSON.stringify(t),n=RR[e];return n===void 0&&(n=dt(t),RR[e]=n),n}function cJ(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function uJ(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function dJ(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function fJ(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function hJ(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function pJ(t,e,n){let r=e?e.activeRange:null;return S2({},EJ(t,n),r,n)}function mJ(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return S2(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return vJ(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?T2(t,i,r):t;case"FETCH_EVENT_SOURCES":return US(t,e.sourceIds?TV(e.sourceIds):x2(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return wJ(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function gJ(t,e,n){let r=e?e.activeRange:null;return US(t,x2(t,n),r,!0,n)}function b2(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function S2(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=T2(i,n,r)),Object.assign(Object.assign({},t),i)}function vJ(t,e){return Xa(t,n=>n.sourceId!==e)}function T2(t,e,n){return US(t,Xa(t,r=>yJ(r,e,n)),e,!1,n)}function yJ(t,e,n){return C2(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function US(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=_J(a,n,r,i):s[o]=a}return s}function _J(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=ol();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(s,c,l.response)||c),t.success&&(c=t.success.call(s,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function wJ(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function x2(t,e){return Xa(t,n=>C2(n,e))}function EJ(t,e){let n=jV(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=VV(s,e,n);o&&i.push(o)}return i}function C2(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function bJ(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function SJ(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function TJ(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function xJ(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function CJ(t,e,n,r,i){let s=t.headerToolbar?IR(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?IR(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function IR(t,e,n,r,i,s){let o={},a=[],l=!1;for(let c in t){let u=t[c],f=AJ(u,e,n,r,i,s);o[c]=f.widgets,a.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function AJ(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],p=[],w=!1;return{widgets:h.map(E=>E.split(",").map(b=>{if(b==="title")return w=!0,{buttonName:b};let v,x,A,O,V,S;if(v=a[b])A=C=>{v.click&&v.click.call(C.target,C,C.target)},(O=r.getCustomButtonIconClass(v))||(O=r.getIconClass(b,o))||(V=v.text),S=v.hint||v.text;else if(x=i[b]){p.push(b),A=()=>{s.changeView(b)},(V=x.buttonTextOverride)||(O=r.getIconClass(b,o))||(V=x.buttonTextDefault);let C=x.buttonTextOverride||x.buttonTextDefault;S=Ju(x.buttonTitleOverride||x.buttonTitleDefault||e.viewHint,[C,b],C)}else if(s[b])if(A=()=>{s[b]()},(V=l[b])||(O=r.getIconClass(b,o))||(V=c[b]),b==="prevYear"||b==="nextYear"){let C=b==="prevYear"?"prev":"next";S=Ju(u[C]||f[C],[c.year||"year","year"],c[b])}else S=C=>Ju(u[b]||f[b],[c[C]||C,C],c[b]);return{buttonName:b,buttonClick:A,buttonIcon:O,buttonText:V,buttonHint:S}})),viewsWithButtons:p,hasTitle:w}}class RJ{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let IJ={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const DJ=As({name:"array-event-source",eventSourceDefs:[IJ]});let kJ={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;BZ(i.bind(null,QV(t.range,r)),s=>e({rawEvents:s}),n)}};const PJ=As({name:"func-event-source",eventSourceDefs:[kJ]}),NJ={method:String,extraParams:q,startParam:String,endParam:String,timeZoneParam:String};let OJ={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=LJ(r,t.range,t.context);zZ(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const MJ=As({name:"json-event-source",eventSourceRefiners:NJ,eventSourceDefs:[OJ]});function LJ(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,l,c={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[s]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const VJ={daysOfWeek:q,startTime:dt,endTime:dt,duration:dt,startRecur:q,endRecur:q};let jJ={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=JK(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Ja(e,{start:t.startRecur,end:t.endRecur});return r?UJ(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const FJ=As({name:"simple-recurring-event",recurringTypes:[jJ],eventRefiners:VJ});function UJ(t,e,n,r,i){let s=t?TV(t):null,o=kt(i.start),a=i.end,l=[];for(e&&(e.milliseconds<0?a=En(a,1):e.milliseconds>=1e3*60*60*24&&(o=En(o,-1)));o<a;){let c;(!s||s[o.getUTCDay()])&&(e?c=r.add(o,e):c=o,l.push(r.createMarker(n.toDate(c)))),o=En(o,1)}return l}const BJ=As({name:"change-handler",optionChangeHandlers:{events(t,e){DR([t],e)},eventSources:DR}});function DR(t,e){let n=_S(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function zJ(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},QV(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function HJ(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Pa(t,e))}const $J=[DJ,PJ,MJ,FJ,BJ,As({name:"misc",isLoadingFuncs:[t=>b2(t.eventSources)],propSetHandlers:{dateProfile:zJ,eventStore:HJ}})];class WJ{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new uS(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function GJ(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Wt(e.titleFormat||qJ(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function qJ(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=fm(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class kR{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class QJ{constructor(e){this.computeCurrentViewData=Me(this._computeCurrentViewData),this.organizeRawLocales=Me(YX),this.buildLocale=Me(w2),this.buildPluginHooks=eJ(),this.buildDateEnv=Me(KJ),this.buildTheme=Me(YJ),this.parseToolbars=Me(CJ),this.buildViewSpecs=Me(oJ),this.buildDateProfileGenerator=Kh(ZJ),this.buildViewApi=Me(XJ),this.buildViewUiProps=Kh(tee),this.buildEventUiBySource=Me(JJ,ii),this.buildEventUiBases=Me(eee),this.parseContextBusinessHours=Kh(nee),this.buildTitle=Me(GJ),this.nowManager=new kR,this.emitter=new Mg,this.actionRunner=new WJ(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new kR;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=dJ(r.calendarOptions,r.dateEnv,this.nowManager),l=s.dateProfileGenerator.build(a);as(l.activeRange,a)||(a=l.currentRange.start);for(let h of r.pluginHooks.contextInit)h(o);let c=pJ(r.calendarOptions,l,o),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:Sr(),renderableEventStore:Sr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},f=Object.assign(Object.assign({},o),u);for(let h of r.pluginHooks.reducers)Object.assign(u,h(null,null,f));ly(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=fJ(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=cJ(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(u)),u=uJ(u,e),f=hJ(f,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!as(f.currentRange,u))&&(u=f.currentRange.start);let h=mJ(r.eventSources,e,f,c),p=pZ(r.eventStore,e,h,f,c),g=b2(h)&&!l.options.progressiveEventRendering&&r.renderableEventStore||p,{eventUiSingleBase:E,selectionConfig:b}=this.buildViewUiProps(c),v=this.buildEventUiBySource(h),x=this.buildEventUiBases(g.defs,E,v),A={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:g,selectionConfig:b,eventUiBases:x,businessHours:this.parseContextBusinessHours(c),dateSelection:bJ(r.dateSelection,e),eventSelection:SJ(r.eventSelection,e),eventDrag:TJ(r.eventDrag,e),eventResize:xJ(r.eventResize,e)},O=Object.assign(Object.assign({},c),A);for(let C of o.pluginHooks.reducers)Object.assign(A,C(r,e,O));let V=ly(r,c),S=ly(A,c);!V&&S?i.trigger("loading",!0):V&&!S&&i.trigger("loading",!1),this.state=A,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=gJ(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=wR(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=wR(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);PR(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(i,s),h=this.parseToolbars(i,this.stableOptionOverrides,f,u,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:f,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=Jv([ed,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],$J),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pR),mR),gR),l.listenerRefiners),l.optionRefiners),u={},f=Jv([ed,a,e,n]),h={},p=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,g=!1;for(let E in f)this.optionsForRefining.indexOf(E)===-1&&(f[E]===p[E]||ca[E]&&E in p&&ca[E](p[E],f[E]))?h[E]=w[E]:c[E]?(h[E]=c[E](f[E]),g=!0):u[E]=p[E];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);PR(a),this.nowManager.handleInput(n.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,s){let o=Jv([ed,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pR),mR),gR),PY),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,f=!1,h={};for(let p in o)o[p]===c[p]||ca[p]&&ca[p](o[p],c[p])?l[p]=u[p]:(o[p]===this.currentCalendarOptionsInput[p]||ca[p]&&ca[p](o[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):a[p]?l[p]=a[p](o[p]):h[p]=o[p],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function KJ(t,e,n,r,i,s,o,a){let l=w2(e||o.defaultCode,o.map);return new HY({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function YJ(t,e){let n=e.themeClasses[t.themeSystem]||Qo;return new n(t)}function ZJ(t){let e=t.dateProfileGeneratorClass||PV;return new e(t)}function XJ(t,e,n){return new RJ(t,e,n)}function JJ(t){return bs(t,e=>e.ui)}function eee(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function tee(t){let{options:e}=t;return{eventUiSingleBase:_m({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:_m({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function ly(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function nee(t){return SZ(t.options.businessHours,t)}function PR(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class ree extends bt{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return L("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:f}=o;if(a==="title")s=!1,i.push(L("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,p=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",w=[`fc-${a}-button`,r.getClass("button")];h&&w.push(r.getClass("buttonActive")),i.push(L("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:p,"aria-pressed":h,className:w.join(" "),onClick:l},c||(u?L("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return L("div",{className:o},...i)}return i[0]}}class NR extends bt{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,L("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return L(ree,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class iee extends bt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Ni(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",L("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class see extends qc{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=Dc(r);if(o&&i.isValidSegDownEl(n.target)){let a=Un(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new Ht(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=_V(e.el,"click",".fc-event",this.handleSegClick)}}class oee extends qc{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Dc(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=jK(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=Dc(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new Ht(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class aee extends ll{constructor(){super(...arguments),this.buildViewContext=Me(GY),this.buildViewPropTransformers=Me(cee),this.buildToolbarProps=Me(lee),this.headerRef=Yn(),this.footerRef=Yn(),this.interactionsStore={},this.state={viewLabelId:kg()},this.registerInteractiveComponent=(e,n)=>{let r=WZ(e,n),o=[see,oee].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,_w[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete _w[e.uid]},this.resizeRunner=new uS(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,s="",o;e.isHeightAuto||e.forPrint?s="":r.height!=null?i=!0:r.contentHeight!=null?s=r.contentHeight:o=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return L(Cs.Provider,{value:a},L(Qc,{unit:"day"},c=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return L(Dt,null,n.header&&L(NR,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},u)),L(iee,{liquid:i,height:s,aspectRatio:o,labeledById:l},this.renderView(e),this.buildAppendContent()),n.footer&&L(NR,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return L(Dt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return L(o,Object.assign({},i))}}function lee(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!as(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function cee(t){return t.map(e=>new e)}let uee=class extends qZ{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;gm(()=>{jd(L($Z,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),L(RV.Provider,{value:this.customContentRenderId},L(aee,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,jd(null,this.el),this.setClassNames([]),this.setHeight(""))},IK(e),this.el=e,this.renderRunner=new uS(this.handleRenderRequest),new QJ({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){gm(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Mo(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){vV(this.el,"height",e)}};class dee extends Li{constructor(){super(...arguments),this.headerElRef=Yn()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=bm(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),L(vm,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},L(OS,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&bm(a.options),c=!o.forPrint&&f2(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:bw}]}),L(vm,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},L(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:u}))}}function Zh(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function gh(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function OR(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const A2=Wt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function R2(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class I2 extends bt{render(){let{props:e}=this;return L(LS,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:A2,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class D2 extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||A2,o=WV(i,s,n,!0,e.defaultDisplayEventEnd);return L(MS,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:qV(e.seg,n),defaultGenerator:fee,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function fee(t){return L(Dt,null,L("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title"},t.event.title||L(Dt,null," ")))}class hee extends bt{constructor(){super(...arguments),this.compileSegs=Me(pee)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return L(g2,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return L(Dt,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return L("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},R2(s)?L(D2,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},wo(s,e.todayRange))):L(I2,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},wo(s,e.todayRange))))}))}})}}function pee(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const mee=Wt({week:"narrow"});class gee extends Li{constructor(){super(...arguments),this.rootElRef=Yn(),this.state={dayNumberId:kg()},this.handleRootEl=e=>{Ni(this.rootElRef,e),Ni(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&yee(a,l.currentRange,o);return L(jS,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:vee,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,f)=>L("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&L(m2,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Em(e,a,"week"),date:a,defaultFormat:mee}),!f.isDisabled&&(n.showDayNumber||FS(s)||n.forceDayTop)?L("div",{className:"fc-daygrid-day-top"},L(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Em(e,a)),{id:r.dayNumberId})})):n.showDayNumber?L("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},L("a",{className:"fc-daygrid-day-number"}," ")):void 0,L("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,L("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},L(hee,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),L("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function vee(t){return t.dayNumberText||L(Dt,null," ")}function yee(t,e,n){const{start:r,end:i}=e,s=Lo(i,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(s),c=n.getMonth(s);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function k2(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function P2(t){return k2(t)+":"+t.lastCol}function _ee(t,e,n,r,i,s,o){let a=new bee(b=>{let v=t[b.index].eventRange.instance.instanceId+":"+b.span.start+":"+(b.span.end-1);return i[v]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let b=0;b<t.length;b+=1){let v=t[b],x=P2(v);i[x]!=null?l.push({index:b,span:{start:v.firstCol,end:v.lastCol+1}}):c.push(v)}let u=a.addSegs(l),f=a.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:w}=wee(f,t,o),g=[],E=[];for(let b of c){p[b.firstCol].push({seg:b,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let v=b.firstCol;v<=b.lastCol;v+=1)h[v].push({seg:sc(b,v,v+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)g.push(0);for(let b of u){let v=t[b.index],x=b.span;p[x.start].push({seg:sc(v,x.start,x.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=x.start;A<x.end;A+=1)g[A]+=1,h[A].push({seg:sc(v,A,A+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)E.push(w[b]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:E}}function wee(t,e,n){let r=Eee(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,f=0;for(let p of l){let w=e[p.index];c.push({seg:sc(w,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-u}),u=p.levelCoord+p.thickness}let h=[];u=0,f=0;for(let p of l){let w=e[p.index],g=p.span.end-p.span.start>1,E=p.span.start===a;f+=p.levelCoord-u,u=p.levelCoord+p.thickness,g?(f+=p.thickness,E&&h.push({seg:sc(w,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):E&&(h.push({seg:sc(w,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}i.push(c),s.push(h),o.push(f)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function Eee(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function sc(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=Ja(s,{start:r[e].date,end:En(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class bee extends t2{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[Na(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=Na(o);if(!s[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:PS(o.span,n.span)}),f=Na(u);s[f]=!0,i[a][l]=u,r.push(u),this.splitEntry(o,n,r)}else s[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class N2 extends Li{constructor(){super(...arguments),this.cellElRefs=new ns,this.frameElRefs=new ns,this.fgElRefs=new ns,this.segHarnessRefs=new ns,this.rootElRef=Yn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=gh(e.businessHourSegs,s),a=gh(e.bgEventSegs,s),l=gh(this.getHighlightSegs(),s),c=gh(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=_ee($V(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return L("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,E)=>{let b=this.renderFgSegs(E,e.forPrint?u[E]:f[E],e.todayRange,w),v=this.renderFgSegs(E,See(c[E],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return L(gee,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&E===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[E],moreMarginTop:p[E],singlePlacements:u[E],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:L(Dt,null,L(Dt,null,b),L(Dt,null,v)),bgContent:L(Dt,null,this.renderFillSegs(l[E],"highlight"),this.renderFillSegs(o[E],"non-business"),this.renderFillSegs(a[E],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!ii(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,f=this.props.cells.length===1,h=s||o||a,p=[];if(u)for(let w of n){let{seg:g}=w,{instanceId:E}=g.eventRange.instance,b=w.isVisible&&!i[E],v=w.isAbsolute,x="",A="";v&&(l.isRtl?(A=0,x=u.lefts[g.lastCol]-u.lefts[g.firstCol]):(x=0,A=u.rights[g.firstCol]-u.rights[g.lastCol])),p.push(L("div",{className:"fc-daygrid-event-harness"+(v?" fc-daygrid-event-harness-abs":""),key:k2(g),ref:h?null:this.segHarnessRefs.createRef(P2(g)),style:{visibility:b?"":"hidden",marginTop:v?"":w.marginTop,top:v?w.absoluteTop:"",left:x,right:A}},R2(g)?L(D2,Object.assign({seg:g,isDragging:s,isSelected:E===c,defaultDisplayEventEnd:f},wo(g,r))):L(I2,Object.assign({seg:g,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:E===c,defaultDisplayEventEnd:f},wo(g,r)))))}return p}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(L("div",{key:GV(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?L(h2,Object.assign({seg:a},wo(a,i))):p2(n)))}return L(Dt,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new kc(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new kc(c,l,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}N2.addStateEquality({segHeights:ii});function See(t,e){if(!t.length)return[];let n=Tee(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function Tee(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class xee extends Li{constructor(){super(...arguments),this.splitBusinessHourSegs=Me(Zh),this.splitBgEventSegs=Me(Cee),this.splitFgEventSegs=Me(Zh),this.splitDateSelectionSegs=Me(Zh),this.splitEventDrag=Me(OR),this.splitEventResize=Me(OR),this.rowRefs=new ns}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return L(Qc,{unit:"day"},(f,h)=>L(Dt,null,e.cells.map((p,w)=>L(N2,{ref:this.rowRefs.createRef(w),key:p.length?p[0].date.toISOString():w,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:i[w],eventSelection:e.eventSelection,bgEventSegs:s[w],fgEventSegs:o[w],dateSelectionSegs:a[w],eventDrag:l[w],eventResize:c[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new kc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new kc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=En(r,1);return{start:r,end:i}}}function Cee(t,e){return Zh(t.filter(Aee),e)}function Aee(t){return t.eventRange.def.allDay}class Ree extends Li{constructor(){super(...arguments),this.elRef=Yn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return L("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,L("tbody",{role:"presentation"},L(xee,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Iee(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function Iee(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${mY(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${mS(e.currentDate)}"]`)),n}class Dee extends a2{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class O2 extends Li{constructor(){super(...arguments),this.slicer=new Dee,this.tableRef=Yn()}render(){let{props:e,context:n}=this;return L(Ree,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class kee extends dee{constructor(){super(...arguments),this.buildDayTableModel=Me(Pee),this.headerRef=Yn(),this.tableRef=Yn()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&L(i2,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>L(O2,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function Pee(t,e){let n=new s2(t.renderRange,e);return new o2(n,/year|month|week/.test(t.currentRangeUnit))}class Nee extends PV{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return Oee({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function Oee(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=cR(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(En(n.end,-1))),a=Math.ceil(iY(o,i));i=cR(i,6-a)}return{start:r,end:i}}var Mee=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';cS(Mee);var Lee=As({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:kee,dateProfileGeneratorClass:Nee},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});NS.touchMouseIgnoreWait=500;let Tw=0,Sm=0,xw=!1;class M2{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Vee(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,jee()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Mg,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Fee()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Uee()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Un(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){xw=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Un(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Tw||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(xw=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}}function Vee(t){return t.button===0&&!t.ctrlKey}function jee(){Tw+=1,setTimeout(()=>{Tw-=1},NS.touchMouseIgnoreWait)}function Fee(){Sm+=1,Sm===1&&window.addEventListener("touchmove",L2,{passive:!1})}function Uee(){Sm-=1,Sm||window.removeEventListener("touchmove",L2,{passive:!1})}function L2(t){xw&&t.preventDefault()}class Bee{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Xu(r,{left:i.left,top:i.top}),FK(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(dS(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Xu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Xu(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class V2 extends kS{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class j2 extends V2{constructor(e,n){super(new cX(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return aX(this.scrollController.el)}}class zee extends V2{constructor(e){super(new uX,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const MR=typeof performance=="function"?performance.now:Date.now;class Hee{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=MR();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(MR()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,f=a.bottom-n;l>=0&&c>=0&&u>=0&&f>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),f<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:o,name:"bottom",distance:f}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new zee(!1):new j2(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class pf extends hX{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,UK(document.body),zK(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,BK(document.body),HK(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new M2(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Bee,this.autoScroller=new Hee}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class $ee{constructor(e){this.el=e,this.origRect=DS(e),this.scrollCaches=e2(e).map(n=>new j2(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!Wee(i.getEventTarget())&&!QZ(r,i.clientRect))return!1;return!0}}function Wee(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Lg{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Mg}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=DS(i),r=KZ(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=ZV(s,o.rect);a&&(r=YZ(a))}this.coordAdjust=ZZ(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Vg(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=bs(this.droppableStore,e=>(e.component.prepareHits(),new $ee(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),f=e-c,h=n-u,{origRect:p}=l,w=p.right-p.left,g=p.bottom-p.top;if(f>=0&&f<w&&h>=0&&h<g){let E=a.queryHit(f,h,w,g);E&&Ng(E.dateProfile.activeRange,E.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+c-window.scrollX,h+u-window.scrollY)))&&(!s||E.layer>s.layer)&&(E.componentId=o,E.context=a.context,E.rect.left+=c,E.rect.right+=c,E.rect.top+=u,E.rect.bottom+=u,s=E)}}}return s}}function Vg(t,e){return!t&&!e?!0:!!t!=!!e?!1:VZ(t.dateSpan,e.dateSpan)}function F2(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Gee(t,e.dateEnv)),n}function Gee(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class qee extends qc{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Vg(o,a)){let{context:l}=i,c=Object.assign(Object.assign({},F2(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new pf(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Lg(this.dragging,RS(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Qee extends qc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?Kee(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(c=Yee(f,o,l.pluginHooks.dateSelectionTransformers)),(!c||!_X(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?fS():hS(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(BV(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new pf(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Lg(this.dragging,RS(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Kee(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Yee(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(QK);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class mf extends qc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:f}=l.context,h=l.context;this.subjectEl=o.subjectEl;let p=this.subjectSeg=Dc(o.subjectEl),g=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=TS(h.getCurrentData().eventStore,g),c.minDistance=o.isTouch?0:f.eventDragMinDistance,c.delay=o.isTouch&&g!==l.props.eventSelection?Xee(l):null,f.fixedMirrorParent?u.parentNode=f.fixedMirrorParent:u.parentNode=Un(a,".fc"),u.revertDuration=f.dragRevertDuration;let E=l.isValidSegDownEl(a)&&!Un(a,".fc-event-resizer");c.setIgnoreMove(!E),this.isDragging=E&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ht(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,f=null,h=null,p=null,w=!1,g={affectedEvents:l,mutatedEvents:Sr(),isEvent:!0};if(o){f=o.context;let E=f.options;u===f||E.editable&&E.droppable?(h=Zee(c,o,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=AS(l,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=p,l2(g,o.dateProfile,f)||(w=!0,h=null,p=null,g.mutatedEvents=Sr()))):f=null}this.displayDrag(f,g),w?fS():hS(),a||(u===f&&Vg(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new Ht(a,f,h),w=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:E}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:o.origEvent,view:l}),u){if(c===a){let b=new Ht(a,g.defs[f.defId],h?g.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let v={oldEvent:p,event:b,relatedEvents:Pa(g,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:w})}},x={};for(let A of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(x,A(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},v),x),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",v)}else if(c){let b={event:p,relatedEvents:Pa(w,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:w})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:w}),a.emitter.trigger("eventRemove",b);let v=g.defs[f.defId],x=g.instances[h.instanceId],A=new Ht(c,v,x);c.dispatch({type:"MERGE_EVENTS",eventStore:g});let O={event:A,relatedEvents:Pa(g,c,x),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};c.emitter.trigger("eventAdd",O),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},F2(E.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:E.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},O),{draggedEl:o.subjectEl,view:E.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new pf(e.el);i.pointer.selector=mf.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Lg(this.dragging,_w);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Sr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}mf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Zee(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,o=i.range.start,a=s.range.start,l={};i.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=kt(n):o=n);let c=zl(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let f of r)f(u,t,e);return u}function Xee(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class Jee extends qc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=Dc(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=TS(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=Dc(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new Ht(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,w=!1,g={affectedEvents:c,mutatedEvents:Sr(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(h=ete(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=AS(c,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=p,l2(g,s.dateProfile,l)||(w=!0,h=null,p=null,g.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),w?fS():hS(),o||(h&&Vg(u,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new Ht(o,a,l),u=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let h=new Ht(o,f.defs[a.defId],l?f.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:c,event:h,relatedEvents:Pa(f,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||dt(0),endDelta:this.validMutation.endDelta||dt(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",p)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new pf(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Lg(this.dragging,RS(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Un(e.subjectEl,".fc-event")}}function ete(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=zl(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}class tte{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=yV(r.origEvent);this.matchesCancel=!!Un(s,i),this.matchesEvent=!!Un(s,mf.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new M2(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const nte={fixedMirrorParent:q},rte={dateClick:q,eventDragStart:q,eventDragStop:q,eventDrop:q,eventResizeStart:q,eventResizeStop:q,eventResize:q,drop:q,eventReceive:q,eventLeave:q};NS.dataAttrPrefix="";var ite=As({name:"@fullcalendar/interaction",componentInteractions:[qee,Qee,mf,Jee],calendarInteractions:[tte],elementDraggingImpl:pf,optionRefiners:nte,listenerRefiners:rte});const ste=parseInt(String(Ue.version).split(".")[0]),ote=ste<18;class U2 extends _.Component{constructor(){super(...arguments),this.elRef=_.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(Ue.createElement(ate,{key:n.id,customRendering:n}));return Ue.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new QX;this.handleCustomRendering=e.handle.bind(e),this.calendar=new uee(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{ti.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),s=!n;(ote||s||this.isUpdating||this.isUnmounting||i-n<100?B2:ti.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}U2.act=B2;class ate extends _.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return ti.createPortal(r,e.containerEl)}}function B2(t){t()}class lte extends XZ{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?RZ(e)?["timed","allDay"]:["allDay"]:["timed"]}}const cte=Wt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function z2(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return L(Cs.Consumer,null,n=>{if(!t.isLabeled)return L("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=i.slotLabelFormat==null?cte:Array.isArray(i.slotLabelFormat)?Wt(i.slotLabelFormat[0]):Wt(i.slotLabelFormat),a={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return L(Rr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:ute,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>L("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},L(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function ute(t){return t.text}class dte extends bt{render(){return this.props.slatMetas.map(e=>L("tr",{key:e.key},L(z2,Object.assign({},e))))}}const fte=Wt({week:"short"}),hte=5;class pte extends Li{constructor(){super(...arguments),this.allDaySplitter=new lte,this.headerElRef=Yn(),this.rootElRef=Yn(),this.scrollerElRef=Yn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,a=al(s.start,s.end)===1?Em(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?L(m2,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:fte},l=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},L(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):L("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},L("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return L(Rr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:mte,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},L(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,o=[],a=bm(i.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),L(vm,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},L(OS,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,s,o,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,f=!u.forPrint&&bm(c.options),h=!u.forPrint&&f2(c.options),p=[];e&&p.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>L("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>L("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:n}]}),p.push({key:"all-day-divider",type:"body",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let w=c.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:g=>L("div",{className:"fc-timegrid-axis-chunk"},L("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,L("tbody",null,L(dte,{slatMetas:o}))),L("div",{className:"fc-timegrid-now-indicator-container"},L(Qc,{unit:w?"minute":"day"},E=>{let b=w&&a&&a.safeComputeTop(E);return typeof b=="number"?L(VS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:b},isAxis:!0,date:E}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:bw},{key:"cols",content:bw}]}),L(vm,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},L(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=hte),{dayMaxEvents:e,dayMaxEventRows:n}}}function mte(t){return t.text}class gte{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(as(n.currentRange,e)){let r=kt(e),i=e.valueOf()-r.valueOf();if(i>=Zr(n.slotMinTime)&&i<Zr(n.slotMaxTime))return this.computeTimeTop(dt(i))}return null}computeDateTop(e,n){return n||(n=kt(e)),this.computeTimeTop(dt(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-Zr(r.slotMinTime))/Zr(this.slotDuration),o,a;return s=Math.max(0,s),s=Math.min(i,s),o=Math.floor(s),o=Math.min(o,i-1),a=s-o,n.tops[o]+n.getHeight(o)*a}}class vte extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return L("tbody",null,e.slatMetas.map((s,o)=>{let a={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return L("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&L(z2,Object.assign({},s)),L(Rr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class yte extends bt{constructor(){super(...arguments),this.rootElRef=Yn(),this.slatElRefs=new ns}render(){let{props:e,context:n}=this;return L("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},L("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,L(vte,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new gte(new kc(this.rootElRef.current,_te(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function _te(t,e){return e.map(n=>t[n.key])}function Eu(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function LR(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class wte extends bt{render(){let{props:e}=this;return L(g2,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>$2(e.hiddenSegs,e),defaultGenerator:Ete,forceTimed:!0},n=>L(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Ete(t){return t.shortText}function bte(t,e,n){let r=new t2;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=dX(i),o=Ste(r);return o=Ate(o,1),{segRects:Rte(o),hiddenGroups:s}}function Ste(t){const{entriesByLevel:e}=t,n=BS((r,i)=>r+":"+i,(r,i)=>{let s=Cte(t,r,i),o=VR(s,n),a=e[r][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return VR(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function VR(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,o=[];for(;s<i;)o.push(e(n,s)),s+=1;return o.sort(Tte),[o.map(xte),o[0][1]]}function Tte(t,e){return e[1]-t[1]}function xte(t){return t[0]}function Cte(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],o=r[e]+s.thickness,a=r.length,l=e;for(;l<a&&r[l]<o;l+=1);for(;l<a;l+=1){let c=i[l],u,f=Ew(c,s.span.start,ww),h=f[0]+f[1],p=h;for(;(u=c[p])&&u.span.start<s.span.end;)p+=1;if(h<p)return{level:l,lateralStart:h,lateralEnd:p}}return null}function Ate(t,e){const n=BS((r,i,s)=>Na(r),(r,i,s)=>{let{nextLevelNodes:o,thickness:a}=r,l=a+s,c=a/l,u,f=[];if(!o.length)u=e;else for(let p of o)if(u===void 0){let w=n(p,i,l);u=w[0],f.push(w[1])}else{let w=n(p,u,0);f.push(w[1])}let h=(u-i)*c;return[u-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:f})]});return t.map(r=>n(r,0,0)[1])}function Rte(t){let e=[];const n=BS((i,s,o)=>Na(i),(i,s,o)=>{let a=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){let a=0;for(let l of i)a=Math.max(n(l,s,o),a);return a}return r(t,0,0),e}function BS(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function jR(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],a=n.computeDateTop(o.start,e),l=Math.max(a+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(a),end:Math.round(l)})}return i}function Ite(t,e,n,r){let i=[],s=[];for(let c=0;c<t.length;c+=1){let u=e[c];u?i.push({index:c,thickness:1,span:u}):s.push(t[c])}let{segRects:o,hiddenGroups:a}=bte(i,n,r),l=[];for(let c of o)l.push({seg:t[c.index],rect:c});for(let c of s)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}const Dte=Wt({hour:"numeric",minute:"2-digit",meridiem:!1});class H2 extends bt{render(){return L(LS,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Dte}))}}class kte extends bt{constructor(){super(...arguments),this.sortEventSegs=Me($V)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return L(jS,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),L("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),FS(r)&&L(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,o){let{props:a}=this;return a.forPrint?$2(e,a):this.renderPositionedFgSegs(e,n,r,i,s,o)}renderPositionedFgSegs(e,n,r,i,s,o){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:f,slatCoords:h,eventSelection:p,todayRange:w,nowDate:g}=this.props,E=r||i||s,b=jR(e,f,h,u),{segPlacements:v,hiddenGroups:x}=Ite(e,b,c,a);return L(Dt,null,this.renderHiddenGroups(x,e),v.map(A=>{let{seg:O,rect:V}=A,S=O.eventRange.instance.instanceId,C=E||!!(!n[S]&&V),R=cy(V&&V.span),I=!E&&V?this.computeSegHStyle(V):{left:0,right:0},N=!!V&&V.stackForward>0,P=!!V&&V.span.end-V.span.start<l;return L("div",{className:"fc-timegrid-event-harness"+(N?" fc-timegrid-event-harness-inset":""),key:o||S,style:Object.assign(Object.assign({visibility:C?"":"hidden"},R),I)},L(H2,Object.assign({seg:O,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:S===p,isShort:P},wo(O,w,g))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c}=this.props;return L(Dt,null,e.map(u=>{let f=cy(u.span),h=Pte(u.entries,n);return L(wte,{key:SV(v2(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=jR(e,r.date,r.slatCoords,i.options.eventMinHeight).map((a,l)=>{let c=e[l];return L("div",{key:GV(c.eventRange),className:"fc-timegrid-bg-harness",style:cy(a)},n==="bg-event"?L(h2,Object.assign({seg:c},wo(c,r.todayRange,r.nowDate))):p2(n))});return L(Dt,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>L(VS,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,a,l;i&&(o=Math.min(1,s+(o-s)*2)),n?(a=1-o,l=s):(a=s,l=1-o);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c}}function $2(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return L(Dt,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return L("div",{key:l,style:{visibility:o[l]?"hidden":""}},L(H2,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===r,isShort:!1},wo(a,e,n))))}))}function cy(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Pte(t,e){return t.map(n=>e[n.index])}class Nte extends bt{constructor(){super(...arguments),this.splitFgEventSegs=Me(Eu),this.splitBgEventSegs=Me(Eu),this.splitBusinessHourSegs=Me(Eu),this.splitNowIndicatorSegs=Me(Eu),this.splitDateSelectionSegs=Me(Eu),this.splitEventDrag=Me(LR),this.splitEventResize=Me(LR),this.rootElRef=Yn(),this.cellElRefs=new ns}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return L("div",{className:"fc-timegrid-cols",ref:this.rootElRef},L("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,L("tbody",{role:"presentation"},L("tr",{role:"row"},e.axis&&L("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&L(VS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((h,p)=>L(kte,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[p],bgEventSegs:o[p],businessHourSegs:a[p],nowIndicatorSegs:l[p],dateSelectionSegs:c[p],eventDrag:u[p],eventResize:f[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new kc(this.rootElRef.current,Ote(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Ote(t,e){return e.map(n=>t[n.key])}class Mte extends Li{constructor(){super(...arguments),this.processSlotOptions=Me(Lte),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return L("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L(yte,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),L(Nte,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),u=s.leftToIndex(e),f=a.positions.topToIndex(n);if(u!=null&&f!=null){let h=this.props.cells[u],p=a.positions.tops[f],w=a.positions.getHeight(f),g=(n-p)/w,E=Math.floor(g*c),b=f*c+E,v=this.props.cells[u].date,x=pw(o.slotMinTime,eY(l,b)),A=r.add(v,x),O=r.add(A,l);return{dateProfile:o,dateSpan:Object.assign({range:{start:A,end:O},allDay:!1},h.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:p,bottom:p+w},layer:0}}return null}}function Lte(t,e){let n=e||t,r=pS(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class Vte extends a2{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=Ja(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class jte extends Li{constructor(){super(...arguments),this.buildDayRanges=Me(Fte),this.slicer=new Vte,this.timeColsRef=Yn()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,a=this.buildDayRanges(i,r,n.dateEnv);return L(Qc,{unit:s?"minute":"day"},(l,c)=>L(Mte,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:s&&this.slicer.sliceNowDate(l,r,o,n,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Fte(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const FR=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Ute(t,e,n,r,i){let s=new Date(0),o=t,a=dt(0),l=n||Bte(r),c=[];for(;Zr(o)<Zr(e);){let u=i.add(s,o),f=pS(a,l)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:gY(u),isLabeled:f}),o=pw(o,r),a=pw(a,r)}return c}function Bte(t){let e,n,r;for(e=FR.length-1;e>=0;e-=1)if(n=dt(FR[e]),r=pS(n,t),r!==null&&r>1)return n;return t}class zte extends pte{constructor(){super(...arguments),this.buildTimeColsModel=Me(Hte),this.buildSlatMetas=Me(Ute)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,o=this.buildTimeColsModel(s,r),a=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:c}=e,u=!c,f=c,h=e.dayHeaders&&L(i2,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(g=>L(O2,Object.assign({},a.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),w=g=>L(jte,Object.assign({},a.timed,{dayTableModel:o,dateProfile:s,axis:u,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,p,w,o.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(h,p,w)}}function Hte(t,e){let n=new s2(t.renderRange,e);return new o2(n,!1)}var $te='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';cS($te);const Wte={allDaySlot:Boolean};var Gte=As({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Wte,views:{timeGrid:{component:zte,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});const qte=({isOpen:t,onOpenChange:e,event:n})=>{if(!n)return null;const r=n.extendedProps.service==="day_off",i=n.extendedProps.service==="out_of_office";return y.jsx(Up,{open:t,onOpenChange:e,children:y.jsxs(Id,{className:"sm:max-w-[425px]",children:[y.jsx(Dd,{children:y.jsx(kd,{className:Le("text-lg font-semibold pb-2",r&&"text-gray-500",i&&"text-orange-500",!r&&!i&&"text-primary"),children:r?"Dia de Folga":i?"Horário Indisponível":"Agendamento"})}),y.jsx("div",{className:"flex flex-col gap-4",children:r?y.jsx("p",{className:"text-gray-500",children:"Este dia está marcado como folga."}):i?y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("p",{className:"text-orange-500",children:"Este horário está indisponível."}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"font-medium",children:"Período:"}),y.jsxs("span",{children:[n.extendedProps.startHour," às"," ",n.extendedProps.endHour]})]})]}):y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"font-medium",children:"Serviço:"}),y.jsx("span",{children:n.extendedProps.service})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"font-medium",children:"Horário:"}),y.jsx("span",{children:n.extendedProps.hour})]}),n.extendedProps.client_id&&y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"font-medium",children:"Cliente:"}),y.jsx("span",{children:n.extendedProps.client_id})]})]})})]})})},Qte=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(""),[i,s]=_.useState([]),[o,a]=_.useState(!0),[l,c]=_.useState([]),[u,f]=_.useState(!0),[h,p]=_.useState(!1),[w,g]=_.useState(""),[E,b]=_.useState(!1),[v,x]=_.useState({}),[A,O]=_.useState(null),[V,S]=_.useState(!1),[C,R]=_.useState(null),[I,N]=_.useState(!1),[P,k]=_.useState({}),[Y,fe]=_.useState(!1),[le,ve]=_.useState(null),H=_.useRef(null),ee=lg(),pe=U1();_.useEffect(()=>{const $=Kr(tn,"calendar");a(!0);const ue=qx($,ce=>{const ie=ce.docs.map(W=>({id:W.id,...W.data()}));e(ie),ie.length>0&&!n&&r(ie[0].id),a(!1),H.current&&(H.current.getApi().refetchEvents(),console.log("Calendário atualizado em tempo real"))},ce=>{console.error("Erro ao observar mudanças no calendário:",ce),a(!1)});return()=>ue()},[n]),_.useEffect(()=>{const $=Kr(tn,"services");f(!0);const ue=qx($,ce=>{const ie=ce.docs.map(W=>({service_id:W.id,...W.data()}));c(ie),f(!1),H.current&&!o&&(H.current.getApi().refetchEvents(),console.log("Calendário atualizado após mudança nos serviços"))},ce=>{console.error("Erro ao observar mudanças nos serviços:",ce),f(!1)});return()=>ue()},[o]),_.useEffect(()=>{if(!n||u||o)return;const $=t.find(W=>W.id===n);if(!$)return;let ue=$.calendar.flatMap(W=>[...W.day_time.filter(te=>te.appointment_id==="day_off"||te.service==="day_off").map(te=>({id:crypto.randomUUID(),title:"Dia de Folga",date:W.day.replace(/\//g,"-"),start:`${W.day.replace(/\//g,"-")}T00:00`,end:`${W.day.replace(/\//g,"-")}T23:59`,extendedProps:{service:"day_off"},allDay:!0,display:"background",backgroundColor:"#eef2ff"})),...W.day_time.filter(te=>(te.appointment_id==="out_of_office"||te.service==="out_of_office")&&te.hour.split(":")[1]==="00").map(te=>({id:`out_of_office_${W.day}_${te.hour}`,title:`Indisponível - ${te.hour}`,date:W.day.replace(/\//g,"-"),start:`${W.day.replace(/\//g,"-")}T${te.hour}`,end:`${W.day.replace(/\//g,"-")}T${te.hour.split(":")[0]}:59`,extendedProps:{service:"out_of_office",startHour:te.hour,endHour:`${te.hour.split(":")[0]}:59`,hour:te.hour}})),...W.day_time.filter(te=>te.service!=="none"&&te.appointment_id!=="day_off"&&te.appointment_id!=="out_of_office"&&te.appointment_id!=="not_in_schedule"&&te.service!=="not_in_schedule"&&te.hour.split(":")[1]==="00").map(te=>{const Xe=l.find(tt=>tt.description===te.service),Ke=((Xe==null?void 0:Xe.service_duration)||1)*15,De=new Date(`${W.day.replace(/\//g,"-")}T${te.hour}`),ft=new Date(De.getTime()+Ke*6e4);return{id:te.appointment_id||crypto.randomUUID(),title:`${te.service} - ${te.hour}`,date:W.day.replace(/\//g,"-"),start:De.toISOString(),end:ft.toISOString(),extendedProps:{client_id:te.client_id,hour:te.hour,service:te.service}}})]);const ce=new Map,ie=new Map;ue=ue.filter(W=>{if(W.extendedProps.service==="out_of_office"){const Xe=W.title.includes("Indisponível - ")?W.title.split("Indisponível - ")[1]:"",Ke=`${W.date}_${Xe||"unknown"}`;return ie.has(Ke)?(console.log(`Evento de horário indisponível duplicado removido: ${W.title}`),!1):(ie.set(Ke,!0),!0)}return!W.id||W.extendedProps.service==="day_off"?!0:ce.has(W.id)?(console.log(`Evento duplicado removido: ${W.title} (ID: ${W.id})`),!1):(ce.set(W.id,!0),!0)}),s(ue)},[t,n,l,o,u]),_.useEffect(()=>{if(H.current&&i.length>0){const $=H.current.getApi();$.removeAllEvents(),$.addEventSource({events:i}),$.refetchEvents(),console.log("Calendário atualizado em tempo real com",i.length,"eventos")}},[i]);const Ie=$=>{R($.event),N(!0)};if(o||u)return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"my-15",children:y.jsx(ha,{className:"w-52 h-10"})}),y.jsx(ha,{className:"w-full h-screen"})]});const ke=$=>{const ue=$.event.extendedProps.service==="day_off",ce=$.event.extendedProps.service==="out_of_office",ie=["timeGridWeek","timeGridDay"].includes($.view.type),W=$.view.type==="dayGridMonth",te=y.jsx("div",{className:`cursor-pointer w-full h-full p-2 rounded ${ue?"bg-gray-500 text-white":ce?"bg-orange-500 text-white":"bg-primary text-white"}`,children:ue?y.jsx("strong",{children:W?"Dia de Folga":""}):ce?y.jsxs("div",{className:"flex flex-col",children:[y.jsx("strong",{children:"Horário Indisponível"}),$.event.extendedProps.hour&&y.jsx("span",{className:"text-sm font-medium",children:$.event.extendedProps.hour})]}):y.jsxs(y.Fragment,{children:[$.event.extendedProps.hour&&y.jsx("p",{children:$.event.extendedProps.hour}),W&&y.jsx("strong",{children:$.event.extendedProps.service})]})});return ie?y.jsx(ah,{children:y.jsxs(lh,{children:[y.jsx(ch,{asChild:!0,children:te}),y.jsx(Nu,{className:"text-sm max-w-[300px]",side:"right",sideOffset:5,avoidCollisions:!0,children:ue?y.jsx("p",{children:"Dia de Folga"}):ce?y.jsxs("p",{children:["Horário Indisponível:"," ",$.event.extendedProps.startHour," às"," ",$.event.extendedProps.endHour]}):y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Serviço:"})," ",$.event.extendedProps.service]}),$.event.extendedProps.hour&&y.jsxs("p",{children:[y.jsx("strong",{children:"Horário:"})," ",$.event.extendedProps.hour]}),$.event.extendedProps.client_id&&y.jsxs("p",{children:[y.jsx("strong",{children:"Cliente:"})," ",$.event.extendedProps.client_id.includes("@s.whatsapp.net")?`(${$.event.extendedProps.client_id.split("@")[0].slice(2,4)}) ${$.event.extendedProps.client_id.split("@")[0].slice(4)}`:$.event.extendedProps.client_id]})]})})]})}):te},ze=async $=>{var ft;const ue=t.find(tt=>tt.id===n);if(!ue)return;const ce=$.dateStr;g(ce);const ie=ue.calendar.find(tt=>tt.day===ce.replace(/-/g,"/")),W=((ft=ie==null?void 0:ie.day_time[0])==null?void 0:ft.appointment_id)==="day_off";b(W);const te={},Xe={};let Ke=!1;const De={};ie==null||ie.day_time.forEach(tt=>{const M=`${vo(tt.hour)}:00`;De[M]||(De[M]=[]),De[M].push(tt),tt.appointment_id!==""&&tt.appointment_id!=="day_off"&&tt.appointment_id!=="out_of_office"&&tt.appointment_id!=="not_in_schedule"&&tt.service!=="none"&&tt.service!=="day_off"&&tt.service!=="out_of_office"&&tt.service!=="not_in_schedule"&&(Ke=!0,Xe[M]=!0)}),Object.keys(De).forEach(tt=>{const He=De[tt].every(M=>M.appointment_id!=="out_of_office"&&M.appointment_id!=="day_off"&&M.appointment_id!=="not_in_schedule");te[tt]=He}),fe(Ke),k(Xe),x(te),p(!0)},ct=async $=>{if(!(!n||!w||V))try{S(!0),O($);const ue=t.find(Ke=>Ke.id===n);if(!ue)return;const ce=vo($),ie=k_(ce),W=!v[$],te=ue.calendar.map(Ke=>Ke.day===w.replace(/-/g,"/")?{...Ke,day_time:Ke.day_time.map(De=>ie.includes(De.hour)?De.appointment_id!==""&&De.appointment_id!=="out_of_office"&&De.appointment_id!=="day_off"&&De.appointment_id!=="not_in_schedule"?De:{...De,appointment_id:W?"":"out_of_office",client_id:W?"none":"out_of_office",service:W?"none":"out_of_office"}:De)}:Ke),Xe=Qn(tn,"calendar",n);await Gx(Xe,{calendar:te}),e(Ke=>Ke.map(De=>De.id===n?{...De,calendar:te}:De)),x(Ke=>({...Ke,[$]:W})),El({title:W?"Horário disponibilizado":"Horário bloqueado",description:`Horário ${$} ${W?"disponível":"indisponível"}.`})}catch(ue){console.error("Erro ao atualizar horário:",ue),El({variant:"destructive",title:"Erro",description:"Erro ao atualizar o horário. Tente novamente."})}finally{S(!1),O(null)}},it=async()=>{if(!(!n||!w||V))try{S(!0);const $=t.find(ie=>ie.id===n);if(!$)return;const ue=$.calendar.map(ie=>ie.day===w.replace(/-/g,"/")?{...ie,day_time:ie.day_time.map(W=>({...W,appointment_id:E?"":"day_off",client_id:E?"none":"day_off",service:E?"none":"day_off"}))}:ie),ce=Qn(tn,"calendar",n);if(await Gx(ce,{calendar:ue}),e(ie=>ie.map(W=>W.id===n?{...W,calendar:ue}:W)),E){const ie={};ee.forEach(W=>{ie[W]=!0}),x(ie)}}catch($){console.error("Erro ao atualizar dia:",$),alert("Erro ao atualizar o dia. Tente novamente.")}finally{S(!1)}},mt=new Date(w);mt.setDate(mt.getDate()+1);const U=async $=>{if(!(!n||!w))try{ve($);const ue=t.find(He=>He.id===n);if(!ue)return;const ce=vo($),ie=k_(ce);let W;const te={...ue},Xe=te.calendar.findIndex(He=>He.day===w.replace(/-/g,"/"));if(Xe===-1)return;if(te.calendar[Xe].day_time.forEach(He=>{ie.includes(He.hour)&&He.appointment_id&&He.appointment_id!==""&&He.appointment_id!=="out_of_office"&&He.appointment_id!=="day_off"&&He.appointment_id!=="not_in_schedule"&&(W=He.appointment_id)}),!W){El({title:"Erro",description:"Nenhum agendamento encontrado neste horário.",variant:"destructive"}),ve(null);return}const Ke=o6(tn),De=Kr(tn,"calendar");(await gs(De)).forEach(He=>{const M=He.data();let B=!1;M.calendar.forEach(K=>{K.day_time.forEach(se=>{se.appointment_id===W&&(se.appointment_id="",se.client_id="none",se.service="none",B=!0)})}),B&&Ke.set(He.ref,M)}),await Ke.commit();const tt={...P};delete tt[$],k(tt),El({title:"Sucesso",description:"Agendamento excluído com sucesso."});try{const He=Kr(tn,"calendar"),B=(await gs(He)).docs.map(K=>({id:K.id,...K.data()}));e(B)}catch(He){console.error("Erro ao recarregar dados do calendário:",He)}}catch(ue){console.error("Erro ao excluir agendamento:",ue),El({title:"Erro",description:"Erro ao excluir agendamento. Tente novamente.",variant:"destructive"})}finally{ve(null)}};return y.jsxs("div",{children:[y.jsxs("div",{className:"w-[240px] mb-10 flex flex-col gap-3",children:[y.jsx(Lb,{children:"Profissional:"}),y.jsxs(UQ,{value:n,onValueChange:$=>r($),children:[y.jsx(VL,{children:y.jsx(BQ,{placeholder:"Selecione um profissional"})}),y.jsx(UL,{children:t.map($=>y.jsx(BL,{value:$.id,children:$.id},$.id))})]})]}),y.jsx(Up,{open:h,onOpenChange:p,children:y.jsxs(Id,{className:"flex flex-col gap-4 max-w-3xl h-[80vh] overflow-y-auto",children:[y.jsx(Dd,{children:y.jsxs(kd,{children:["Configurar Dia"," ",w&&new Date(mt).toLocaleDateString("pt-BR")]})}),y.jsxs(VO,{defaultValue:"config",className:"w-full",children:[y.jsxs(Fb,{className:"grid w-full grid-cols-2",children:[y.jsx(Ta,{value:"config",children:"Configuração"}),y.jsx(Ta,{value:"events",children:"Eventos do Dia"})]}),y.jsx(xa,{value:"config",children:y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(ah,{children:y.jsxs(lh,{children:[y.jsx(ch,{asChild:!0,children:y.jsx("div",{children:y.jsx(DM,{id:"dayOff",checked:E,disabled:V||Y,onCheckedChange:()=>{b(!E),it()}})})}),y.jsx(Nu,{className:"text-sm max-w-[300px]",side:"right",sideOffset:5,avoidCollisions:!0,children:"Existem agendamentos neste dia. O cliente precisa reagendar para você poder marcar como dia de folga."})]})}),y.jsx("label",{htmlFor:"dayOff",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Marcar como dia de folga"})]}),!E&&y.jsx("div",{className:"rounded-md border",children:y.jsxs(Ea,{children:[y.jsx(ba,{children:y.jsxs(pr,{children:[y.jsx(Zt,{className:"text-center",children:"Horário"}),y.jsx(Zt,{className:"text-center",children:"Disponível"})]})}),y.jsx(Sa,{children:pe.map($=>y.jsxs(pr,{children:[y.jsx(Xt,{className:"text-center font-medium",children:$}),y.jsx(Xt,{className:"text-center",children:y.jsx(ah,{children:y.jsxs(lh,{children:[y.jsx(ch,{asChild:!0,children:y.jsx("div",{children:A===$?y.jsx(o_,{className:"h-4 w-4 animate-spin mx-auto"}):y.jsx("input",{type:"checkbox",checked:v[$]??!0,onChange:()=>ct($),disabled:V||P[$],className:"h-4 w-4 rounded border-border"})})}),P[$]&&y.jsx(Nu,{className:"text-sm max-w-[300px]",children:y.jsx("p",{children:"Existe um agendamento neste horário. O cliente precisa reagendar para você poder marcar como indisponível."})})]})})})]},$))})]})})]})}),y.jsx(xa,{value:"events",children:y.jsx("div",{className:"flex flex-col gap-4",children:(()=>{const $=t.find(W=>W.id===n),ue=$==null?void 0:$.calendar.find(W=>W.day===(w==null?void 0:w.replace(/-/g,"/"))),ce=ue==null?void 0:ue.day_time.filter(W=>W.service!=="none"&&W.appointment_id!=="day_off"&&W.appointment_id!=="out_of_office"&&W.appointment_id!=="not_in_schedule"),ie=ce?ce.reduce((W,te)=>(W.some(Xe=>Xe.appointment_id===te.appointment_id)||W.push(te),W),[]):[];return ie.length?y.jsx("div",{className:"rounded-md border",children:y.jsxs(Ea,{children:[y.jsx(ba,{children:y.jsxs(pr,{children:[y.jsx(Zt,{children:"Horário"}),y.jsx(Zt,{children:"Serviço"}),y.jsx(Zt,{children:"Cliente"}),y.jsx(Zt,{className:"text-center",children:"Ações"})]})}),y.jsx(Sa,{children:ie.map((W,te)=>y.jsxs(pr,{children:[y.jsx(Xt,{className:"font-medium",children:W.hour}),y.jsx(Xt,{children:W.service}),y.jsx(Xt,{children:W.client_id?W.client_id.includes("@s.whatsapp.net")?`(${W.client_id.split("@")[0].slice(2,4)}) ${W.client_id.split("@")[0].slice(4)}`:W.client_id:"Não informado"}),y.jsx(Xt,{className:"text-center",children:y.jsx(ah,{children:y.jsxs(lh,{children:[y.jsx(ch,{asChild:!0,children:y.jsx("button",{onClick:()=>U(W.hour),disabled:le===W.hour,className:"p-1.5 rounded-full hover:bg-gray-100/20 focus:outline-none focus:ring-2 focus:ring-destructive/30 transition-colors",children:le===W.hour?y.jsx(o_,{className:"h-4 w-4 animate-spin "}):y.jsx(a_,{className:"h-4 w-4 "})})}),y.jsx(Nu,{className:"text-sm max-w-[300px]",children:y.jsx("p",{children:"Excluir agendamento"})})]})})})]},te))})]})}):y.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum evento agendado para este dia"})})()})})]})]})}),y.jsx(qte,{isOpen:I,onOpenChange:N,event:C?{title:C.title,extendedProps:{service:C.extendedProps.service||"",hour:C.extendedProps.hour,client_id:C.extendedProps.client_id,startHour:C.extendedProps.startHour,endHour:C.extendedProps.endHour}}:null}),y.jsx(U2,{plugins:[Lee,Gte,ite],nowIndicator:!0,initialView:"dayGridMonth",events:i,eventClick:Ie,editable:!1,selectable:!0,eventContent:ke,dateClick:ze,dayCellClassNames:()=>"cursor-pointer",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},ref:H})]})};function Kte(){return y.jsx("div",{className:"py-8",children:y.jsx("div",{className:"space-y-6",children:y.jsx(Qte,{})})})}const Yte=F9([{path:"/",element:y.jsx(e5,{}),children:[{path:"/",element:y.jsx(xA,{})},{path:"dashboard/management",element:y.jsx(xA,{})},{path:"dashboard/schedules",element:y.jsx(Kte,{})}]}]);function Zte(){return _.useEffect(()=>{p6().then(()=>{console.log("Verificação de coleção de calendário concluída.")}),g6(),console.log("Agendamento da atualização do calendário iniciado")},[]),y.jsx(LU,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:y.jsxs(gB,{children:[y.jsx(Q9,{router:Yte}),y.jsx(qk,{})]})})}tk(document.getElementById("root")).render(y.jsx(Zte,{}));

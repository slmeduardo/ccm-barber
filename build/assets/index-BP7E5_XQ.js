var yT=t=>{throw TypeError(t)};var Uy=(t,e,n)=>e.has(t)||yT("Cannot "+n);var Z=(t,e,n)=>(Uy(t,e,"read from private field"),n?n.call(t):e.get(t)),ct=(t,e,n)=>e.has(t)?yT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),We=(t,e,n,r)=>(Uy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),En=(t,e,n)=>(Uy(t,e,"access private method"),n);var Fh=(t,e,n,r)=>({set _(s){We(t,e,s,n)},get _(){return Z(t,e,r)}});function YB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function U1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B1={exports:{}},Yg={},$1={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=Symbol.for("react.element"),ZB=Symbol.for("react.portal"),XB=Symbol.for("react.fragment"),JB=Symbol.for("react.strict_mode"),e5=Symbol.for("react.profiler"),t5=Symbol.for("react.provider"),n5=Symbol.for("react.context"),r5=Symbol.for("react.forward_ref"),s5=Symbol.for("react.suspense"),i5=Symbol.for("react.memo"),o5=Symbol.for("react.lazy"),wT=Symbol.iterator;function a5(t){return t===null||typeof t!="object"?null:(t=wT&&t[wT]||t["@@iterator"],typeof t=="function"?t:null)}var z1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H1=Object.assign,W1={};function Eu(t,e,n){this.props=t,this.context=e,this.refs=W1,this.updater=n||z1}Eu.prototype.isReactComponent={};Eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q1(){}q1.prototype=Eu.prototype;function H0(t,e,n){this.props=t,this.context=e,this.refs=W1,this.updater=n||z1}var W0=H0.prototype=new q1;W0.constructor=H0;H1(W0,Eu.prototype);W0.isPureReactComponent=!0;var _T=Array.isArray,G1=Object.prototype.hasOwnProperty,q0={current:null},K1={key:!0,ref:!0,__self:!0,__source:!0};function Q1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)G1.call(e,r)&&!K1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:$f,type:t,key:i,ref:o,props:s,_owner:q0.current}}function l5(t,e){return{$$typeof:$f,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G0(t){return typeof t=="object"&&t!==null&&t.$$typeof===$f}function c5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bT=/\/+/g;function By(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c5(""+t.key):e.toString(36)}function Tp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $f:case ZB:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+By(o,0):r,_T(s)?(n="",t!=null&&(n=t.replace(bT,"$&/")+"/"),Tp(s,e,n,"",function(c){return c})):s!=null&&(G0(s)&&(s=l5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bT,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_T(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+By(i,a);o+=Tp(i,e,n,l,s)}else if(l=a5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+By(i,a++),o+=Tp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uh(t,e,n){if(t==null)return t;var r=[],s=0;return Tp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function u5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wn={current:null},Ap={transition:null},d5={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:Ap,ReactCurrentOwner:q0};function Y1(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Uh,forEach:function(t,e,n){Uh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uh(t,function(){e++}),e},toArray:function(t){return Uh(t,function(e){return e})||[]},only:function(t){if(!G0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Eu;Ye.Fragment=XB;Ye.Profiler=e5;Ye.PureComponent=H0;Ye.StrictMode=JB;Ye.Suspense=s5;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d5;Ye.act=Y1;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=q0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)G1.call(e,l)&&!K1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$f,type:t.type,key:s,ref:i,props:r,_owner:o}};Ye.createContext=function(t){return t={$$typeof:n5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t5,_context:t},t.Consumer=t};Ye.createElement=Q1;Ye.createFactory=function(t){var e=Q1.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:r5,render:t}};Ye.isValidElement=G0;Ye.lazy=function(t){return{$$typeof:o5,_payload:{_status:-1,_result:t},_init:u5}};Ye.memo=function(t,e){return{$$typeof:i5,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Ap.transition;Ap.transition={};try{t()}finally{Ap.transition=e}};Ye.unstable_act=Y1;Ye.useCallback=function(t,e){return Wn.current.useCallback(t,e)};Ye.useContext=function(t){return Wn.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Wn.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return Wn.current.useEffect(t,e)};Ye.useId=function(){return Wn.current.useId()};Ye.useImperativeHandle=function(t,e,n){return Wn.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return Wn.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return Wn.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return Wn.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return Wn.current.useReducer(t,e,n)};Ye.useRef=function(t){return Wn.current.useRef(t)};Ye.useState=function(t){return Wn.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return Wn.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return Wn.current.useTransition()};Ye.version="18.3.1";$1.exports=Ye;var y=$1.exports;const X=U1(y),Z1=YB({__proto__:null,default:X},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5=y,h5=Symbol.for("react.element"),p5=Symbol.for("react.fragment"),m5=Object.prototype.hasOwnProperty,g5=f5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v5={key:!0,ref:!0,__self:!0,__source:!0};function X1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)m5.call(e,r)&&!v5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:h5,type:t,key:i,ref:o,props:s,_owner:g5.current}}Yg.Fragment=p5;Yg.jsx=X1;Yg.jsxs=X1;B1.exports=Yg;var d=B1.exports,J1={exports:{}},Mr={},eD={exports:{}},tD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var Q=F.length;F.push(j);e:for(;0<Q;){var se=Q-1>>>1,q=F[se];if(0<s(q,j))F[se]=j,F[Q]=q,Q=se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],Q=F.pop();if(Q!==j){F[0]=Q;e:for(var se=0,q=F.length,J=q>>>1;se<J;){var ie=2*(se+1)-1,Ee=F[ie],$=ie+1,H=F[$];if(0>s(Ee,Q))$<q&&0>s(H,Ee)?(F[se]=H,F[$]=Q,se=$):(F[se]=Ee,F[ie]=Q,se=ie);else if($<q&&0>s(H,Q))F[se]=H,F[$]=Q,se=$;else break e}}return j}function s(F,j){var Q=F.sortIndex-j.sortIndex;return Q!==0?Q:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=F)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function A(F){if(g=!1,x(F),!w)if(n(l)!==null)w=!0,te(P);else{var j=n(c);j!==null&&K(A,j.startTime-F)}}function P(F,j){w=!1,g&&(g=!1,_(S),S=-1),m=!0;var Q=p;try{for(x(j),h=n(l);h!==null&&(!(h.expirationTime>j)||F&&!N());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var q=se(h.expirationTime<=j);j=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),x(j)}else r(l);h=n(l)}if(h!==null)var J=!0;else{var ie=n(c);ie!==null&&K(A,ie.startTime-j),J=!1}return J}finally{h=null,p=Q,m=!1}}var O=!1,T=null,S=-1,R=5,I=-1;function N(){return!(t.unstable_now()-I<R)}function k(){if(T!==null){var F=t.unstable_now();I=F;var j=!0;try{j=T(!0,F)}finally{j?D():(O=!1,T=null)}}else O=!1}var D;if(typeof v=="function")D=function(){v(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=k,D=function(){ae.postMessage(null)}}else D=function(){b(k,0)};function te(F){T=F,O||(O=!0,D())}function K(F,j){S=b(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,te(P))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var Q=p;p=j;try{return F()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=p;p=F;try{return j()}finally{p=Q}},t.unstable_scheduleCallback=function(F,j,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,F={id:u++,callback:j,priorityLevel:F,startTime:Q,expirationTime:q,sortIndex:-1},Q>se?(F.sortIndex=Q,e(c,F),n(l)===null&&F===n(c)&&(g?(_(S),S=-1):g=!0,K(A,Q-se))):(F.sortIndex=q,e(l,F),w||m||(w=!0,te(P))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var j=p;return function(){var Q=p;p=j;try{return F.apply(this,arguments)}finally{p=Q}}}})(tD);eD.exports=tD;var y5=eD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5=y,Pr=y5;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nD=new Set,Kd={};function Sl(t,e){Hc(t,e),Hc(t+"Capture",e)}function Hc(t,e){for(Kd[t]=e,t=0;t<e.length;t++)nD.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g_=Object.prototype.hasOwnProperty,_5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ET={},xT={};function b5(t){return g_.call(xT,t)?!0:g_.call(ET,t)?!1:_5.test(t)?xT[t]=!0:(ET[t]=!0,!1)}function E5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x5(t,e,n,r){if(e===null||typeof e>"u"||E5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yn[t]=new qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yn[e]=new qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yn[t]=new qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yn[t]=new qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yn[t]=new qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yn[t]=new qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yn[t]=new qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yn[t]=new qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yn[t]=new qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var K0=/[\-:]([a-z])/g;function Q0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K0,Q0);yn[e]=new qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K0,Q0);yn[e]=new qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K0,Q0);yn[e]=new qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yn[t]=new qn(t,1,!1,t.toLowerCase(),null,!1,!1)});yn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yn[t]=new qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y0(t,e,n,r){var s=yn.hasOwnProperty(e)?yn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x5(e,n,s,r)&&(n=null),r||s===null?b5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ki=w5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),v_=Symbol.for("react.profiler"),rD=Symbol.for("react.provider"),sD=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),y_=Symbol.for("react.suspense"),w_=Symbol.for("react.suspense_list"),J0=Symbol.for("react.memo"),ho=Symbol.for("react.lazy"),iD=Symbol.for("react.offscreen"),ST=Symbol.iterator;function Qu(t){return t===null||typeof t!="object"?null:(t=ST&&t[ST]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,$y;function ld(t){if($y===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$y=e&&e[1]||""}return`
`+$y+t}var zy=!1;function Hy(t,e){if(!t||zy)return"";zy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ld(t):""}function S5(t){switch(t.tag){case 5:return ld(t.type);case 16:return ld("Lazy");case 13:return ld("Suspense");case 19:return ld("SuspenseList");case 0:case 2:case 15:return t=Hy(t.type,!1),t;case 11:return t=Hy(t.type.render,!1),t;case 1:return t=Hy(t.type,!0),t;default:return""}}function __(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ec:return"Fragment";case Jl:return"Portal";case v_:return"Profiler";case Z0:return"StrictMode";case y_:return"Suspense";case w_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sD:return(t.displayName||"Context")+".Consumer";case rD:return(t._context.displayName||"Context")+".Provider";case X0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J0:return e=t.displayName||null,e!==null?e:__(t.type)||"Memo";case ho:e=t._payload,t=t._init;try{return __(t(e))}catch{}}return null}function C5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return __(e);case 8:return e===Z0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T5(t){var e=oD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $h(t){t._valueTracker||(t._valueTracker=T5(t))}function aD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function om(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function b_(t,e){var n=e.checked;return Lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function CT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lD(t,e){e=e.checked,e!=null&&Y0(t,"checked",e,!1)}function E_(t,e){lD(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x_(t,e.type,n):e.hasOwnProperty("defaultValue")&&x_(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function TT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function x_(t,e,n){(e!=="number"||om(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cd=Array.isArray;function pc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function S_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(cd(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function cD(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zh,dD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A5=["Webkit","ms","Moz","O"];Object.keys(Sd).forEach(function(t){A5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sd[e]=Sd[t]})});function fD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sd.hasOwnProperty(t)&&Sd[t]?(""+e).trim():e+"px"}function hD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var R5=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T_(t,e){if(e){if(R5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function A_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R_=null;function eE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var I_=null,mc=null,gc=null;function IT(t){if(t=Wf(t)){if(typeof I_!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=tv(e),I_(t.stateNode,t.type,e))}}function pD(t){mc?gc?gc.push(t):gc=[t]:mc=t}function mD(){if(mc){var t=mc,e=gc;if(gc=mc=null,IT(t),e)for(t=0;t<e.length;t++)IT(e[t])}}function gD(t,e){return t(e)}function vD(){}var Wy=!1;function yD(t,e,n){if(Wy)return t(e,n);Wy=!0;try{return gD(t,e,n)}finally{Wy=!1,(mc!==null||gc!==null)&&(vD(),mD())}}function Yd(t,e){var n=t.stateNode;if(n===null)return null;var r=tv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var k_=!1;if(Ni)try{var Yu={};Object.defineProperty(Yu,"passive",{get:function(){k_=!0}}),window.addEventListener("test",Yu,Yu),window.removeEventListener("test",Yu,Yu)}catch{k_=!1}function I5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Cd=!1,am=null,lm=!1,D_=null,k5={onError:function(t){Cd=!0,am=t}};function D5(t,e,n,r,s,i,o,a,l){Cd=!1,am=null,I5.apply(k5,arguments)}function P5(t,e,n,r,s,i,o,a,l){if(D5.apply(this,arguments),Cd){if(Cd){var c=am;Cd=!1,am=null}else throw Error(ce(198));lm||(lm=!0,D_=c)}}function Cl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kT(t){if(Cl(t)!==t)throw Error(ce(188))}function N5(t){var e=t.alternate;if(!e){if(e=Cl(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kT(s),t;if(i===r)return kT(s),e;i=i.sibling}throw Error(ce(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function _D(t){return t=N5(t),t!==null?bD(t):null}function bD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bD(t);if(e!==null)return e;t=t.sibling}return null}var ED=Pr.unstable_scheduleCallback,DT=Pr.unstable_cancelCallback,M5=Pr.unstable_shouldYield,O5=Pr.unstable_requestPaint,Wt=Pr.unstable_now,j5=Pr.unstable_getCurrentPriorityLevel,tE=Pr.unstable_ImmediatePriority,xD=Pr.unstable_UserBlockingPriority,cm=Pr.unstable_NormalPriority,L5=Pr.unstable_LowPriority,SD=Pr.unstable_IdlePriority,Zg=null,qs=null;function V5(t){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(Zg,t,void 0,(t.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:B5,F5=Math.log,U5=Math.LN2;function B5(t){return t>>>=0,t===0?32:31-(F5(t)/U5|0)|0}var Hh=64,Wh=4194304;function ud(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function um(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ud(a):(i&=o,i!==0&&(r=ud(i)))}else o=n&~s,o!==0?r=ud(o):i!==0&&(r=ud(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fs(e),s=1<<n,r|=t[n],e&=~s;return r}function $5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=$5(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function P_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CD(){var t=Hh;return Hh<<=1,!(Hh&4194240)&&(Hh=64),t}function qy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fs(e),t[e]=n}function H5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function nE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mt=0;function TD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AD,rE,RD,ID,kD,N_=!1,qh=[],Vo=null,Fo=null,Uo=null,Zd=new Map,Xd=new Map,go=[],W5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PT(t,e){switch(t){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Zd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xd.delete(e.pointerId)}}function Zu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wf(e),e!==null&&rE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function q5(t,e,n,r,s){switch(e){case"focusin":return Vo=Zu(Vo,t,e,n,r,s),!0;case"dragenter":return Fo=Zu(Fo,t,e,n,r,s),!0;case"mouseover":return Uo=Zu(Uo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zd.set(i,Zu(Zd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xd.set(i,Zu(Xd.get(i)||null,t,e,n,r,s)),!0}return!1}function DD(t){var e=Va(t.target);if(e!==null){var n=Cl(e);if(n!==null){if(e=n.tag,e===13){if(e=wD(n),e!==null){t.blockedOn=e,kD(t.priority,function(){RD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=M_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);R_=r,n.target.dispatchEvent(r),R_=null}else return e=Wf(n),e!==null&&rE(e),t.blockedOn=n,!1;e.shift()}return!0}function NT(t,e,n){Rp(t)&&n.delete(e)}function G5(){N_=!1,Vo!==null&&Rp(Vo)&&(Vo=null),Fo!==null&&Rp(Fo)&&(Fo=null),Uo!==null&&Rp(Uo)&&(Uo=null),Zd.forEach(NT),Xd.forEach(NT)}function Xu(t,e){t.blockedOn===e&&(t.blockedOn=null,N_||(N_=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,G5)))}function Jd(t){function e(s){return Xu(s,t)}if(0<qh.length){Xu(qh[0],t);for(var n=1;n<qh.length;n++){var r=qh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vo!==null&&Xu(Vo,t),Fo!==null&&Xu(Fo,t),Uo!==null&&Xu(Uo,t),Zd.forEach(e),Xd.forEach(e),n=0;n<go.length;n++)r=go[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<go.length&&(n=go[0],n.blockedOn===null);)DD(n),n.blockedOn===null&&go.shift()}var vc=Ki.ReactCurrentBatchConfig,dm=!0;function K5(t,e,n,r){var s=mt,i=vc.transition;vc.transition=null;try{mt=1,sE(t,e,n,r)}finally{mt=s,vc.transition=i}}function Q5(t,e,n,r){var s=mt,i=vc.transition;vc.transition=null;try{mt=4,sE(t,e,n,r)}finally{mt=s,vc.transition=i}}function sE(t,e,n,r){if(dm){var s=M_(t,e,n,r);if(s===null)nw(t,e,r,fm,n),PT(t,r);else if(q5(s,t,e,n,r))r.stopPropagation();else if(PT(t,r),e&4&&-1<W5.indexOf(t)){for(;s!==null;){var i=Wf(s);if(i!==null&&AD(i),i=M_(t,e,n,r),i===null&&nw(t,e,r,fm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nw(t,e,r,null,n)}}var fm=null;function M_(t,e,n,r){if(fm=null,t=eE(r),t=Va(t),t!==null)if(e=Cl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fm=t,null}function PD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j5()){case tE:return 1;case xD:return 4;case cm:case L5:return 16;case SD:return 536870912;default:return 16}default:return 16}}var Ro=null,iE=null,Ip=null;function ND(){if(Ip)return Ip;var t,e=iE,n=e.length,r,s="value"in Ro?Ro.value:Ro.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ip=s.slice(t,1<r?1-r:void 0)}function kp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gh(){return!0}function MT(){return!1}function Or(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gh:MT,this.isPropagationStopped=MT,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),e}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oE=Or(xu),Hf=Lt({},xu,{view:0,detail:0}),Y5=Or(Hf),Gy,Ky,Ju,Xg=Lt({},Hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ju&&(Ju&&t.type==="mousemove"?(Gy=t.screenX-Ju.screenX,Ky=t.screenY-Ju.screenY):Ky=Gy=0,Ju=t),Gy)},movementY:function(t){return"movementY"in t?t.movementY:Ky}}),OT=Or(Xg),Z5=Lt({},Xg,{dataTransfer:0}),X5=Or(Z5),J5=Lt({},Hf,{relatedTarget:0}),Qy=Or(J5),e$=Lt({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),t$=Or(e$),n$=Lt({},xu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r$=Or(n$),s$=Lt({},xu,{data:0}),jT=Or(s$),i$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a$[t])?!!e[t]:!1}function aE(){return l$}var c$=Lt({},Hf,{key:function(t){if(t.key){var e=i$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aE,charCode:function(t){return t.type==="keypress"?kp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u$=Or(c$),d$=Lt({},Xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LT=Or(d$),f$=Lt({},Hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aE}),h$=Or(f$),p$=Lt({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),m$=Or(p$),g$=Lt({},Xg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v$=Or(g$),y$=[9,13,27,32],lE=Ni&&"CompositionEvent"in window,Td=null;Ni&&"documentMode"in document&&(Td=document.documentMode);var w$=Ni&&"TextEvent"in window&&!Td,MD=Ni&&(!lE||Td&&8<Td&&11>=Td),VT=" ",FT=!1;function OD(t,e){switch(t){case"keyup":return y$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tc=!1;function _$(t,e){switch(t){case"compositionend":return jD(e);case"keypress":return e.which!==32?null:(FT=!0,VT);case"textInput":return t=e.data,t===VT&&FT?null:t;default:return null}}function b$(t,e){if(tc)return t==="compositionend"||!lE&&OD(t,e)?(t=ND(),Ip=iE=Ro=null,tc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MD&&e.locale!=="ko"?null:e.data;default:return null}}var E$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E$[t.type]:e==="textarea"}function LD(t,e,n,r){pD(r),e=hm(e,"onChange"),0<e.length&&(n=new oE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ad=null,ef=null;function x$(t){KD(t,0)}function Jg(t){var e=sc(t);if(aD(e))return t}function S$(t,e){if(t==="change")return e}var VD=!1;if(Ni){var Yy;if(Ni){var Zy="oninput"in document;if(!Zy){var BT=document.createElement("div");BT.setAttribute("oninput","return;"),Zy=typeof BT.oninput=="function"}Yy=Zy}else Yy=!1;VD=Yy&&(!document.documentMode||9<document.documentMode)}function $T(){Ad&&(Ad.detachEvent("onpropertychange",FD),ef=Ad=null)}function FD(t){if(t.propertyName==="value"&&Jg(ef)){var e=[];LD(e,ef,t,eE(t)),yD(x$,e)}}function C$(t,e,n){t==="focusin"?($T(),Ad=e,ef=n,Ad.attachEvent("onpropertychange",FD)):t==="focusout"&&$T()}function T$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jg(ef)}function A$(t,e){if(t==="click")return Jg(e)}function R$(t,e){if(t==="input"||t==="change")return Jg(e)}function I$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vs=typeof Object.is=="function"?Object.is:I$;function tf(t,e){if(vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!g_.call(e,s)||!vs(t[s],e[s]))return!1}return!0}function zT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HT(t,e){var n=zT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zT(n)}}function UD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BD(){for(var t=window,e=om();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=om(t.document)}return e}function cE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k$(t){var e=BD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UD(n.ownerDocument.documentElement,n)){if(r!==null&&cE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=HT(n,i);var o=HT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D$=Ni&&"documentMode"in document&&11>=document.documentMode,nc=null,O_=null,Rd=null,j_=!1;function WT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j_||nc==null||nc!==om(r)||(r=nc,"selectionStart"in r&&cE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rd&&tf(Rd,r)||(Rd=r,r=hm(O_,"onSelect"),0<r.length&&(e=new oE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nc)))}function Kh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rc={animationend:Kh("Animation","AnimationEnd"),animationiteration:Kh("Animation","AnimationIteration"),animationstart:Kh("Animation","AnimationStart"),transitionend:Kh("Transition","TransitionEnd")},Xy={},$D={};Ni&&($D=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function ev(t){if(Xy[t])return Xy[t];if(!rc[t])return t;var e=rc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $D)return Xy[t]=e[n];return t}var zD=ev("animationend"),HD=ev("animationiteration"),WD=ev("animationstart"),qD=ev("transitionend"),GD=new Map,qT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){GD.set(t,e),Sl(e,[t])}for(var Jy=0;Jy<qT.length;Jy++){var ew=qT[Jy],P$=ew.toLowerCase(),N$=ew[0].toUpperCase()+ew.slice(1);pa(P$,"on"+N$)}pa(zD,"onAnimationEnd");pa(HD,"onAnimationIteration");pa(WD,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(qD,"onTransitionEnd");Hc("onMouseEnter",["mouseout","mouseover"]);Hc("onMouseLeave",["mouseout","mouseover"]);Hc("onPointerEnter",["pointerout","pointerover"]);Hc("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M$=new Set("cancel close invalid load scroll toggle".split(" ").concat(dd));function GT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P5(r,e,void 0,t),t.currentTarget=null}function KD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;GT(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;GT(s,a,c),i=l}}}if(lm)throw t=D_,lm=!1,D_=null,t}function St(t,e){var n=e[B_];n===void 0&&(n=e[B_]=new Set);var r=t+"__bubble";n.has(r)||(QD(e,t,2,!1),n.add(r))}function tw(t,e,n){var r=0;e&&(r|=4),QD(n,t,r,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[Qh]){t[Qh]=!0,nD.forEach(function(n){n!=="selectionchange"&&(M$.has(n)||tw(n,!1,t),tw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,tw("selectionchange",!1,e))}}function QD(t,e,n,r){switch(PD(e)){case 1:var s=K5;break;case 4:s=Q5;break;default:s=sE}n=s.bind(null,e,n,t),s=void 0,!k_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Va(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}yD(function(){var c=i,u=eE(n),h=[];e:{var p=GD.get(t);if(p!==void 0){var m=oE,w=t;switch(t){case"keypress":if(kp(n)===0)break e;case"keydown":case"keyup":m=u$;break;case"focusin":w="focus",m=Qy;break;case"focusout":w="blur",m=Qy;break;case"beforeblur":case"afterblur":m=Qy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=OT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=X5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=h$;break;case zD:case HD:case WD:m=t$;break;case qD:m=m$;break;case"scroll":m=Y5;break;case"wheel":m=v$;break;case"copy":case"cut":case"paste":m=r$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=LT}var g=(e&4)!==0,b=!g&&t==="scroll",_=g?p!==null?p+"Capture":null:p;g=[];for(var v=c,x;v!==null;){x=v;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,_!==null&&(A=Yd(v,_),A!=null&&g.push(rf(v,A,x)))),b)break;v=v.return}0<g.length&&(p=new m(p,w,null,n,u),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==R_&&(w=n.relatedTarget||n.fromElement)&&(Va(w)||w[Mi]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?Va(w):null,w!==null&&(b=Cl(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(g=OT,A="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=LT,A="onPointerLeave",_="onPointerEnter",v="pointer"),b=m==null?p:sc(m),x=w==null?p:sc(w),p=new g(A,v+"leave",m,n,u),p.target=b,p.relatedTarget=x,A=null,Va(u)===c&&(g=new g(_,v+"enter",w,n,u),g.target=x,g.relatedTarget=b,A=g),b=A,m&&w)t:{for(g=m,_=w,v=0,x=g;x;x=Bl(x))v++;for(x=0,A=_;A;A=Bl(A))x++;for(;0<v-x;)g=Bl(g),v--;for(;0<x-v;)_=Bl(_),x--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=Bl(g),_=Bl(_)}g=null}else g=null;m!==null&&KT(h,p,m,g,!1),w!==null&&b!==null&&KT(h,b,w,g,!0)}}e:{if(p=c?sc(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=S$;else if(UT(p))if(VD)P=R$;else{P=T$;var O=C$}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=A$);if(P&&(P=P(t,c))){LD(h,P,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&x_(p,"number",p.value)}switch(O=c?sc(c):window,t){case"focusin":(UT(O)||O.contentEditable==="true")&&(nc=O,O_=c,Rd=null);break;case"focusout":Rd=O_=nc=null;break;case"mousedown":j_=!0;break;case"contextmenu":case"mouseup":case"dragend":j_=!1,WT(h,n,u);break;case"selectionchange":if(D$)break;case"keydown":case"keyup":WT(h,n,u)}var T;if(lE)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else tc?OD(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(MD&&n.locale!=="ko"&&(tc||S!=="onCompositionStart"?S==="onCompositionEnd"&&tc&&(T=ND()):(Ro=u,iE="value"in Ro?Ro.value:Ro.textContent,tc=!0)),O=hm(c,S),0<O.length&&(S=new jT(S,t,null,n,u),h.push({event:S,listeners:O}),T?S.data=T:(T=jD(n),T!==null&&(S.data=T)))),(T=w$?_$(t,n):b$(t,n))&&(c=hm(c,"onBeforeInput"),0<c.length&&(u=new jT("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}KD(h,e)})}function rf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yd(t,n),i!=null&&r.unshift(rf(t,i,s)),i=Yd(t,e),i!=null&&r.push(rf(t,i,s))),t=t.return}return r}function Bl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Yd(n,i),l!=null&&o.unshift(rf(n,l,a))):s||(l=Yd(n,i),l!=null&&o.push(rf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var O$=/\r\n?/g,j$=/\u0000|\uFFFD/g;function QT(t){return(typeof t=="string"?t:""+t).replace(O$,`
`).replace(j$,"")}function Yh(t,e,n){if(e=QT(e),QT(t)!==e&&n)throw Error(ce(425))}function pm(){}var L_=null,V_=null;function F_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U_=typeof setTimeout=="function"?setTimeout:void 0,L$=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,V$=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(t){return YT.resolve(null).then(t).catch(F$)}:U_;function F$(t){setTimeout(function(){throw t})}function rw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Jd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jd(e)}function Bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Su=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Su,sf="__reactProps$"+Su,Mi="__reactContainer$"+Su,B_="__reactEvents$"+Su,U$="__reactListeners$"+Su,B$="__reactHandles$"+Su;function Va(t){var e=t[Vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mi]||n[Vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZT(t);t!==null;){if(n=t[Vs])return n;t=ZT(t)}return e}t=n,n=t.parentNode}return null}function Wf(t){return t=t[Vs]||t[Mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function tv(t){return t[sf]||null}var $_=[],ic=-1;function ma(t){return{current:t}}function Tt(t){0>ic||(t.current=$_[ic],$_[ic]=null,ic--)}function yt(t,e){ic++,$_[ic]=t.current,t.current=e}var ta={},Pn=ma(ta),fr=ma(!1),nl=ta;function Wc(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function hr(t){return t=t.childContextTypes,t!=null}function mm(){Tt(fr),Tt(Pn)}function XT(t,e,n){if(Pn.current!==ta)throw Error(ce(168));yt(Pn,e),yt(fr,n)}function YD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ce(108,C5(t)||"Unknown",s));return Lt({},n,r)}function gm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,nl=Pn.current,yt(Pn,t),yt(fr,fr.current),!0}function JT(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=YD(t,e,nl),r.__reactInternalMemoizedMergedChildContext=t,Tt(fr),Tt(Pn),yt(Pn,t)):Tt(fr),yt(fr,n)}var wi=null,nv=!1,sw=!1;function ZD(t){wi===null?wi=[t]:wi.push(t)}function $$(t){nv=!0,ZD(t)}function ga(){if(!sw&&wi!==null){sw=!0;var t=0,e=mt;try{var n=wi;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wi=null,nv=!1}catch(s){throw wi!==null&&(wi=wi.slice(t+1)),ED(tE,ga),s}finally{mt=e,sw=!1}}return null}var oc=[],ac=0,vm=null,ym=0,Br=[],$r=0,rl=null,bi=1,Ei="";function Da(t,e){oc[ac++]=ym,oc[ac++]=vm,vm=t,ym=e}function XD(t,e,n){Br[$r++]=bi,Br[$r++]=Ei,Br[$r++]=rl,rl=t;var r=bi;t=Ei;var s=32-fs(r)-1;r&=~(1<<s),n+=1;var i=32-fs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bi=1<<32-fs(e)+s|n<<s|r,Ei=i+t}else bi=1<<i|n<<s|r,Ei=t}function uE(t){t.return!==null&&(Da(t,1),XD(t,1,0))}function dE(t){for(;t===vm;)vm=oc[--ac],oc[ac]=null,ym=oc[--ac],oc[ac]=null;for(;t===rl;)rl=Br[--$r],Br[$r]=null,Ei=Br[--$r],Br[$r]=null,bi=Br[--$r],Br[$r]=null}var Rr=null,Tr=null,Rt=!1,ls=null;function JD(t,e){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rr=t,Tr=Bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rr=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rl!==null?{id:bi,overflow:Ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rr=t,Tr=null,!0):!1;default:return!1}}function z_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function H_(t){if(Rt){var e=Tr;if(e){var n=e;if(!eA(t,e)){if(z_(t))throw Error(ce(418));e=Bo(n.nextSibling);var r=Rr;e&&eA(t,e)?JD(r,n):(t.flags=t.flags&-4097|2,Rt=!1,Rr=t)}}else{if(z_(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Rt=!1,Rr=t}}}function tA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rr=t}function Zh(t){if(t!==Rr)return!1;if(!Rt)return tA(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F_(t.type,t.memoizedProps)),e&&(e=Tr)){if(z_(t))throw eP(),Error(ce(418));for(;e;)JD(t,e),e=Bo(e.nextSibling)}if(tA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=Bo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Rr?Bo(t.stateNode.nextSibling):null;return!0}function eP(){for(var t=Tr;t;)t=Bo(t.nextSibling)}function qc(){Tr=Rr=null,Rt=!1}function fE(t){ls===null?ls=[t]:ls.push(t)}var z$=Ki.ReactCurrentBatchConfig;function ed(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Xh(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nA(t){var e=t._init;return e(t._payload)}function tP(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Wo(_,v),_.index=0,_.sibling=null,_}function i(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,A){return v===null||v.tag!==6?(v=dw(x,_.mode,A),v.return=_,v):(v=s(v,x),v.return=_,v)}function l(_,v,x,A){var P=x.type;return P===ec?u(_,v,x.props.children,A,x.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ho&&nA(P)===v.type)?(A=s(v,x.props),A.ref=ed(_,v,x),A.return=_,A):(A=Lp(x.type,x.key,x.props,null,_.mode,A),A.ref=ed(_,v,x),A.return=_,A)}function c(_,v,x,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=fw(x,_.mode,A),v.return=_,v):(v=s(v,x.children||[]),v.return=_,v)}function u(_,v,x,A,P){return v===null||v.tag!==7?(v=Ja(x,_.mode,A,P),v.return=_,v):(v=s(v,x),v.return=_,v)}function h(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=dw(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bh:return x=Lp(v.type,v.key,v.props,null,_.mode,x),x.ref=ed(_,null,v),x.return=_,x;case Jl:return v=fw(v,_.mode,x),v.return=_,v;case ho:var A=v._init;return h(_,A(v._payload),x)}if(cd(v)||Qu(v))return v=Ja(v,_.mode,x,null),v.return=_,v;Xh(_,v)}return null}function p(_,v,x,A){var P=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(_,v,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bh:return x.key===P?l(_,v,x,A):null;case Jl:return x.key===P?c(_,v,x,A):null;case ho:return P=x._init,p(_,v,P(x._payload),A)}if(cd(x)||Qu(x))return P!==null?null:u(_,v,x,A,null);Xh(_,x)}return null}function m(_,v,x,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(x)||null,a(v,_,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Bh:return _=_.get(A.key===null?x:A.key)||null,l(v,_,A,P);case Jl:return _=_.get(A.key===null?x:A.key)||null,c(v,_,A,P);case ho:var O=A._init;return m(_,v,x,O(A._payload),P)}if(cd(A)||Qu(A))return _=_.get(x)||null,u(v,_,A,P,null);Xh(v,A)}return null}function w(_,v,x,A){for(var P=null,O=null,T=v,S=v=0,R=null;T!==null&&S<x.length;S++){T.index>S?(R=T,T=null):R=T.sibling;var I=p(_,T,x[S],A);if(I===null){T===null&&(T=R);break}t&&T&&I.alternate===null&&e(_,T),v=i(I,v,S),O===null?P=I:O.sibling=I,O=I,T=R}if(S===x.length)return n(_,T),Rt&&Da(_,S),P;if(T===null){for(;S<x.length;S++)T=h(_,x[S],A),T!==null&&(v=i(T,v,S),O===null?P=T:O.sibling=T,O=T);return Rt&&Da(_,S),P}for(T=r(_,T);S<x.length;S++)R=m(T,_,S,x[S],A),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?S:R.key),v=i(R,v,S),O===null?P=R:O.sibling=R,O=R);return t&&T.forEach(function(N){return e(_,N)}),Rt&&Da(_,S),P}function g(_,v,x,A){var P=Qu(x);if(typeof P!="function")throw Error(ce(150));if(x=P.call(x),x==null)throw Error(ce(151));for(var O=P=null,T=v,S=v=0,R=null,I=x.next();T!==null&&!I.done;S++,I=x.next()){T.index>S?(R=T,T=null):R=T.sibling;var N=p(_,T,I.value,A);if(N===null){T===null&&(T=R);break}t&&T&&N.alternate===null&&e(_,T),v=i(N,v,S),O===null?P=N:O.sibling=N,O=N,T=R}if(I.done)return n(_,T),Rt&&Da(_,S),P;if(T===null){for(;!I.done;S++,I=x.next())I=h(_,I.value,A),I!==null&&(v=i(I,v,S),O===null?P=I:O.sibling=I,O=I);return Rt&&Da(_,S),P}for(T=r(_,T);!I.done;S++,I=x.next())I=m(T,_,S,I.value,A),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),v=i(I,v,S),O===null?P=I:O.sibling=I,O=I);return t&&T.forEach(function(k){return e(_,k)}),Rt&&Da(_,S),P}function b(_,v,x,A){if(typeof x=="object"&&x!==null&&x.type===ec&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Bh:e:{for(var P=x.key,O=v;O!==null;){if(O.key===P){if(P=x.type,P===ec){if(O.tag===7){n(_,O.sibling),v=s(O,x.props.children),v.return=_,_=v;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ho&&nA(P)===O.type){n(_,O.sibling),v=s(O,x.props),v.ref=ed(_,O,x),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}x.type===ec?(v=Ja(x.props.children,_.mode,A,x.key),v.return=_,_=v):(A=Lp(x.type,x.key,x.props,null,_.mode,A),A.ref=ed(_,v,x),A.return=_,_=A)}return o(_);case Jl:e:{for(O=x.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=s(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=fw(x,_.mode,A),v.return=_,_=v}return o(_);case ho:return O=x._init,b(_,v,O(x._payload),A)}if(cd(x))return w(_,v,x,A);if(Qu(x))return g(_,v,x,A);Xh(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,x),v.return=_,_=v):(n(_,v),v=dw(x,_.mode,A),v.return=_,_=v),o(_)):n(_,v)}return b}var Gc=tP(!0),nP=tP(!1),wm=ma(null),_m=null,lc=null,hE=null;function pE(){hE=lc=_m=null}function mE(t){var e=wm.current;Tt(wm),t._currentValue=e}function W_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yc(t,e){_m=t,hE=lc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Kr(t){var e=t._currentValue;if(hE!==t)if(t={context:t,memoizedValue:e,next:null},lc===null){if(_m===null)throw Error(ce(308));lc=t,_m.dependencies={lanes:0,firstContext:t}}else lc=lc.next=t;return e}var Fa=null;function gE(t){Fa===null?Fa=[t]:Fa.push(t)}function rP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gE(e)):(n.next=s.next,s.next=n),e.interleaved=n,Oi(t,r)}function Oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var po=!1;function vE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $o(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Oi(t,n)}return s=r.interleaved,s===null?(e.next=e,gE(r)):(e.next=s.next,s.next=e),r.interleaved=e,Oi(t,n)}function Dp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nE(t,n)}}function rA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bm(t,e,n,r){var s=t.updateQueue;po=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,g=a;switch(p=e,m=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=Lt({},h,p);break e;case 2:po=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=h}}function sA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ce(191,s));s.call(r)}}}var qf={},Gs=ma(qf),of=ma(qf),af=ma(qf);function Ua(t){if(t===qf)throw Error(ce(174));return t}function yE(t,e){switch(yt(af,e),yt(of,t),yt(Gs,qf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:C_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=C_(e,t)}Tt(Gs),yt(Gs,e)}function Kc(){Tt(Gs),Tt(of),Tt(af)}function iP(t){Ua(af.current);var e=Ua(Gs.current),n=C_(e,t.type);e!==n&&(yt(of,t),yt(Gs,n))}function wE(t){of.current===t&&(Tt(Gs),Tt(of))}var Pt=ma(0);function Em(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iw=[];function _E(){for(var t=0;t<iw.length;t++)iw[t]._workInProgressVersionPrimary=null;iw.length=0}var Pp=Ki.ReactCurrentDispatcher,ow=Ki.ReactCurrentBatchConfig,sl=0,Ot=null,Xt=null,an=null,xm=!1,Id=!1,lf=0,H$=0;function xn(){throw Error(ce(321))}function bE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vs(t[n],e[n]))return!1;return!0}function EE(t,e,n,r,s,i){if(sl=i,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pp.current=t===null||t.memoizedState===null?K$:Q$,t=n(r,s),Id){i=0;do{if(Id=!1,lf=0,25<=i)throw Error(ce(301));i+=1,an=Xt=null,e.updateQueue=null,Pp.current=Y$,t=n(r,s)}while(Id)}if(Pp.current=Sm,e=Xt!==null&&Xt.next!==null,sl=0,an=Xt=Ot=null,xm=!1,e)throw Error(ce(300));return t}function xE(){var t=lf!==0;return lf=0,t}function Ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ot.memoizedState=an=t:an=an.next=t,an}function Qr(){if(Xt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=an===null?Ot.memoizedState:an.next;if(e!==null)an=e,Xt=t;else{if(t===null)throw Error(ce(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},an===null?Ot.memoizedState=an=t:an=an.next=t}return an}function cf(t,e){return typeof e=="function"?e(t):e}function aw(t){var e=Qr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=Xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((sl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ot.lanes|=u,il|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,vs(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ot.lanes|=i,il|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lw(t){var e=Qr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);vs(i,e.memoizedState)||(cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function oP(){}function aP(t,e){var n=Ot,r=Qr(),s=e(),i=!vs(r.memoizedState,s);if(i&&(r.memoizedState=s,cr=!0),r=r.queue,SE(uP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,uf(9,cP.bind(null,n,r,s,e),void 0,null),ln===null)throw Error(ce(349));sl&30||lP(n,e,s)}return s}function lP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cP(t,e,n,r){e.value=n,e.getSnapshot=r,dP(e)&&fP(t)}function uP(t,e,n){return n(function(){dP(e)&&fP(t)})}function dP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vs(t,n)}catch{return!0}}function fP(t){var e=Oi(t,1);e!==null&&hs(e,t,1,-1)}function iA(t){var e=Ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cf,lastRenderedState:t},e.queue=t,t=t.dispatch=G$.bind(null,Ot,t),[e.memoizedState,t]}function uf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hP(){return Qr().memoizedState}function Np(t,e,n,r){var s=Ps();Ot.flags|=t,s.memoizedState=uf(1|e,n,void 0,r===void 0?null:r)}function rv(t,e,n,r){var s=Qr();r=r===void 0?null:r;var i=void 0;if(Xt!==null){var o=Xt.memoizedState;if(i=o.destroy,r!==null&&bE(r,o.deps)){s.memoizedState=uf(e,n,i,r);return}}Ot.flags|=t,s.memoizedState=uf(1|e,n,i,r)}function oA(t,e){return Np(8390656,8,t,e)}function SE(t,e){return rv(2048,8,t,e)}function pP(t,e){return rv(4,2,t,e)}function mP(t,e){return rv(4,4,t,e)}function gP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vP(t,e,n){return n=n!=null?n.concat([t]):null,rv(4,4,gP.bind(null,e,t),n)}function CE(){}function yP(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wP(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _P(t,e,n){return sl&21?(vs(n,e)||(n=CD(),Ot.lanes|=n,il|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function W$(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=ow.transition;ow.transition={};try{t(!1),e()}finally{mt=n,ow.transition=r}}function bP(){return Qr().memoizedState}function q$(t,e,n){var r=Ho(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EP(t))xP(e,n);else if(n=rP(t,e,n,r),n!==null){var s=$n();hs(n,t,r,s),SP(n,e,r)}}function G$(t,e,n){var r=Ho(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EP(t))xP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vs(a,o)){var l=e.interleaved;l===null?(s.next=s,gE(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=rP(t,e,s,r),n!==null&&(s=$n(),hs(n,t,r,s),SP(n,e,r))}}function EP(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function xP(t,e){Id=xm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nE(t,n)}}var Sm={readContext:Kr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},K$={readContext:Kr,useCallback:function(t,e){return Ps().memoizedState=[t,e===void 0?null:e],t},useContext:Kr,useEffect:oA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Np(4194308,4,gP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Np(4194308,4,t,e)},useInsertionEffect:function(t,e){return Np(4,2,t,e)},useMemo:function(t,e){var n=Ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q$.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=Ps();return t={current:t},e.memoizedState=t},useState:iA,useDebugValue:CE,useDeferredValue:function(t){return Ps().memoizedState=t},useTransition:function(){var t=iA(!1),e=t[0];return t=W$.bind(null,t[1]),Ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ot,s=Ps();if(Rt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),ln===null)throw Error(ce(349));sl&30||lP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,oA(uP.bind(null,r,i,t),[t]),r.flags|=2048,uf(9,cP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ps(),e=ln.identifierPrefix;if(Rt){var n=Ei,r=bi;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q$={readContext:Kr,useCallback:yP,useContext:Kr,useEffect:SE,useImperativeHandle:vP,useInsertionEffect:pP,useLayoutEffect:mP,useMemo:wP,useReducer:aw,useRef:hP,useState:function(){return aw(cf)},useDebugValue:CE,useDeferredValue:function(t){var e=Qr();return _P(e,Xt.memoizedState,t)},useTransition:function(){var t=aw(cf)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:oP,useSyncExternalStore:aP,useId:bP,unstable_isNewReconciler:!1},Y$={readContext:Kr,useCallback:yP,useContext:Kr,useEffect:SE,useImperativeHandle:vP,useInsertionEffect:pP,useLayoutEffect:mP,useMemo:wP,useReducer:lw,useRef:hP,useState:function(){return lw(cf)},useDebugValue:CE,useDeferredValue:function(t){var e=Qr();return Xt===null?e.memoizedState=t:_P(e,Xt.memoizedState,t)},useTransition:function(){var t=lw(cf)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:oP,useSyncExternalStore:aP,useId:bP,unstable_isNewReconciler:!1};function rs(t,e){if(t&&t.defaultProps){e=Lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function q_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sv={isMounted:function(t){return(t=t._reactInternals)?Cl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),s=Ho(t),i=Ai(r,s);i.payload=e,n!=null&&(i.callback=n),e=$o(t,i,s),e!==null&&(hs(e,t,s,r),Dp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),s=Ho(t),i=Ai(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$o(t,i,s),e!==null&&(hs(e,t,s,r),Dp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=Ho(t),s=Ai(n,r);s.tag=2,e!=null&&(s.callback=e),e=$o(t,s,r),e!==null&&(hs(e,t,r,n),Dp(e,t,r))}};function aA(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!tf(n,r)||!tf(s,i):!0}function CP(t,e,n){var r=!1,s=ta,i=e.contextType;return typeof i=="object"&&i!==null?i=Kr(i):(s=hr(e)?nl:Pn.current,r=e.contextTypes,i=(r=r!=null)?Wc(t,s):ta),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sv.enqueueReplaceState(e,e.state,null)}function G_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vE(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Kr(i):(i=hr(e)?nl:Pn.current,s.context=Wc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(q_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&sv.enqueueReplaceState(s,s.state,null),bm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qc(t,e){try{var n="",r=e;do n+=S5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function K_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z$=typeof WeakMap=="function"?WeakMap:Map;function TP(t,e,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tm||(Tm=!0,sb=r),K_(t,e)},n}function AP(t,e,n){n=Ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){K_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){K_(t,e),typeof r!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z$;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dz.bind(null,t,e,n),e.then(t,t))}function uA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dA(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ai(-1,1),e.tag=2,$o(n,e,1))),n.lanes|=1),t)}var X$=Ki.ReactCurrentOwner,cr=!1;function Vn(t,e,n,r){e.child=t===null?nP(e,null,n,r):Gc(e,t.child,n,r)}function fA(t,e,n,r,s){n=n.render;var i=e.ref;return yc(e,s),r=EE(t,e,n,r,i,s),n=xE(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ji(t,e,s)):(Rt&&n&&uE(e),e.flags|=1,Vn(t,e,r,s),e.child)}function hA(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!NE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RP(t,e,i,r,s)):(t=Lp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:tf,n(o,r)&&t.ref===e.ref)return ji(t,e,s)}return e.flags|=1,t=Wo(i,r),t.ref=e.ref,t.return=e,e.child=t}function RP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(tf(i,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,ji(t,e,s)}return Q_(t,e,n,r,s)}function IP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(uc,Er),Er|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(uc,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,yt(uc,Er),Er|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,yt(uc,Er),Er|=r;return Vn(t,e,s,n),e.child}function kP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Q_(t,e,n,r,s){var i=hr(n)?nl:Pn.current;return i=Wc(e,i),yc(e,s),n=EE(t,e,n,r,i,s),r=xE(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ji(t,e,s)):(Rt&&r&&uE(e),e.flags|=1,Vn(t,e,n,s),e.child)}function pA(t,e,n,r,s){if(hr(n)){var i=!0;gm(e)}else i=!1;if(yc(e,s),e.stateNode===null)Mp(t,e),CP(e,n,r),G_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kr(c):(c=hr(n)?nl:Pn.current,c=Wc(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lA(e,o,r,c),po=!1;var p=e.memoizedState;o.state=p,bm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||fr.current||po?(typeof u=="function"&&(q_(e,n,u,r),l=e.memoizedState),(a=po||aA(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rs(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kr(l):(l=hr(n)?nl:Pn.current,l=Wc(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&lA(e,o,r,l),po=!1,p=e.memoizedState,o.state=p,bm(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||fr.current||po?(typeof m=="function"&&(q_(e,n,m,r),w=e.memoizedState),(c=po||aA(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Y_(t,e,n,r,i,s)}function Y_(t,e,n,r,s,i){kP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&JT(e,n,!1),ji(t,e,i);r=e.stateNode,X$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gc(e,t.child,null,i),e.child=Gc(e,null,a,i)):Vn(t,e,a,i),e.memoizedState=r.state,s&&JT(e,n,!0),e.child}function DP(t){var e=t.stateNode;e.pendingContext?XT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XT(t,e.context,!1),yE(t,e.containerInfo)}function mA(t,e,n,r,s){return qc(),fE(s),e.flags|=256,Vn(t,e,n,r),e.child}var Z_={dehydrated:null,treeContext:null,retryLane:0};function X_(t){return{baseLanes:t,cachePool:null,transitions:null}}function PP(t,e,n){var r=e.pendingProps,s=Pt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),yt(Pt,s&1),t===null)return H_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=av(o,r,0,null),t=Ja(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=X_(n),e.memoizedState=Z_,t):TE(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return J$(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wo(a,i):(i=Ja(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?X_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Z_,r}return i=t.child,t=i.sibling,r=Wo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TE(t,e){return e=av({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jh(t,e,n,r){return r!==null&&fE(r),Gc(e,t.child,null,n),t=TE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J$(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=cw(Error(ce(422))),Jh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=av({mode:"visible",children:r.children},s,0,null),i=Ja(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Gc(e,t.child,null,o),e.child.memoizedState=X_(o),e.memoizedState=Z_,i);if(!(e.mode&1))return Jh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ce(419)),r=cw(i,r,void 0),Jh(t,e,o,r)}if(a=(o&t.childLanes)!==0,cr||a){if(r=ln,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Oi(t,s),hs(r,t,s,-1))}return PE(),r=cw(Error(ce(421))),Jh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fz.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tr=Bo(s.nextSibling),Rr=e,Rt=!0,ls=null,t!==null&&(Br[$r++]=bi,Br[$r++]=Ei,Br[$r++]=rl,bi=t.id,Ei=t.overflow,rl=e),e=TE(e,r.children),e.flags|=4096,e)}function gA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),W_(t.return,e,n)}function uw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Vn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gA(t,n,e);else if(t.tag===19)gA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Em(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Em(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uw(e,!0,n,null,i);break;case"together":uw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=Wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ez(t,e,n){switch(e.tag){case 3:DP(e),qc();break;case 5:iP(e);break;case 1:hr(e.type)&&gm(e);break;case 4:yE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;yt(wm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?PP(t,e,n):(yt(Pt,Pt.current&1),t=ji(t,e,n),t!==null?t.sibling:null);yt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,IP(t,e,n)}return ji(t,e,n)}var MP,J_,OP,jP;MP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};J_=function(){};OP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ua(Gs.current);var i=null;switch(n){case"input":s=b_(t,s),r=b_(t,r),i=[];break;case"select":s=Lt({},s,{value:void 0}),r=Lt({},r,{value:void 0}),i=[];break;case"textarea":s=S_(t,s),r=S_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pm)}T_(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&St("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};jP=function(t,e,n,r){n!==r&&(e.flags|=4)};function td(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tz(t,e,n){var r=e.pendingProps;switch(dE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return hr(e.type)&&mm(),Sn(e),null;case 3:return r=e.stateNode,Kc(),Tt(fr),Tt(Pn),_E(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ls!==null&&(ab(ls),ls=null))),J_(t,e),Sn(e),null;case 5:wE(e);var s=Ua(af.current);if(n=e.type,t!==null&&e.stateNode!=null)OP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Sn(e),null}if(t=Ua(Gs.current),Zh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Vs]=e,r[sf]=i,t=(e.mode&1)!==0,n){case"dialog":St("cancel",r),St("close",r);break;case"iframe":case"object":case"embed":St("load",r);break;case"video":case"audio":for(s=0;s<dd.length;s++)St(dd[s],r);break;case"source":St("error",r);break;case"img":case"image":case"link":St("error",r),St("load",r);break;case"details":St("toggle",r);break;case"input":CT(r,i),St("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},St("invalid",r);break;case"textarea":AT(r,i),St("invalid",r)}T_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),s=["children",""+a]):Kd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&St("scroll",r)}switch(n){case"input":$h(r),TT(r,i,!0);break;case"textarea":$h(r),RT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vs]=e,t[sf]=r,MP(t,e,!1,!1),e.stateNode=t;e:{switch(o=A_(n,r),n){case"dialog":St("cancel",t),St("close",t),s=r;break;case"iframe":case"object":case"embed":St("load",t),s=r;break;case"video":case"audio":for(s=0;s<dd.length;s++)St(dd[s],t);s=r;break;case"source":St("error",t),s=r;break;case"img":case"image":case"link":St("error",t),St("load",t),s=r;break;case"details":St("toggle",t),s=r;break;case"input":CT(t,r),s=b_(t,r),St("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Lt({},r,{value:void 0}),St("invalid",t);break;case"textarea":AT(t,r),s=S_(t,r),St("invalid",t);break;default:s=r}T_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hD(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dD(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qd(t,l):typeof l=="number"&&Qd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&St("scroll",t):l!=null&&Y0(t,i,l,o))}switch(n){case"input":$h(t),TT(t,r,!1);break;case"textarea":$h(t),RT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pc(t,!!r.multiple,i,!1):r.defaultValue!=null&&pc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)jP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=Ua(af.current),Ua(Gs.current),Zh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vs]=e,(i=r.nodeValue!==n)&&(t=Rr,t!==null))switch(t.tag){case 3:Yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vs]=e,e.stateNode=r}return Sn(e),null;case 13:if(Tt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&Tr!==null&&e.mode&1&&!(e.flags&128))eP(),qc(),e.flags|=98560,i=!1;else if(i=Zh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[Vs]=e}else qc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),i=!1}else ls!==null&&(ab(ls),ls=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?en===0&&(en=3):PE())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return Kc(),J_(t,e),t===null&&nf(e.stateNode.containerInfo),Sn(e),null;case 10:return mE(e.type._context),Sn(e),null;case 17:return hr(e.type)&&mm(),Sn(e),null;case 19:if(Tt(Pt),i=e.memoizedState,i===null)return Sn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)td(i,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Em(t),o!==null){for(e.flags|=128,td(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yt(Pt,Pt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Wt()>Yc&&(e.flags|=128,r=!0,td(i,!1),e.lanes=4194304)}else{if(!r)if(t=Em(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),td(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Rt)return Sn(e),null}else 2*Wt()-i.renderingStartTime>Yc&&n!==1073741824&&(e.flags|=128,r=!0,td(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Wt(),e.sibling=null,n=Pt.current,yt(Pt,r?n&1|2:n&1),e):(Sn(e),null);case 22:case 23:return DE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function nz(t,e){switch(dE(e),e.tag){case 1:return hr(e.type)&&mm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kc(),Tt(fr),Tt(Pn),_E(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wE(e),null;case 13:if(Tt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));qc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Pt),null;case 4:return Kc(),null;case 10:return mE(e.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var ep=!1,Rn=!1,rz=typeof WeakSet=="function"?WeakSet:Set,be=null;function cc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function eb(t,e,n){try{n()}catch(r){$t(t,e,r)}}var vA=!1;function sz(t,e){if(L_=dm,t=BD(),cE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(V_={focusedElem:t,selectionRange:n},dm=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:rs(e.type,g),b);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(A){$t(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return w=vA,vA=!1,w}function kd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&eb(e,n,i)}s=s.next}while(s!==r)}}function iv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LP(t){var e=t.alternate;e!==null&&(t.alternate=null,LP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vs],delete e[sf],delete e[B_],delete e[U$],delete e[B$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VP(t){return t.tag===5||t.tag===3||t.tag===4}function yA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pm));else if(r!==4&&(t=t.child,t!==null))for(nb(t,e,n),t=t.sibling;t!==null;)nb(t,e,n),t=t.sibling}function rb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rb(t,e,n),t=t.sibling;t!==null;)rb(t,e,n),t=t.sibling}var hn=null,as=!1;function io(t,e,n){for(n=n.child;n!==null;)FP(t,e,n),n=n.sibling}function FP(t,e,n){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(Zg,n)}catch{}switch(n.tag){case 5:Rn||cc(n,e);case 6:var r=hn,s=as;hn=null,io(t,e,n),hn=r,as=s,hn!==null&&(as?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(as?(t=hn,n=n.stateNode,t.nodeType===8?rw(t.parentNode,n):t.nodeType===1&&rw(t,n),Jd(t)):rw(hn,n.stateNode));break;case 4:r=hn,s=as,hn=n.stateNode.containerInfo,as=!0,io(t,e,n),hn=r,as=s;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eb(n,e,o),s=s.next}while(s!==r)}io(t,e,n);break;case 1:if(!Rn&&(cc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$t(n,e,a)}io(t,e,n);break;case 21:io(t,e,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,io(t,e,n),Rn=r):io(t,e,n);break;default:io(t,e,n)}}function wA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rz),e.forEach(function(r){var s=hz.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function es(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hn=a.stateNode,as=!1;break e;case 3:hn=a.stateNode.containerInfo,as=!0;break e;case 4:hn=a.stateNode.containerInfo,as=!0;break e}a=a.return}if(hn===null)throw Error(ce(160));FP(i,o,s),hn=null,as=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){$t(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UP(e,t),e=e.sibling}function UP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(es(e,t),Ds(t),r&4){try{kd(3,t,t.return),iv(3,t)}catch(g){$t(t,t.return,g)}try{kd(5,t,t.return)}catch(g){$t(t,t.return,g)}}break;case 1:es(e,t),Ds(t),r&512&&n!==null&&cc(n,n.return);break;case 5:if(es(e,t),Ds(t),r&512&&n!==null&&cc(n,n.return),t.flags&32){var s=t.stateNode;try{Qd(s,"")}catch(g){$t(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lD(s,i),A_(a,o);var c=A_(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?hD(s,h):u==="dangerouslySetInnerHTML"?dD(s,h):u==="children"?Qd(s,h):Y0(s,u,h,c)}switch(a){case"input":E_(s,i);break;case"textarea":cD(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pc(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?pc(s,!!i.multiple,i.defaultValue,!0):pc(s,!!i.multiple,i.multiple?[]:"",!1))}s[sf]=i}catch(g){$t(t,t.return,g)}}break;case 6:if(es(e,t),Ds(t),r&4){if(t.stateNode===null)throw Error(ce(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){$t(t,t.return,g)}}break;case 3:if(es(e,t),Ds(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jd(e.containerInfo)}catch(g){$t(t,t.return,g)}break;case 4:es(e,t),Ds(t);break;case 13:es(e,t),Ds(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(IE=Wt())),r&4&&wA(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Rn=(c=Rn)||u,es(e,t),Rn=c):es(e,t),Ds(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(be=t,u=t.child;u!==null;){for(h=be=u;be!==null;){switch(p=be,m=p.child,p.tag){case 0:case 11:case 14:case 15:kd(4,p,p.return);break;case 1:cc(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){$t(r,n,g)}}break;case 5:cc(p,p.return);break;case 22:if(p.memoizedState!==null){bA(h);continue}}m!==null?(m.return=p,be=m):bA(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fD("display",o))}catch(g){$t(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){$t(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:es(e,t),Ds(t),r&4&&wA(t);break;case 21:break;default:es(e,t),Ds(t)}}function Ds(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VP(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Qd(s,""),r.flags&=-33);var i=yA(t);rb(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yA(t);nb(t,a,o);break;default:throw Error(ce(161))}}catch(l){$t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iz(t,e,n){be=t,BP(t)}function BP(t,e,n){for(var r=(t.mode&1)!==0;be!==null;){var s=be,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ep;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Rn;a=ep;var c=Rn;if(ep=o,(Rn=l)&&!c)for(be=s;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?EA(s):l!==null?(l.return=o,be=l):EA(s);for(;i!==null;)be=i,BP(i),i=i.sibling;be=s,ep=a,Rn=c}_A(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,be=i):_A(t)}}function _A(t){for(;be!==null;){var e=be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rn||iv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sA(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Jd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Rn||e.flags&512&&tb(e)}catch(p){$t(e,e.return,p)}}if(e===t){be=null;break}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}}function bA(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,be=n;break}be=e.return}}function EA(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iv(4,e)}catch(l){$t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){$t(e,s,l)}}var i=e.return;try{tb(e)}catch(l){$t(e,i,l)}break;case 5:var o=e.return;try{tb(e)}catch(l){$t(e,o,l)}}}catch(l){$t(e,e.return,l)}if(e===t){be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,be=a;break}be=e.return}}var oz=Math.ceil,Cm=Ki.ReactCurrentDispatcher,AE=Ki.ReactCurrentOwner,Wr=Ki.ReactCurrentBatchConfig,ot=0,ln=null,Yt=null,vn=0,Er=0,uc=ma(0),en=0,df=null,il=0,ov=0,RE=0,Dd=null,nr=null,IE=0,Yc=1/0,yi=null,Tm=!1,sb=null,zo=null,tp=!1,Io=null,Am=0,Pd=0,ib=null,Op=-1,jp=0;function $n(){return ot&6?Wt():Op!==-1?Op:Op=Wt()}function Ho(t){return t.mode&1?ot&2&&vn!==0?vn&-vn:z$.transition!==null?(jp===0&&(jp=CD()),jp):(t=mt,t!==0||(t=window.event,t=t===void 0?16:PD(t.type)),t):1}function hs(t,e,n,r){if(50<Pd)throw Pd=0,ib=null,Error(ce(185));zf(t,n,r),(!(ot&2)||t!==ln)&&(t===ln&&(!(ot&2)&&(ov|=n),en===4&&vo(t,vn)),pr(t,r),n===1&&ot===0&&!(e.mode&1)&&(Yc=Wt()+500,nv&&ga()))}function pr(t,e){var n=t.callbackNode;z5(t,e);var r=um(t,t===ln?vn:0);if(r===0)n!==null&&DT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DT(n),e===1)t.tag===0?$$(xA.bind(null,t)):ZD(xA.bind(null,t)),V$(function(){!(ot&6)&&ga()}),n=null;else{switch(TD(r)){case 1:n=tE;break;case 4:n=xD;break;case 16:n=cm;break;case 536870912:n=SD;break;default:n=cm}n=QP(n,$P.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $P(t,e){if(Op=-1,jp=0,ot&6)throw Error(ce(327));var n=t.callbackNode;if(wc()&&t.callbackNode!==n)return null;var r=um(t,t===ln?vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rm(t,r);else{e=r;var s=ot;ot|=2;var i=HP();(ln!==t||vn!==e)&&(yi=null,Yc=Wt()+500,Xa(t,e));do try{cz();break}catch(a){zP(t,a)}while(!0);pE(),Cm.current=i,ot=s,Yt!==null?e=0:(ln=null,vn=0,e=en)}if(e!==0){if(e===2&&(s=P_(t),s!==0&&(r=s,e=ob(t,s))),e===1)throw n=df,Xa(t,0),vo(t,r),pr(t,Wt()),n;if(e===6)vo(t,r);else{if(s=t.current.alternate,!(r&30)&&!az(s)&&(e=Rm(t,r),e===2&&(i=P_(t),i!==0&&(r=i,e=ob(t,i))),e===1))throw n=df,Xa(t,0),vo(t,r),pr(t,Wt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Pa(t,nr,yi);break;case 3:if(vo(t,r),(r&130023424)===r&&(e=IE+500-Wt(),10<e)){if(um(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=U_(Pa.bind(null,t,nr,yi),e);break}Pa(t,nr,yi);break;case 4:if(vo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oz(r/1960))-r,10<r){t.timeoutHandle=U_(Pa.bind(null,t,nr,yi),r);break}Pa(t,nr,yi);break;case 5:Pa(t,nr,yi);break;default:throw Error(ce(329))}}}return pr(t,Wt()),t.callbackNode===n?$P.bind(null,t):null}function ob(t,e){var n=Dd;return t.current.memoizedState.isDehydrated&&(Xa(t,e).flags|=256),t=Rm(t,e),t!==2&&(e=nr,nr=n,e!==null&&ab(e)),t}function ab(t){nr===null?nr=t:nr.push.apply(nr,t)}function az(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vo(t,e){for(e&=~RE,e&=~ov,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fs(e),r=1<<n;t[n]=-1,e&=~r}}function xA(t){if(ot&6)throw Error(ce(327));wc();var e=um(t,0);if(!(e&1))return pr(t,Wt()),null;var n=Rm(t,e);if(t.tag!==0&&n===2){var r=P_(t);r!==0&&(e=r,n=ob(t,r))}if(n===1)throw n=df,Xa(t,0),vo(t,e),pr(t,Wt()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pa(t,nr,yi),pr(t,Wt()),null}function kE(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(Yc=Wt()+500,nv&&ga())}}function ol(t){Io!==null&&Io.tag===0&&!(ot&6)&&wc();var e=ot;ot|=1;var n=Wr.transition,r=mt;try{if(Wr.transition=null,mt=1,t)return t()}finally{mt=r,Wr.transition=n,ot=e,!(ot&6)&&ga()}}function DE(){Er=uc.current,Tt(uc)}function Xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L$(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch(dE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mm();break;case 3:Kc(),Tt(fr),Tt(Pn),_E();break;case 5:wE(r);break;case 4:Kc();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:mE(r.type._context);break;case 22:case 23:DE()}n=n.return}if(ln=t,Yt=t=Wo(t.current,null),vn=Er=e,en=0,df=null,RE=ov=il=0,nr=Dd=null,Fa!==null){for(e=0;e<Fa.length;e++)if(n=Fa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fa=null}return t}function zP(t,e){do{var n=Yt;try{if(pE(),Pp.current=Sm,xm){for(var r=Ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xm=!1}if(sl=0,an=Xt=Ot=null,Id=!1,lf=0,AE.current=null,n===null||n.return===null){en=1,df=e,Yt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=uA(o);if(m!==null){m.flags&=-257,dA(m,o,a,i,e),m.mode&1&&cA(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){cA(i,c,e),PE();break e}l=Error(ce(426))}}else if(Rt&&a.mode&1){var b=uA(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dA(b,o,a,i,e),fE(Qc(l,a));break e}}i=l=Qc(l,a),en!==4&&(en=2),Dd===null?Dd=[i]:Dd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=TP(i,l,e);rA(i,_);break e;case 1:a=l;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zo===null||!zo.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=AP(i,a,e);rA(i,A);break e}}i=i.return}while(i!==null)}qP(n)}catch(P){e=P,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function HP(){var t=Cm.current;return Cm.current=Sm,t===null?Sm:t}function PE(){(en===0||en===3||en===2)&&(en=4),ln===null||!(il&268435455)&&!(ov&268435455)||vo(ln,vn)}function Rm(t,e){var n=ot;ot|=2;var r=HP();(ln!==t||vn!==e)&&(yi=null,Xa(t,e));do try{lz();break}catch(s){zP(t,s)}while(!0);if(pE(),ot=n,Cm.current=r,Yt!==null)throw Error(ce(261));return ln=null,vn=0,en}function lz(){for(;Yt!==null;)WP(Yt)}function cz(){for(;Yt!==null&&!M5();)WP(Yt)}function WP(t){var e=KP(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?qP(t):Yt=e,AE.current=null}function qP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nz(n,e),n!==null){n.flags&=32767,Yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Yt=null;return}}else if(n=tz(n,e,Er),n!==null){Yt=n;return}if(e=e.sibling,e!==null){Yt=e;return}Yt=e=t}while(e!==null);en===0&&(en=5)}function Pa(t,e,n){var r=mt,s=Wr.transition;try{Wr.transition=null,mt=1,uz(t,e,n,r)}finally{Wr.transition=s,mt=r}return null}function uz(t,e,n,r){do wc();while(Io!==null);if(ot&6)throw Error(ce(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(H5(t,i),t===ln&&(Yt=ln=null,vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tp||(tp=!0,QP(cm,function(){return wc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wr.transition,Wr.transition=null;var o=mt;mt=1;var a=ot;ot|=4,AE.current=null,sz(t,n),UP(n,t),k$(V_),dm=!!L_,V_=L_=null,t.current=n,iz(n),O5(),ot=a,mt=o,Wr.transition=i}else t.current=n;if(tp&&(tp=!1,Io=t,Am=s),i=t.pendingLanes,i===0&&(zo=null),V5(n.stateNode),pr(t,Wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Tm)throw Tm=!1,t=sb,sb=null,t;return Am&1&&t.tag!==0&&wc(),i=t.pendingLanes,i&1?t===ib?Pd++:(Pd=0,ib=t):Pd=0,ga(),null}function wc(){if(Io!==null){var t=TD(Am),e=Wr.transition,n=mt;try{if(Wr.transition=null,mt=16>t?16:t,Io===null)var r=!1;else{if(t=Io,Io=null,Am=0,ot&6)throw Error(ce(331));var s=ot;for(ot|=4,be=t.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:kd(8,u,i)}var h=u.child;if(h!==null)h.return=u,be=h;else for(;be!==null;){u=be;var p=u.sibling,m=u.return;if(LP(u),u===c){be=null;break}if(p!==null){p.return=m,be=p;break}be=m}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,be=_;break e}be=i.return}}var v=t.current;for(be=v;be!==null;){o=be;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,be=x;else e:for(o=v;be!==null;){if(a=be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:iv(9,a)}}catch(P){$t(a,a.return,P)}if(a===o){be=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,be=A;break e}be=a.return}}if(ot=s,ga(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(Zg,t)}catch{}r=!0}return r}finally{mt=n,Wr.transition=e}}return!1}function SA(t,e,n){e=Qc(n,e),e=TP(t,e,1),t=$o(t,e,1),e=$n(),t!==null&&(zf(t,1,e),pr(t,e))}function $t(t,e,n){if(t.tag===3)SA(t,t,n);else for(;e!==null;){if(e.tag===3){SA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zo===null||!zo.has(r))){t=Qc(n,t),t=AP(e,t,1),e=$o(e,t,1),t=$n(),e!==null&&(zf(e,1,t),pr(e,t));break}}e=e.return}}function dz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,ln===t&&(vn&n)===n&&(en===4||en===3&&(vn&130023424)===vn&&500>Wt()-IE?Xa(t,0):RE|=n),pr(t,e)}function GP(t,e){e===0&&(t.mode&1?(e=Wh,Wh<<=1,!(Wh&130023424)&&(Wh=4194304)):e=1);var n=$n();t=Oi(t,e),t!==null&&(zf(t,e,n),pr(t,n))}function fz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GP(t,n)}function hz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),GP(t,n)}var KP;KP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,ez(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Rt&&e.flags&1048576&&XD(e,ym,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mp(t,e),t=e.pendingProps;var s=Wc(e,Pn.current);yc(e,n),s=EE(null,e,r,t,s,n);var i=xE();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hr(r)?(i=!0,gm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vE(e),s.updater=sv,e.stateNode=s,s._reactInternals=e,G_(e,r,t,n),e=Y_(null,e,r,!0,i,n)):(e.tag=0,Rt&&i&&uE(e),Vn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mz(r),t=rs(r,t),s){case 0:e=Q_(null,e,r,t,n);break e;case 1:e=pA(null,e,r,t,n);break e;case 11:e=fA(null,e,r,t,n);break e;case 14:e=hA(null,e,r,rs(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),Q_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),pA(t,e,r,s,n);case 3:e:{if(DP(e),t===null)throw Error(ce(387));r=e.pendingProps,i=e.memoizedState,s=i.element,sP(t,e),bm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qc(Error(ce(423)),e),e=mA(t,e,r,n,s);break e}else if(r!==s){s=Qc(Error(ce(424)),e),e=mA(t,e,r,n,s);break e}else for(Tr=Bo(e.stateNode.containerInfo.firstChild),Rr=e,Rt=!0,ls=null,n=nP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qc(),r===s){e=ji(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return iP(e),t===null&&H_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,F_(r,s)?o=null:i!==null&&F_(r,i)&&(e.flags|=32),kP(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&H_(e),null;case 13:return PP(t,e,n);case 4:return yE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gc(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),fA(t,e,r,s,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,yt(wm,r._currentValue),r._currentValue=o,i!==null)if(vs(i.value,o)){if(i.children===s.children&&!fr.current){e=ji(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ai(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),W_(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),W_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,yc(e,n),s=Kr(s),r=r(s),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,s=rs(r,e.pendingProps),s=rs(r.type,s),hA(t,e,r,s,n);case 15:return RP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),Mp(t,e),e.tag=1,hr(r)?(t=!0,gm(e)):t=!1,yc(e,n),CP(e,r,s),G_(e,r,s,n),Y_(null,e,r,!0,t,n);case 19:return NP(t,e,n);case 22:return IP(t,e,n)}throw Error(ce(156,e.tag))};function QP(t,e){return ED(t,e)}function pz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,n,r){return new pz(t,e,n,r)}function NE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mz(t){if(typeof t=="function")return NE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===X0)return 11;if(t===J0)return 14}return 2}function Wo(t,e){var n=t.alternate;return n===null?(n=Hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")NE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ec:return Ja(n.children,s,i,e);case Z0:o=8,s|=8;break;case v_:return t=Hr(12,n,e,s|2),t.elementType=v_,t.lanes=i,t;case y_:return t=Hr(13,n,e,s),t.elementType=y_,t.lanes=i,t;case w_:return t=Hr(19,n,e,s),t.elementType=w_,t.lanes=i,t;case iD:return av(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rD:o=10;break e;case sD:o=9;break e;case X0:o=11;break e;case J0:o=14;break e;case ho:o=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Hr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ja(t,e,n,r){return t=Hr(7,t,r,e),t.lanes=n,t}function av(t,e,n,r){return t=Hr(22,t,r,e),t.elementType=iD,t.lanes=n,t.stateNode={isHidden:!1},t}function dw(t,e,n){return t=Hr(6,t,null,e),t.lanes=n,t}function fw(t,e,n){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gz(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qy(0),this.expirationTimes=qy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ME(t,e,n,r,s,i,o,a,l){return t=new gz(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Hr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vE(i),t}function vz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YP(t){if(!t)return ta;t=t._reactInternals;e:{if(Cl(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(hr(n))return YD(t,n,e)}return e}function ZP(t,e,n,r,s,i,o,a,l){return t=ME(n,r,!0,t,s,i,o,a,l),t.context=YP(null),n=t.current,r=$n(),s=Ho(n),i=Ai(r,s),i.callback=e??null,$o(n,i,s),t.current.lanes=s,zf(t,s,r),pr(t,r),t}function lv(t,e,n,r){var s=e.current,i=$n(),o=Ho(s);return n=YP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ai(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$o(s,e,o),t!==null&&(hs(t,s,o,i),Dp(t,s,o)),o}function Im(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function OE(t,e){CA(t,e),(t=t.alternate)&&CA(t,e)}function yz(){return null}var XP=typeof reportError=="function"?reportError:function(t){console.error(t)};function jE(t){this._internalRoot=t}cv.prototype.render=jE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));lv(t,e,null,null)};cv.prototype.unmount=jE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ol(function(){lv(null,t,null,null)}),e[Mi]=null}};function cv(t){this._internalRoot=t}cv.prototype.unstable_scheduleHydration=function(t){if(t){var e=ID();t={blockedOn:null,target:t,priority:e};for(var n=0;n<go.length&&e!==0&&e<go[n].priority;n++);go.splice(n,0,t),n===0&&DD(t)}};function LE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TA(){}function wz(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Im(o);i.call(c)}}var o=ZP(e,r,t,0,null,!1,!1,"",TA);return t._reactRootContainer=o,t[Mi]=o.current,nf(t.nodeType===8?t.parentNode:t),ol(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Im(l);a.call(c)}}var l=ME(t,0,!1,null,null,!1,!1,"",TA);return t._reactRootContainer=l,t[Mi]=l.current,nf(t.nodeType===8?t.parentNode:t),ol(function(){lv(e,l,n,r)}),l}function dv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Im(o);a.call(l)}}lv(e,o,t,s)}else o=wz(n,e,t,s,r);return Im(o)}AD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ud(e.pendingLanes);n!==0&&(nE(e,n|1),pr(e,Wt()),!(ot&6)&&(Yc=Wt()+500,ga()))}break;case 13:ol(function(){var r=Oi(t,1);if(r!==null){var s=$n();hs(r,t,1,s)}}),OE(t,1)}};rE=function(t){if(t.tag===13){var e=Oi(t,134217728);if(e!==null){var n=$n();hs(e,t,134217728,n)}OE(t,134217728)}};RD=function(t){if(t.tag===13){var e=Ho(t),n=Oi(t,e);if(n!==null){var r=$n();hs(n,t,e,r)}OE(t,e)}};ID=function(){return mt};kD=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};I_=function(t,e,n){switch(e){case"input":if(E_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=tv(r);if(!s)throw Error(ce(90));aD(r),E_(r,s)}}}break;case"textarea":cD(t,n);break;case"select":e=n.value,e!=null&&pc(t,!!n.multiple,e,!1)}};gD=kE;vD=ol;var _z={usingClientEntryPoint:!1,Events:[Wf,sc,tv,pD,mD,kE]},nd={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bz={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_D(t),t===null?null:t.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||yz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{Zg=np.inject(bz),qs=np}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_z;Mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LE(e))throw Error(ce(200));return vz(t,e,null,n)};Mr.createRoot=function(t,e){if(!LE(t))throw Error(ce(299));var n=!1,r="",s=XP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ME(t,1,!1,null,null,n,!1,r,s),t[Mi]=e.current,nf(t.nodeType===8?t.parentNode:t),new jE(e)};Mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=_D(e),t=t===null?null:t.stateNode,t};Mr.flushSync=function(t){return ol(t)};Mr.hydrate=function(t,e,n){if(!uv(e))throw Error(ce(200));return dv(null,t,e,!0,n)};Mr.hydrateRoot=function(t,e,n){if(!LE(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=XP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZP(e,null,t,1,n??null,s,!1,i,o),t[Mi]=e.current,nf(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new cv(e)};Mr.render=function(t,e,n){if(!uv(e))throw Error(ce(200));return dv(null,t,e,!1,n)};Mr.unmountComponentAtNode=function(t){if(!uv(t))throw Error(ce(40));return t._reactRootContainer?(ol(function(){dv(null,null,t,!1,function(){t._reactRootContainer=null,t[Mi]=null})}),!0):!1};Mr.unstable_batchedUpdates=kE;Mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uv(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return dv(t,e,n,!1,r)};Mr.version="18.3.1-next-f1338f8080-20240426";function JP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JP)}catch(t){console.error(t)}}JP(),J1.exports=Mr;var ei=J1.exports;const eN=U1(ei);var tN,AA=ei;tN=AA.createRoot,AA.hydrateRoot;var km=["light","dark"],VE="(prefers-color-scheme: dark)",Ez=typeof window>"u",FE=y.createContext(void 0),xz={setTheme:t=>{},themes:[]},Sz=()=>{var t;return(t=y.useContext(FE))!=null?t:xz},Cz=t=>y.useContext(FE)?t.children:y.createElement(Az,{...t}),Tz=["light","dark"],Az=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=Tz,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u})=>{let[h,p]=y.useState(()=>RA(s,o)),[m,w]=y.useState(()=>RA(s)),g=l?Object.values(l):i,b=y.useCallback(A=>{let P=A;if(!P)return;A==="system"&&n&&(P=IA());let O=l?l[P]:P,T=e?Iz():null,S=document.documentElement;if(a==="class"?(S.classList.remove(...g),O&&S.classList.add(O)):O?S.setAttribute(a,O):S.removeAttribute(a),r){let R=km.includes(o)?o:null,I=km.includes(P)?P:R;S.style.colorScheme=I}T==null||T()},[]),_=y.useCallback(A=>{let P=typeof A=="function"?A(A):A;p(P);try{localStorage.setItem(s,P)}catch{}},[t]),v=y.useCallback(A=>{let P=IA(A);w(P),h==="system"&&n&&!t&&b("system")},[h,t]);y.useEffect(()=>{let A=window.matchMedia(VE);return A.addListener(v),v(A),()=>A.removeListener(v)},[v]),y.useEffect(()=>{let A=P=>{if(P.key!==s)return;let O=P.newValue||o;_(O)};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[_]),y.useEffect(()=>{b(t??h)},[t,h]);let x=y.useMemo(()=>({theme:h,setTheme:_,forcedTheme:t,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,_,t,m,n,i]);return y.createElement(FE.Provider,{value:x},y.createElement(Rz,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:c,attrs:g,nonce:u}),c)},Rz=y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?km.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,g=!1,b=!0)=>{let _=o?o[w]:w,v=g?w+"|| ''":`'${_}'`,x="";return s&&b&&!g&&km.includes(w)&&(x+=`d.style.colorScheme = '${w}';`),n==="class"?g||_?x+=`c.add(${v})`:x+="null":_&&(x+=`d[s](n,${v})`),x},m=t?`!function(){${u}${p(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${VE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),RA=(t,e)=>{if(Ez)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Iz=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},IA=t=>(t||(t=window.matchMedia(VE)),t.matches?"dark":"light"),kz=t=>{switch(t){case"success":return Nz;case"info":return Oz;case"warning":return Mz;case"error":return jz;default:return null}},Dz=Array(12).fill(0),Pz=({visible:t,className:e})=>X.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},X.createElement("div",{className:"sonner-spinner"},Dz.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Nz=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Mz=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Oz=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jz=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Lz=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Vz=()=>{let[t,e]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lb=1,Fz=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lb++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],X.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(Bz(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||lb++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},er=new Fz,Uz=(t,e)=>{let n=(e==null?void 0:e.id)||lb++;return er.addToast({title:t,...e,id:n}),n},Bz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$z=Uz,zz=()=>er.toasts,Hz=()=>er.getActiveToasts();Object.assign($z,{success:er.success,info:er.info,warning:er.warning,error:er.error,custom:er.custom,message:er.message,promise:er.promise,dismiss:er.dismiss,loading:er.loading},{getHistory:zz,getToasts:Hz});function Wz(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Wz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rp(t){return t.label!==void 0}var qz=3,Gz="32px",Kz="16px",kA=4e3,Qz=356,Yz=14,Zz=20,Xz=200;function ts(...t){return t.filter(Boolean).join(" ")}function Jz(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var eH=t=>{var e,n,r,s,i,o,a,l,c,u,h;let{invert:p,toast:m,unstyled:w,interacting:g,setHeights:b,visibleToasts:_,heights:v,index:x,toasts:A,expanded:P,removeToast:O,defaultRichColors:T,closeButton:S,style:R,cancelButtonStyle:I,actionButtonStyle:N,className:k="",descriptionClassName:D="",duration:G,position:ae,gap:te,loadingIcon:K,expandByDefault:F,classNames:j,icons:Q,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:q}=t,[J,ie]=X.useState(null),[Ee,$]=X.useState(null),[H,ye]=X.useState(!1),[Se,xe]=X.useState(!1),[ge,ne]=X.useState(!1),[Re,Fe]=X.useState(!1),[Ze,Ke]=X.useState(!1),[bt,L]=X.useState(0),[U,z]=X.useState(0),ue=X.useRef(m.duration||G||kA),de=X.useRef(null),oe=X.useRef(null),Ce=x===0,Ue=x+1<=_,De=m.type,ze=m.dismissible!==!1,cn=m.className||"",Ts=m.descriptionClassName||"",sn=X.useMemo(()=>v.findIndex(Ne=>Ne.toastId===m.id)||0,[v,m.id]),Yr=X.useMemo(()=>{var Ne;return(Ne=m.closeButton)!=null?Ne:S},[m.closeButton,S]),Kn=X.useMemo(()=>m.duration||G||kA,[m.duration,G]),Qn=X.useRef(0),_r=X.useRef(0),Zr=X.useRef(0),As=X.useRef(null),[Uu,Ta]=ae.split("-"),to=X.useMemo(()=>v.reduce((Ne,tt,gt)=>gt>=sn?Ne:Ne+tt.height,0),[v,sn]),Aa=Vz(),Rs=m.invert||p,Is=De==="loading";_r.current=X.useMemo(()=>sn*te+to,[sn,to]),X.useEffect(()=>{ue.current=Kn},[Kn]),X.useEffect(()=>{ye(!0)},[]),X.useEffect(()=>{let Ne=oe.current;if(Ne){let tt=Ne.getBoundingClientRect().height;return z(tt),b(gt=>[{toastId:m.id,height:tt,position:m.position},...gt]),()=>b(gt=>gt.filter(un=>un.toastId!==m.id))}},[b,m.id]),X.useLayoutEffect(()=>{if(!H)return;let Ne=oe.current,tt=Ne.style.height;Ne.style.height="auto";let gt=Ne.getBoundingClientRect().height;Ne.style.height=tt,z(gt),b(un=>un.find(Yn=>Yn.toastId===m.id)?un.map(Yn=>Yn.toastId===m.id?{...Yn,height:gt}:Yn):[{toastId:m.id,height:gt,position:m.position},...un])},[H,m.title,m.description,b,m.id]);let jn=X.useCallback(()=>{xe(!0),L(_r.current),b(Ne=>Ne.filter(tt=>tt.toastId!==m.id)),setTimeout(()=>{O(m)},Xz)},[m,O,b,_r]);X.useEffect(()=>{if(m.promise&&De==="loading"||m.duration===1/0||m.type==="loading")return;let Ne;return P||g||q&&Aa?(()=>{if(Zr.current<Qn.current){let tt=new Date().getTime()-Qn.current;ue.current=ue.current-tt}Zr.current=new Date().getTime()})():ue.current!==1/0&&(Qn.current=new Date().getTime(),Ne=setTimeout(()=>{var tt;(tt=m.onAutoClose)==null||tt.call(m,m),jn()},ue.current)),()=>clearTimeout(Ne)},[P,g,m,De,q,Aa,jn]),X.useEffect(()=>{m.delete&&jn()},[jn,m.delete]);function Xr(){var Ne,tt,gt;return Q!=null&&Q.loading?X.createElement("div",{className:ts(j==null?void 0:j.loader,(Ne=m==null?void 0:m.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":De==="loading"},Q.loading):K?X.createElement("div",{className:ts(j==null?void 0:j.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":De==="loading"},K):X.createElement(Pz,{className:ts(j==null?void 0:j.loader,(gt=m==null?void 0:m.classNames)==null?void 0:gt.loader),visible:De==="loading"})}return X.createElement("li",{tabIndex:0,ref:oe,className:ts(k,cn,j==null?void 0:j.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[De],(n=m==null?void 0:m.classNames)==null?void 0:n[De]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:T,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":Ze,"data-removed":Se,"data-visible":Ue,"data-y-position":Uu,"data-x-position":Ta,"data-index":x,"data-front":Ce,"data-swiping":ge,"data-dismissible":ze,"data-type":De,"data-invert":Rs,"data-swipe-out":Re,"data-swipe-direction":Ee,"data-expanded":!!(P||F&&H),style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${Se?bt:_r.current}px`,"--initial-height":F?"auto":`${U}px`,...R,...m.style},onDragEnd:()=>{ne(!1),ie(null),As.current=null},onPointerDown:Ne=>{Is||!ze||(de.current=new Date,L(_r.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(ne(!0),As.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,tt,gt,un;if(Re||!ze)return;As.current=null;let Yn=Number(((Ne=oe.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),At=Number(((tt=oe.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ks=new Date().getTime()-((gt=de.current)==null?void 0:gt.getTime()),dn=J==="x"?Yn:At,Zn=Math.abs(dn)/ks;if(Math.abs(dn)>=Zz||Zn>.11){L(_r.current),(un=m.onDismiss)==null||un.call(m,m),$(J==="x"?Yn>0?"right":"left":At>0?"down":"up"),jn(),Fe(!0),Ke(!1);return}ne(!1),ie(null)},onPointerMove:Ne=>{var tt,gt,un,Yn;if(!As.current||!ze||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let At=Ne.clientY-As.current.y,ks=Ne.clientX-As.current.x,dn=(gt=t.swipeDirections)!=null?gt:Jz(ae);!J&&(Math.abs(ks)>1||Math.abs(At)>1)&&ie(Math.abs(ks)>Math.abs(At)?"x":"y");let Zn={x:0,y:0};J==="y"?(dn.includes("top")||dn.includes("bottom"))&&(dn.includes("top")&&At<0||dn.includes("bottom")&&At>0)&&(Zn.y=At):J==="x"&&(dn.includes("left")||dn.includes("right"))&&(dn.includes("left")&&ks<0||dn.includes("right")&&ks>0)&&(Zn.x=ks),(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&Ke(!0),(un=oe.current)==null||un.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(Yn=oe.current)==null||Yn.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},Yr&&!m.jsx?X.createElement("button",{"aria-label":se,"data-disabled":Is,"data-close-button":!0,onClick:Is||!ze?()=>{}:()=>{var Ne;jn(),(Ne=m.onDismiss)==null||Ne.call(m,m)},className:ts(j==null?void 0:j.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:Lz):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:X.createElement(X.Fragment,null,De||m.icon||m.promise?X.createElement("div",{"data-icon":"",className:ts(j==null?void 0:j.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Xr():null,m.type!=="loading"?m.icon||(Q==null?void 0:Q[De])||kz(De):null):null,X.createElement("div",{"data-content":"",className:ts(j==null?void 0:j.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},X.createElement("div",{"data-title":"",className:ts(j==null?void 0:j.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?X.createElement("div",{"data-description":"",className:ts(D,Ts,j==null?void 0:j.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&rp(m.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:Ne=>{var tt,gt;rp(m.cancel)&&ze&&((gt=(tt=m.cancel).onClick)==null||gt.call(tt,Ne),jn())},className:ts(j==null?void 0:j.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&rp(m.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:Ne=>{var tt,gt;rp(m.action)&&((gt=(tt=m.action).onClick)==null||gt.call(tt,Ne),!Ne.defaultPrevented&&jn())},className:ts(j==null?void 0:j.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function DA(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function tH(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Kz:Gz;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var nH=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:m,visibleToasts:w=qz,toastOptions:g,dir:b=DA(),gap:_=Yz,loadingIcon:v,icons:x,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:P}=t,[O,T]=X.useState([]),S=X.useMemo(()=>Array.from(new Set([r].concat(O.filter(q=>q.position).map(q=>q.position)))),[O,r]),[R,I]=X.useState([]),[N,k]=X.useState(!1),[D,G]=X.useState(!1),[ae,te]=X.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=X.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=X.useRef(null),Q=X.useRef(!1),se=X.useCallback(q=>{T(J=>{var ie;return(ie=J.find(Ee=>Ee.id===q.id))!=null&&ie.delete||er.dismiss(q.id),J.filter(({id:Ee})=>Ee!==q.id)})},[]);return X.useEffect(()=>er.subscribe(q=>{if(q.dismiss){T(J=>J.map(ie=>ie.id===q.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{eN.flushSync(()=>{T(J=>{let ie=J.findIndex(Ee=>Ee.id===q.id);return ie!==-1?[...J.slice(0,ie),{...J[ie],...q},...J.slice(ie+1)]:[q,...J]})})})}),[]),X.useEffect(()=>{if(u!=="system"){te(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{te(J?"dark":"light")})}catch{q.addListener(({matches:ie})=>{try{te(ie?"dark":"light")}catch(Ee){console.error(Ee)}})}},[u]),X.useEffect(()=>{O.length<=1&&k(!1)},[O]),X.useEffect(()=>{let q=J=>{var ie,Ee;s.every($=>J[$]||J.code===$)&&(k(!0),(ie=K.current)==null||ie.focus()),J.code==="Escape"&&(document.activeElement===K.current||(Ee=K.current)!=null&&Ee.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[s]),X.useEffect(()=>{if(K.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,Q.current=!1)}},[K.current]),X.createElement("section",{ref:e,"aria-label":`${A} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((q,J)=>{var ie;let[Ee,$]=q.split("-");return O.length?X.createElement("ol",{key:q,dir:b==="auto"?DA():b,tabIndex:-1,ref:K,className:a,"data-sonner-toaster":!0,"data-theme":ae,"data-y-position":Ee,"data-lifted":N&&O.length>1&&!i,"data-x-position":$,style:{"--front-toast-height":`${((ie=R[0])==null?void 0:ie.height)||0}px`,"--width":`${Qz}px`,"--gap":`${_}px`,...m,...tH(l,c)},onBlur:H=>{Q.current&&!H.currentTarget.contains(H.relatedTarget)&&(Q.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,j.current=H.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onDragEnd:()=>k(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},O.filter(H=>!H.position&&J===0||H.position===q).map((H,ye)=>{var Se,xe;return X.createElement(eH,{key:H.id,icons:x,index:ye,toast:H,defaultRichColors:h,duration:(Se=g==null?void 0:g.duration)!=null?Se:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:w,closeButton:(xe=g==null?void 0:g.closeButton)!=null?xe:o,interacting:D,position:q,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:se,toasts:O.filter(ge=>ge.position==H.position),heights:R.filter(ge=>ge.position==H.position),setHeights:I,expandByDefault:i,gap:_,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const rH=({...t})=>{const{theme:e="system"}=Sz();return d.jsx(nH,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},sH=1,iH=1e6;let hw=0;function oH(){return hw=(hw+1)%Number.MAX_SAFE_INTEGER,hw.toString()}const pw=new Map,PA=t=>{if(pw.has(t))return;const e=setTimeout(()=>{pw.delete(t),Nd({type:"REMOVE_TOAST",toastId:t})},iH);pw.set(t,e)},aH=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,sH)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?PA(n):t.toasts.forEach(r=>{PA(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vp=[];let Fp={toasts:[]};function Nd(t){Fp=aH(Fp,t),Vp.forEach(e=>{e(Fp)})}function lH({...t}){const e=oH(),n=s=>Nd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Nd({type:"DISMISS_TOAST",toastId:e});return Nd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function UE(){const[t,e]=y.useState(Fp);return y.useEffect(()=>(Vp.push(e),()=>{const n=Vp.indexOf(e);n>-1&&Vp.splice(n,1)}),[t]),{...t,toast:lH,dismiss:n=>Nd({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function NA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fv(...t){return e=>{let n=!1;const r=t.map(s=>{const i=NA(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():NA(t[s],null)}}}}function et(...t){return y.useCallback(fv(...t),t)}function cH(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function jr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:m,...w}=h,g=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,b=y.useMemo(()=>w,Object.values(w));return d.jsx(g.Provider,{value:b,children:m})};c.displayName=i+"Provider";function u(h,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,w=y.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,uH(s,...e)]}function uH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ti=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(dH);if(i){const o=i.props.children,a=s.map(l=>l===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return d.jsx(cb,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return d.jsx(cb,{...r,ref:e,children:n})});ti.displayName="Slot";var cb=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const s=hH(n),i=fH(r,n.props);return n.type!==y.Fragment&&(i.ref=e?fv(e,s):s),y.cloneElement(n,i)}return y.Children.count(n)>1?y.Children.only(null):null});cb.displayName="SlotClone";var BE=({children:t})=>d.jsx(d.Fragment,{children:t});function dH(t){return y.isValidElement(t)&&t.type===BE}function fH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hv(t){const e=t+"CollectionProvider",[n,r]=jr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:g}=m,b=X.useRef(null),_=X.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:_,collectionRef:b,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=X.forwardRef((m,w)=>{const{scope:g,children:b}=m,_=i(a,g),v=et(w,_.collectionRef);return d.jsx(ti,{ref:v,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=X.forwardRef((m,w)=>{const{scope:g,children:b,..._}=m,v=X.useRef(null),x=et(w,v),A=i(c,g);return X.useEffect(()=>(A.itemMap.set(v,{ref:v,..._}),()=>void A.itemMap.delete(v))),d.jsx(ti,{[u]:"",ref:x,children:b})});h.displayName=c;function p(m){const w=i(t+"CollectionConsumer",m);return X.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((A,P)=>_.indexOf(A.ref.current)-_.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}var pH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=pH.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ti:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $E(t,e){t&&ei.flushSync(()=>t.dispatchEvent(e))}function Nn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function mH(t,e=globalThis==null?void 0:globalThis.document){const n=Nn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var gH="DismissableLayer",ub="dismissableLayer.update",vH="dismissableLayer.pointerDownOutside",yH="dismissableLayer.focusOutside",MA,nN=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tl=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(nN),[u,h]=y.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),w=et(e,T=>h(T)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(b),v=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,A=v>=_,P=_H(T=>{const S=T.target,R=[...c.branches].some(I=>I.contains(S));!A||R||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=bH(T=>{const S=T.target;[...c.branches].some(I=>I.contains(S))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return mH(T=>{v===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),y.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(MA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),OA(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=MA)}},[u,p,n,c]),y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),OA())},[u,c]),y.useEffect(()=>{const T=()=>m({});return document.addEventListener(ub,T),()=>document.removeEventListener(ub,T)},[]),d.jsx(Me.div,{...l,ref:w,style:{pointerEvents:x?A?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,P.onPointerDownCapture)})});Tl.displayName=gH;var wH="DismissableLayerBranch",rN=y.forwardRef((t,e)=>{const n=y.useContext(nN),r=y.useRef(null),s=et(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Me.div,{...t,ref:s})});rN.displayName=wH;function _H(t,e=globalThis==null?void 0:globalThis.document){const n=Nn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){sN(vH,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bH(t,e=globalThis==null?void 0:globalThis.document){const n=Nn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&sN(yH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OA(){const t=new CustomEvent(ub);document.dispatchEvent(t)}function sN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$E(s,i):s.dispatchEvent(i)}var EH=Tl,xH=rN,Mn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},SH="Portal",Cu=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Mn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?eN.createPortal(d.jsx(Me.div,{...r,ref:e}),o):null});Cu.displayName=SH;function CH(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var wr=t=>{const{present:e,children:n}=t,r=TH(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=et(r.ref,AH(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};wr.displayName="Presence";function TH(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=CH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=sp(r.current);i.current=a==="mounted"?c:"none"},[a]),Mn(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,m=sp(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Mn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=m=>{const g=sp(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=m=>{m.target===e&&(i.current=sp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function sp(t){return(t==null?void 0:t.animationName)||"none"}function AH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Li({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=RH({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Nn(n),l=y.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function RH({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Nn(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var IH="VisuallyHidden",Gf=y.forwardRef((t,e)=>d.jsx(Me.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Gf.displayName=IH;var kH=Gf,zE="ToastProvider",[HE,DH,PH]=hv("Toast"),[iN,Ffe]=jr("Toast",[PH]),[NH,pv]=iN(zE),oN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,u]=y.useState(0),h=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zE}\`. Expected non-empty \`string\`.`),d.jsx(HE.Provider,{scope:e,children:d.jsx(NH,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>u(m=>m+1),[]),onToastRemove:y.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};oN.displayName=zE;var aN="ToastViewport",MH=["F8"],db="toast.viewportPause",fb="toast.viewportResume",lN=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=MH,label:s="Notifications ({hotkey})",...i}=t,o=pv(aN,n),a=DH(n),l=y.useRef(null),c=y.useRef(null),u=y.useRef(null),h=y.useRef(null),p=et(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;y.useEffect(()=>{const b=_=>{var x;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),y.useEffect(()=>{const b=l.current,_=h.current;if(w&&b&&_){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(db);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(fb);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!b.contains(O.relatedTarget)&&x()},P=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",v),b.addEventListener("focusout",A),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",P),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",P),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:b})=>{const v=a().map(x=>{const A=x.ref.current,P=[A,...GH(A)];return b==="forwards"?P:P.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return y.useEffect(()=>{const b=h.current;if(b){const _=v=>{var P,O,T;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const S=document.activeElement,R=v.shiftKey;if(v.target===b&&R){(P=c.current)==null||P.focus();return}const k=g({tabbingDirection:R?"backwards":"forwards"}),D=k.findIndex(G=>G===S);mw(k.slice(D+1))?v.preventDefault():R?(O=c.current)==null||O.focus():(T=u.current)==null||T.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,g]),d.jsxs(xH,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx(hb,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});mw(b)}}),d.jsx(HE.Slot,{scope:n,children:d.jsx(Me.ol,{tabIndex:-1,...i,ref:p})}),w&&d.jsx(hb,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});mw(b)}})]})});lN.displayName=aN;var cN="ToastFocusProxy",hb=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=pv(cN,n);return d.jsx(Gf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});hb.displayName=cN;var mv="Toast",OH="toast.swipeStart",jH="toast.swipeMove",LH="toast.swipeCancel",VH="toast.swipeEnd",uN=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Li({prop:r,defaultProp:s,onChange:i});return d.jsx(wr,{present:n||a,children:d.jsx(BH,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Nn(t.onPause),onResume:Nn(t.onResume),onSwipeStart:fe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:fe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});uN.displayName=mv;var[FH,UH]=iN(mv,{onClose(){}}),BH=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...w}=t,g=pv(mv,n),[b,_]=y.useState(null),v=et(e,G=>_(G)),x=y.useRef(null),A=y.useRef(null),P=s||g.duration,O=y.useRef(0),T=y.useRef(P),S=y.useRef(0),{onToastAdd:R,onToastRemove:I}=g,N=Nn(()=>{var ae;(b==null?void 0:b.contains(document.activeElement))&&((ae=g.viewport)==null||ae.focus()),o()}),k=y.useCallback(G=>{!G||G===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(N,G))},[N]);y.useEffect(()=>{const G=g.viewport;if(G){const ae=()=>{k(T.current),c==null||c()},te=()=>{const K=new Date().getTime()-O.current;T.current=T.current-K,window.clearTimeout(S.current),l==null||l()};return G.addEventListener(db,te),G.addEventListener(fb,ae),()=>{G.removeEventListener(db,te),G.removeEventListener(fb,ae)}}},[g.viewport,P,l,c,k]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&k(P)},[i,P,g.isClosePausedRef,k]),y.useEffect(()=>(R(),()=>I()),[R,I]);const D=y.useMemo(()=>b?vN(b):null,[b]);return g.viewport?d.jsxs(d.Fragment,{children:[D&&d.jsx($H,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),d.jsx(FH,{scope:n,onClose:N,children:ei.createPortal(d.jsx(HE.ItemSlot,{scope:n,children:d.jsx(EH,{asChild:!0,onEscapeKeyDown:fe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,G=>{G.key==="Escape"&&(a==null||a(G.nativeEvent),G.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:fe(t.onPointerDown,G=>{G.button===0&&(x.current={x:G.clientX,y:G.clientY})}),onPointerMove:fe(t.onPointerMove,G=>{if(!x.current)return;const ae=G.clientX-x.current.x,te=G.clientY-x.current.y,K=!!A.current,F=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=F?j(0,ae):0,se=F?0:j(0,te),q=G.pointerType==="touch"?10:2,J={x:Q,y:se},ie={originalEvent:G,delta:J};K?(A.current=J,ip(jH,h,ie,{discrete:!1})):jA(J,g.swipeDirection,q)?(A.current=J,ip(OH,u,ie,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(ae)>q||Math.abs(te)>q)&&(x.current=null)}),onPointerUp:fe(t.onPointerUp,G=>{const ae=A.current,te=G.target;if(te.hasPointerCapture(G.pointerId)&&te.releasePointerCapture(G.pointerId),A.current=null,x.current=null,ae){const K=G.currentTarget,F={originalEvent:G,delta:ae};jA(ae,g.swipeDirection,g.swipeThreshold)?ip(VH,m,F,{discrete:!0}):ip(LH,p,F,{discrete:!0}),K.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$H=t=>{const{__scopeToast:e,children:n,...r}=t,s=pv(mv,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return WH(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Cu,{asChild:!0,children:d.jsx(Gf,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},zH="ToastTitle",dN=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Me.div,{...r,ref:e})});dN.displayName=zH;var HH="ToastDescription",fN=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Me.div,{...r,ref:e})});fN.displayName=HH;var hN="ToastAction",pN=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(gN,{altText:n,asChild:!0,children:d.jsx(WE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${hN}\`. Expected non-empty \`string\`.`),null)});pN.displayName=hN;var mN="ToastClose",WE=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=UH(mN,n);return d.jsx(gN,{asChild:!0,children:d.jsx(Me.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,s.onClose)})})});WE.displayName=mN;var gN=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function vN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),qH(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...vN(r))}}),e}function ip(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$E(s,i):s.dispatchEvent(i)}var jA=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function WH(t=()=>{}){const e=Nn(t);Mn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function qH(t){return t.nodeType===t.ELEMENT_NODE}function GH(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var KH=oN,yN=lN,wN=uN,_N=dN,bN=fN,EN=pN,xN=WE;function SN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SN(t))&&(r&&(r+=" "),r+=e);return r}const LA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VA=CN,qE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return VA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const p=LA(u)||LA(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...m}=u;return Object.entries(m).every(w=>{let[g,b]=w;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...c,h,p]:c},[]);return VA(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...YH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:TN("lucide",s),...a},[...o.map(([c,u])=>y.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(ZH,{ref:i,iconNode:e,className:TN(`lucide-${QH(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=ut("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=ut("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=ut("CalendarSearch",[["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 11.75V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.25",key:"1jrsq6"}],["path",{d:"m22 22-1.875-1.875",key:"13zax7"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=ut("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=ut("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=ut("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=ut("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=ut("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ut("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=ut("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=ut("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ut("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=ut("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=ut("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),QE="-",g3=t=>{const e=y3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(QE);return a[0]===""&&a.length!==1&&a.shift(),DN(a,e)||v3(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},DN=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?DN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(QE);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},BA=/^\[(.+)\]$/,v3=t=>{if(BA.test(t)){const e=BA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},y3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _3(Object.entries(t.classGroups),n).forEach(([i,o])=>{gb(o,r,i,e)}),r},gb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$A(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(w3(s)){gb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{gb(o,$A(e,i),n,r)})})},$A=(t,e)=>{let n=t;return e.split(QE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},w3=t=>t.isThemeGetter,_3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,b3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},PN="!",E3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let b=0;b<a.length;b++){let _=a[b];if(c===0){if(_===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(u,b)),u=b+i;continue}if(_==="/"){h=b;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(PN),w=m?p.substring(1):p,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},x3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},S3=t=>({cache:b3(t.cacheSize),parseClassName:E3(t),...g3(t)}),C3=/\s+/,T3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(C3);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let w=!!m,g=r(w?p.substring(0,m):p);if(!g){if(!w){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}w=!1}const b=x3(u).join(":"),_=h?b+PN:b,v=_+g;if(i.includes(v))continue;i.push(v);const x=s(g,w);for(let A=0;A<x.length;++A){const P=x[A];i.push(_+P)}a=c+(a.length>0?" "+a:a)}return a};function A3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NN(e))&&(r&&(r+=" "),r+=n);return r}const NN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NN(t[r]))&&(n&&(n+=" "),n+=e);return n};function R3(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=S3(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=T3(l,n);return s(l,u),u}return function(){return i(A3.apply(null,arguments))}}const xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MN=/^\[(?:([a-z-]+):)?(.+)\]$/i,I3=/^\d+\/\d+$/,k3=new Set(["px","full","screen"]),D3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,M3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hi=t=>_c(t)||k3.has(t)||I3.test(t),oo=t=>Tu(t,"length",z3),_c=t=>!!t&&!Number.isNaN(Number(t)),gw=t=>Tu(t,"number",_c),rd=t=>!!t&&Number.isInteger(Number(t)),j3=t=>t.endsWith("%")&&_c(t.slice(0,-1)),Ge=t=>MN.test(t),ao=t=>D3.test(t),L3=new Set(["length","size","percentage"]),V3=t=>Tu(t,L3,ON),F3=t=>Tu(t,"position",ON),U3=new Set(["image","url"]),B3=t=>Tu(t,U3,W3),$3=t=>Tu(t,"",H3),sd=()=>!0,Tu=(t,e,n)=>{const r=MN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},z3=t=>P3.test(t)&&!N3.test(t),ON=()=>!1,H3=t=>M3.test(t),W3=t=>O3.test(t),q3=()=>{const t=xt("colors"),e=xt("spacing"),n=xt("blur"),r=xt("brightness"),s=xt("borderColor"),i=xt("borderRadius"),o=xt("borderSpacing"),a=xt("borderWidth"),l=xt("contrast"),c=xt("grayscale"),u=xt("hueRotate"),h=xt("invert"),p=xt("gap"),m=xt("gradientColorStops"),w=xt("gradientColorStopPositions"),g=xt("inset"),b=xt("margin"),_=xt("opacity"),v=xt("padding"),x=xt("saturate"),A=xt("scale"),P=xt("sepia"),O=xt("skew"),T=xt("space"),S=xt("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ge,e],k=()=>[Ge,e],D=()=>["",hi,oo],G=()=>["auto",_c,Ge],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Ge],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[_c,Ge];return{cacheSize:500,separator:":",theme:{colors:[sd],spacing:[hi,oo],blur:["none","",ao,Ge],brightness:se(),borderColor:[t],borderRadius:["none","","full",ao,Ge],borderSpacing:k(),borderWidth:D(),contrast:se(),grayscale:j(),hueRotate:se(),invert:j(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[j3,oo],inset:N(),margin:N(),opacity:se(),padding:k(),saturate:se(),scale:se(),sepia:j(),skew:se(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[ao]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Ge]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rd,Ge]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",rd,Ge]}],"grid-cols":[{"grid-cols":[sd]}],"col-start-end":[{col:["auto",{span:["full",rd,Ge]},Ge]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[sd]}],"row-start-end":[{row:["auto",{span:[rd,Ge]},Ge]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[ao]},ao]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ao,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gw]}],"font-family":[{font:[sd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",_c,gw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hi,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hi,oo]}],"underline-offset":[{"underline-offset":["auto",hi,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),F3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},B3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[hi,Ge]}],"outline-w":[{outline:[hi,oo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[hi,oo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ao,$3]}],"shadow-color":[{shadow:[sd]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ao,Ge]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[rd,Ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hi,oo,gw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},G3=R3(q3);function me(...t){return G3(CN(t))}const K3=KH,jN=y.forwardRef(({className:t,...e},n)=>d.jsx(yN,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));jN.displayName=yN.displayName;const Q3=qE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LN=y.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(wN,{ref:r,className:me(Q3({variant:e}),t),...n}));LN.displayName=wN.displayName;const Y3=y.forwardRef(({className:t,...e},n)=>d.jsx(EN,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Y3.displayName=EN.displayName;const VN=y.forwardRef(({className:t,...e},n)=>d.jsx(xN,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(dc,{className:"h-4 w-4"})}));VN.displayName=xN.displayName;const FN=y.forwardRef(({className:t,...e},n)=>d.jsx(_N,{ref:n,className:me("text-sm font-semibold",t),...e}));FN.displayName=_N.displayName;const UN=y.forwardRef(({className:t,...e},n)=>d.jsx(bN,{ref:n,className:me("text-sm opacity-90",t),...e}));UN.displayName=bN.displayName;function BN(){const{toasts:t}=UE();return d.jsxs(K3,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(LN,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(FN,{children:n}),r&&d.jsx(UN,{children:r})]}),s,d.jsx(VN,{})]},e)}),d.jsx(jN,{})]})}var Z3=Z1.useId||(()=>{}),X3=0;function ps(t){const[e,n]=y.useState(Z3());return Mn(()=>{n(r=>r??String(X3++))},[t]),e?`radix-${e}`:""}const J3=["top","right","bottom","left"],na=Math.min,Sr=Math.max,Nm=Math.round,op=Math.floor,Ks=t=>({x:t,y:t}),e9={left:"right",right:"left",bottom:"top",top:"bottom"},t9={start:"end",end:"start"};function vb(t,e,n){return Sr(t,na(e,n))}function Vi(t,e){return typeof t=="function"?t(e):t}function Fi(t){return t.split("-")[0]}function Au(t){return t.split("-")[1]}function YE(t){return t==="x"?"y":"x"}function ZE(t){return t==="y"?"height":"width"}function ra(t){return["top","bottom"].includes(Fi(t))?"y":"x"}function XE(t){return YE(ra(t))}function n9(t,e,n){n===void 0&&(n=!1);const r=Au(t),s=XE(t),i=ZE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Mm(o)),[o,Mm(o)]}function r9(t){const e=Mm(t);return[yb(t),e,yb(e)]}function yb(t){return t.replace(/start|end/g,e=>t9[e])}function s9(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function i9(t,e,n,r){const s=Au(t);let i=s9(Fi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(yb)))),i}function Mm(t){return t.replace(/left|right|bottom|top/g,e=>e9[e])}function o9(t){return{top:0,right:0,bottom:0,left:0,...t}}function $N(t){return typeof t!="number"?o9(t):{top:t,right:t,bottom:t,left:t}}function Om(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function zA(t,e,n){let{reference:r,floating:s}=t;const i=ra(e),o=XE(e),a=ZE(o),l=Fi(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Au(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const a9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=zA(c,r,l),p=r,m={},w=0;for(let g=0;g<a.length;g++){const{name:b,fn:_}=a[g],{x:v,y:x,data:A,reset:P}=await _({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,h=x??h,m={...m,[b]:{...m[b],...A}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:u,y:h}=zA(c,p,l)),g=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:m}};async function ff(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Vi(e,t),w=$N(m),b=a[p?h==="floating"?"reference":"floating":h],_=Om(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},P=Om(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(_.top-P.top+w.top)/A.y,bottom:(P.bottom-_.bottom+w.bottom)/A.y,left:(_.left-P.left+w.left)/A.x,right:(P.right-_.right+w.right)/A.x}}const l9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Vi(t,e)||{};if(c==null)return{};const h=$N(u),p={x:n,y:r},m=XE(s),w=ZE(m),g=await o.getDimensions(c),b=m==="y",_=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[m]-p[m]-i.floating[w],P=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=O?O[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=a.floating[x]||i.floating[w]);const S=A/2-P/2,R=T/2-g[w]/2-1,I=na(h[_],R),N=na(h[v],R),k=I,D=T-g[w]-N,G=T/2-g[w]/2+S,ae=vb(k,G,D),te=!l.arrow&&Au(s)!=null&&G!==ae&&i.reference[w]/2-(G<k?I:N)-g[w]/2<0,K=te?G<k?G-k:G-D:0;return{[m]:p[m]+K,data:{[m]:ae,centerOffset:G-ae-K,...te&&{alignmentOffset:K}},reset:te}}}),c9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...b}=Vi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Fi(s),v=ra(a),x=Fi(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(x||!g?[Mm(a)]:r9(a)),O=w!=="none";!p&&O&&P.push(...i9(a,g,w,A));const T=[a,...P],S=await ff(e,b),R=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&R.push(S[_]),h){const G=n9(s,o,A);R.push(S[G[0]],S[G[1]])}if(I=[...I,{placement:s,overflows:R}],!R.every(G=>G<=0)){var N,k;const G=(((N=i.flip)==null?void 0:N.index)||0)+1,ae=T[G];if(ae)return{data:{index:G,overflows:I},reset:{placement:ae}};let te=(k=I.filter(K=>K.overflows[0]<=0).sort((K,F)=>K.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!te)switch(m){case"bestFit":{var D;const K=(D=I.filter(F=>{if(O){const j=ra(F.placement);return j===v||j==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,Q)=>j+Q,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:D[0];K&&(te=K);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function HA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WA(t){return J3.some(e=>t[e]>=0)}const u9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Vi(t,e);switch(r){case"referenceHidden":{const i=await ff(e,{...s,elementContext:"reference"}),o=HA(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:WA(o)}}}case"escaped":{const i=await ff(e,{...s,altBoundary:!0}),o=HA(i,n.floating);return{data:{escapedOffsets:o,escaped:WA(o)}}}default:return{}}}}};async function d9(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fi(n),a=Au(n),l=ra(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=Vi(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const f9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await d9(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},h9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:v}=b;return{x:_,y:v}}},...l}=Vi(t,e),c={x:n,y:r},u=await ff(e,l),h=ra(Fi(s)),p=YE(h);let m=c[p],w=c[h];if(i){const b=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+u[b],x=m-u[_];m=vb(v,m,x)}if(o){const b=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=w+u[b],x=w-u[_];w=vb(v,w,x)}const g=a.fn({...e,[p]:m,[h]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[h]:o}}}}}},p9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Vi(t,e),u={x:n,y:r},h=ra(s),p=YE(h);let m=u[p],w=u[h];const g=Vi(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=p==="y"?"height":"width",A=i.reference[p]-i.floating[x]+b.mainAxis,P=i.reference[p]+i.reference[x]-b.mainAxis;m<A?m=A:m>P&&(m=P)}if(c){var _,v;const x=p==="y"?"width":"height",A=["top","left"].includes(Fi(s)),P=i.reference[h]-i.floating[x]+(A&&((_=o.offset)==null?void 0:_[h])||0)+(A?0:b.crossAxis),O=i.reference[h]+i.reference[x]+(A?0:((v=o.offset)==null?void 0:v[h])||0)-(A?b.crossAxis:0);w<P?w=P:w>O&&(w=O)}return{[p]:m,[h]:w}}}},m9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Vi(t,e),u=await ff(e,c),h=Fi(s),p=Au(s),m=ra(s)==="y",{width:w,height:g}=i.floating;let b,_;h==="top"||h==="bottom"?(b=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,b=p==="end"?"top":"bottom");const v=g-u.top-u.bottom,x=w-u.left-u.right,A=na(g-u[b],v),P=na(w-u[_],x),O=!e.middlewareData.shift;let T=A,S=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),O&&!p){const I=Sr(u.left,0),N=Sr(u.right,0),k=Sr(u.top,0),D=Sr(u.bottom,0);m?S=w-2*(I!==0||N!==0?I+N:Sr(u.left,u.right)):T=g-2*(k!==0||D!==0?k+D:Sr(u.top,u.bottom))}await l({...e,availableWidth:S,availableHeight:T});const R=await o.getDimensions(a.floating);return w!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function gv(){return typeof window<"u"}function Ru(t){return zN(t)?(t.nodeName||"").toLowerCase():"#document"}function Ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ci(t){var e;return(e=(zN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zN(t){return gv()?t instanceof Node||t instanceof Ir(t).Node:!1}function ys(t){return gv()?t instanceof Element||t instanceof Ir(t).Element:!1}function ni(t){return gv()?t instanceof HTMLElement||t instanceof Ir(t).HTMLElement:!1}function qA(t){return!gv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ir(t).ShadowRoot}function Kf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function g9(t){return["table","td","th"].includes(Ru(t))}function vv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function JE(t){const e=ex(),n=ys(t)?ws(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function v9(t){let e=sa(t);for(;ni(e)&&!Zc(e);){if(JE(e))return e;if(vv(e))return null;e=sa(e)}return null}function ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zc(t){return["html","body","#document"].includes(Ru(t))}function ws(t){return Ir(t).getComputedStyle(t)}function yv(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sa(t){if(Ru(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qA(t)&&t.host||ci(t);return qA(e)?e.host:e}function HN(t){const e=sa(t);return Zc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ni(e)&&Kf(e)?e:HN(e)}function hf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=HN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ir(s);if(i){const a=wb(o);return e.concat(o,o.visualViewport||[],Kf(s)?s:[],a&&n?hf(a):[])}return e.concat(s,hf(s,[],n))}function wb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WN(t){const e=ws(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ni(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Nm(n)!==i||Nm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function tx(t){return ys(t)?t:t.contextElement}function bc(t){const e=tx(t);if(!ni(e))return Ks(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=WN(e);let o=(i?Nm(n.width):n.width)/r,a=(i?Nm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const y9=Ks(0);function qN(t){const e=Ir(t);return!ex()||!e.visualViewport?y9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ir(t)?!1:e}function al(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=tx(t);let o=Ks(1);e&&(r?ys(r)&&(o=bc(r)):o=bc(t));const a=w9(i,n,r)?qN(i):Ks(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const p=Ir(i),m=r&&ys(r)?Ir(r):r;let w=p,g=wb(w);for(;g&&r&&m!==w;){const b=bc(g),_=g.getBoundingClientRect(),v=ws(g),x=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,A=_.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,h*=b.y,l+=x,c+=A,w=Ir(g),g=wb(w)}}return Om({width:u,height:h,x:l,y:c})}function nx(t,e){const n=yv(t).scrollLeft;return e?e.left+n:al(ci(t)).left+n}function GN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:nx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function _9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ci(r),a=e?vv(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ks(1);const u=Ks(0),h=ni(r);if((h||!h&&!i)&&((Ru(r)!=="body"||Kf(o))&&(l=yv(r)),ni(r))){const m=al(r);c=bc(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!h&&!i?GN(o,l,!0):Ks(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function b9(t){return Array.from(t.getClientRects())}function E9(t){const e=ci(t),n=yv(t),r=t.ownerDocument.body,s=Sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nx(t);const a=-n.scrollTop;return ws(r).direction==="rtl"&&(o+=Sr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function x9(t,e){const n=Ir(t),r=ci(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=ex();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function S9(t,e){const n=al(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ni(t)?bc(t):Ks(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function GA(t,e,n){let r;if(e==="viewport")r=x9(t,n);else if(e==="document")r=E9(ci(t));else if(ys(e))r=S9(e,n);else{const s=qN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Om(r)}function KN(t,e){const n=sa(t);return n===e||!ys(n)||Zc(n)?!1:ws(n).position==="fixed"||KN(n,e)}function C9(t,e){const n=e.get(t);if(n)return n;let r=hf(t,[],!1).filter(a=>ys(a)&&Ru(a)!=="body"),s=null;const i=ws(t).position==="fixed";let o=i?sa(t):t;for(;ys(o)&&!Zc(o);){const a=ws(o),l=JE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Kf(o)&&!l&&KN(t,o))?r=r.filter(u=>u!==o):s=a,o=sa(o)}return e.set(t,r),r}function T9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?vv(e)?[]:C9(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=GA(e,u,s);return c.top=Sr(h.top,c.top),c.right=na(h.right,c.right),c.bottom=na(h.bottom,c.bottom),c.left=Sr(h.left,c.left),c},GA(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function A9(t){const{width:e,height:n}=WN(t);return{width:e,height:n}}function R9(t,e,n){const r=ni(e),s=ci(e),i=n==="fixed",o=al(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ks(0);if(r||!r&&!i)if((Ru(e)!=="body"||Kf(s))&&(a=yv(e)),r){const p=al(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=nx(s));const c=s&&!r&&!i?GN(s,a):Ks(0),u=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:u,y:h,width:o.width,height:o.height}}function vw(t){return ws(t).position==="static"}function KA(t,e){if(!ni(t)||ws(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ci(t)===n&&(n=n.ownerDocument.body),n}function QN(t,e){const n=Ir(t);if(vv(t))return n;if(!ni(t)){let s=sa(t);for(;s&&!Zc(s);){if(ys(s)&&!vw(s))return s;s=sa(s)}return n}let r=KA(t,e);for(;r&&g9(r)&&vw(r);)r=KA(r,e);return r&&Zc(r)&&vw(r)&&!JE(r)?n:r||v9(t)||n}const I9=async function(t){const e=this.getOffsetParent||QN,n=this.getDimensions,r=await n(t.floating);return{reference:R9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function k9(t){return ws(t).direction==="rtl"}const D9={convertOffsetParentRelativeRectToViewportRelativeRect:_9,getDocumentElement:ci,getClippingRect:T9,getOffsetParent:QN,getElementRects:I9,getClientRects:b9,getDimensions:A9,getScale:bc,isElement:ys,isRTL:k9};function YN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function P9(t,e){let n=null,r;const s=ci(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const w=op(h),g=op(s.clientWidth-(u+p)),b=op(s.clientHeight-(h+m)),_=op(u),x={rootMargin:-w+"px "+-g+"px "+-b+"px "+-_+"px",threshold:Sr(0,na(1,l))||1};let A=!0;function P(O){const T=O[0].intersectionRatio;if(T!==l){if(!A)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!YN(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(P,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,x)}n.observe(t)}return o(!0),i}function N9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=tx(t),u=s||i?[...c?hf(c):[],...hf(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?P9(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,g=l?al(t):null;l&&b();function b(){const _=al(t);g&&!YN(g,_)&&n(),g=_,w=requestAnimationFrame(b)}return n(),()=>{var _;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const M9=f9,O9=h9,j9=c9,L9=m9,V9=u9,QA=l9,F9=p9,U9=(t,e,n)=>{const r=new Map,s={platform:D9,...n},i={...s.platform,_c:r};return a9(t,e,{...s,platform:i})};var Up=typeof document<"u"?y.useLayoutEffect:y.useEffect;function jm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!jm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ZN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YA(t,e){const n=ZN(t);return Math.round(e*n)/n}function yw(t){const e=y.useRef(t);return Up(()=>{e.current=t}),e}function B9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=y.useState(r);jm(p,r)||m(r);const[w,g]=y.useState(null),[b,_]=y.useState(null),v=y.useCallback(F=>{F!==O.current&&(O.current=F,g(F))},[]),x=y.useCallback(F=>{F!==T.current&&(T.current=F,_(F))},[]),A=i||w,P=o||b,O=y.useRef(null),T=y.useRef(null),S=y.useRef(u),R=l!=null,I=yw(l),N=yw(s),k=yw(c),D=y.useCallback(()=>{if(!O.current||!T.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),U9(O.current,T.current,F).then(j=>{const Q={...j,isPositioned:k.current!==!1};G.current&&!jm(S.current,Q)&&(S.current=Q,ei.flushSync(()=>{h(Q)}))})},[p,e,n,N,k]);Up(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const G=y.useRef(!1);Up(()=>(G.current=!0,()=>{G.current=!1}),[]),Up(()=>{if(A&&(O.current=A),P&&(T.current=P),A&&P){if(I.current)return I.current(A,P,D);D()}},[A,P,D,I,R]);const ae=y.useMemo(()=>({reference:O,floating:T,setReference:v,setFloating:x}),[v,x]),te=y.useMemo(()=>({reference:A,floating:P}),[A,P]),K=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!te.floating)return F;const j=YA(te.floating,u.x),Q=YA(te.floating,u.y);return a?{...F,transform:"translate("+j+"px, "+Q+"px)",...ZN(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:Q}},[n,a,te.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:D,refs:ae,elements:te,floatingStyles:K}),[u,D,ae,te,K])}const $9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QA({element:r.current,padding:s}).fn(n):{}:r?QA({element:r,padding:s}).fn(n):{}}}},z9=(t,e)=>({...M9(t),options:[t,e]}),H9=(t,e)=>({...O9(t),options:[t,e]}),W9=(t,e)=>({...F9(t),options:[t,e]}),q9=(t,e)=>({...j9(t),options:[t,e]}),G9=(t,e)=>({...L9(t),options:[t,e]}),K9=(t,e)=>({...V9(t),options:[t,e]}),Q9=(t,e)=>({...$9(t),options:[t,e]});var Y9="Arrow",XN=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});XN.displayName=Y9;var Z9=XN;function JN(t){const[e,n]=y.useState(void 0);return Mn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var rx="Popper",[eM,va]=jr(rx),[X9,tM]=eM(rx),nM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return d.jsx(X9,{scope:e,anchor:r,onAnchorChange:s,children:n})};nM.displayName=rx;var rM="PopperAnchor",sM=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=tM(rM,n),o=y.useRef(null),a=et(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Me.div,{...s,ref:a})});sM.displayName=rM;var sx="PopperContent",[J9,eW]=eM(sx),iM=y.forwardRef((t,e)=>{var H,ye,Se,xe,ge,ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=t,b=tM(sx,n),[_,v]=y.useState(null),x=et(e,Re=>v(Re)),[A,P]=y.useState(null),O=JN(A),T=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,R=r+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],k=N.length>0,D={padding:I,boundary:N.filter(nW),altBoundary:k},{refs:G,floatingStyles:ae,placement:te,isPositioned:K,middlewareData:F}=B9({strategy:"fixed",placement:R,whileElementsMounted:(...Re)=>N9(...Re,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[z9({mainAxis:s+S,alignmentAxis:o}),l&&H9({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?W9():void 0,...D}),l&&q9({...D}),G9({...D,apply:({elements:Re,rects:Fe,availableWidth:Ze,availableHeight:Ke})=>{const{width:bt,height:L}=Fe.reference,U=Re.floating.style;U.setProperty("--radix-popper-available-width",`${Ze}px`),U.setProperty("--radix-popper-available-height",`${Ke}px`),U.setProperty("--radix-popper-anchor-width",`${bt}px`),U.setProperty("--radix-popper-anchor-height",`${L}px`)}}),A&&Q9({element:A,padding:a}),rW({arrowWidth:T,arrowHeight:S}),p&&K9({strategy:"referenceHidden",...D})]}),[j,Q]=lM(te),se=Nn(w);Mn(()=>{K&&(se==null||se())},[K,se]);const q=(H=F.arrow)==null?void 0:H.x,J=(ye=F.arrow)==null?void 0:ye.y,ie=((Se=F.arrow)==null?void 0:Se.centerOffset)!==0,[Ee,$]=y.useState();return Mn(()=>{_&&$(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:K?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(xe=F.transformOrigin)==null?void 0:xe.x,(ge=F.transformOrigin)==null?void 0:ge.y].join(" "),...((ne=F.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(J9,{scope:n,placedSide:j,onArrowChange:P,arrowX:q,arrowY:J,shouldHideArrow:ie,children:d.jsx(Me.div,{"data-side":j,"data-align":Q,...g,ref:x,style:{...g.style,animation:K?void 0:"none"}})})})});iM.displayName=sx;var oM="PopperArrow",tW={top:"bottom",right:"left",bottom:"top",left:"right"},aM=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=eW(oM,r),o=tW[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(Z9,{...s,ref:n,style:{...s.style,display:"block"}})})});aM.displayName=oM;function nW(t){return t!==null}var rW=t=>({name:"transformOrigin",options:t,fn(e){var b,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=lM(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",g="";return c==="bottom"?(w=o?h:`${p}px`,g=`${-l}px`):c==="top"?(w=o?h:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,g=o?h:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,g=o?h:`${m}px`),{data:{x:w,y:g}}}});function lM(t){const[e,n="center"]=t.split("-");return[e,n]}var ix=nM,Qf=sM,wv=iM,_v=aM,[bv,Ufe]=jr("Tooltip",[va]),ox=va(),cM="TooltipProvider",sW=700,ZA="tooltip.open",[iW,uM]=bv(cM),dM=t=>{const{__scopeTooltip:e,delayDuration:n=sW,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=y.useState(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(iW,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};dM.displayName=cM;var fM="Tooltip",[Bfe,Ev]=bv(fM),_b="TooltipTrigger",oW=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ev(_b,n),i=uM(_b,n),o=ox(n),a=y.useRef(null),l=et(e,a,s.onTriggerChange),c=y.useRef(!1),u=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(Qf,{asChild:!0,...o,children:d.jsx(Me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:fe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:fe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});oW.displayName=_b;var aW="TooltipPortal",[$fe,lW]=bv(aW,{forceMount:void 0}),Xc="TooltipContent",hM=y.forwardRef((t,e)=>{const n=lW(Xc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ev(Xc,t.__scopeTooltip);return d.jsx(wr,{present:r||o.open,children:o.disableHoverableContent?d.jsx(pM,{side:s,...i,ref:e}):d.jsx(cW,{side:s,...i,ref:e})})}),cW=y.forwardRef((t,e)=>{const n=Ev(Xc,t.__scopeTooltip),r=uM(Xc,t.__scopeTooltip),s=y.useRef(null),i=et(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,p=y.useCallback(()=>{a(null),h(!1)},[h]),m=y.useCallback((w,g)=>{const b=w.currentTarget,_={x:w.clientX,y:w.clientY},v=hW(_,b.getBoundingClientRect()),x=pW(_,v),A=mW(g.getBoundingClientRect()),P=vW([...x,...A]);a(P),h(!0)},[h]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&u){const w=b=>m(b,u),g=b=>m(b,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",g)}}},[l,u,m,p]),y.useEffect(()=>{if(o){const w=g=>{const b=g.target,_={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(b))||(u==null?void 0:u.contains(b)),x=!gW(_,o);v?p():x&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),d.jsx(pM,{...t,ref:i})}),[uW,dW]=bv(fM,{isInside:!1}),pM=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ev(Xc,n),c=ox(n),{onClose:u}=l;return y.useEffect(()=>(document.addEventListener(ZA,u),()=>document.removeEventListener(ZA,u)),[u]),y.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(wv,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(BE,{children:r}),d.jsx(uW,{scope:n,isInside:!0,children:d.jsx(kH,{id:l.contentId,role:"tooltip",children:s||r})})]})})});hM.displayName=Xc;var mM="TooltipArrow",fW=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ox(n);return dW(mM,n).isInside?null:d.jsx(_v,{...s,...r,ref:e})});fW.displayName=mM;function hW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function mW(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function gW(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function vW(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yW(e)}function yW(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var wW=dM,gM=hM;const _W=wW,bW=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(gM,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));bW.displayName=gM.displayName;const pf=qE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Dt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ti:"button";return d.jsx(o,{className:me(pf({variant:e,size:n,className:t})),ref:i,...s})});Dt.displayName="Button";var ww="focusScope.autoFocusOnMount",_w="focusScope.autoFocusOnUnmount",XA={bubbles:!1,cancelable:!0},EW="FocusScope",Yf=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=Nn(s),u=Nn(i),h=y.useRef(null),p=et(e,g=>l(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(x){if(m.paused||!a)return;const A=x.target;a.contains(A)?h.current=A:uo(h.current,{select:!0})},b=function(x){if(m.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||uo(h.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const P of x)P.removedNodes.length>0&&uo(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){eR.add(m);const g=document.activeElement;if(!a.contains(g)){const _=new CustomEvent(ww,XA);a.addEventListener(ww,c),a.dispatchEvent(_),_.defaultPrevented||(xW(RW(vM(a)),{select:!0}),document.activeElement===g&&uo(a))}return()=>{a.removeEventListener(ww,c),setTimeout(()=>{const _=new CustomEvent(_w,XA);a.addEventListener(_w,u),a.dispatchEvent(_),_.defaultPrevented||uo(g??document.body,{select:!0}),a.removeEventListener(_w,u),eR.remove(m)},0)}}},[a,c,u,m]);const w=y.useCallback(g=>{if(!n&&!r||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(b&&_){const v=g.currentTarget,[x,A]=SW(v);x&&A?!g.shiftKey&&_===A?(g.preventDefault(),n&&uo(x,{select:!0})):g.shiftKey&&_===x&&(g.preventDefault(),n&&uo(A,{select:!0})):_===v&&g.preventDefault()}},[n,r,m.paused]);return d.jsx(Me.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Yf.displayName=EW;function xW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(uo(r,{select:e}),document.activeElement!==n)return}function SW(t){const e=vM(t),n=JA(e,t),r=JA(e.reverse(),t);return[n,r]}function vM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function JA(t,e){for(const n of t)if(!CW(n,{upTo:e}))return n}function CW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TW(t){return t instanceof HTMLInputElement&&"select"in t}function uo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&TW(t)&&e&&t.select()}}var eR=AW();function AW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tR(t,e),t.unshift(e)},remove(e){var n;t=tR(t,e),(n=t[0])==null||n.resume()}}}function tR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function RW(t){return t.filter(e=>e.tagName!=="A")}var bw=0;function xv(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nR()),document.body.insertAdjacentElement("beforeend",t[1]??nR()),bw++,()=>{bw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bw--}},[])}function nR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fs=function(){return Fs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fs.apply(this,arguments)};function Zf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IW(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Bp="right-scroll-bar-position",$p="width-before-scroll-bar",kW="with-scroll-bars-hidden",DW="--removed-body-scroll-bar-size";function Ew(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function PW(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var NW=typeof window<"u"?y.useLayoutEffect:y.useEffect,rR=new WeakMap;function MW(t,e){var n=PW(null,function(r){return t.forEach(function(s){return Ew(s,r)})});return NW(function(){var r=rR.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ew(a,null)}),i.forEach(function(a){s.has(a)||Ew(a,o)})}rR.set(n,t)},[t]),n}function OW(t){return t}function jW(t,e){e===void 0&&(e=OW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function LW(t){t===void 0&&(t={});var e=jW(null);return e.options=Fs({async:!0,ssr:!1},t),e}var yM=function(t){var e=t.sideCar,n=Zf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Fs({},n))};yM.isSideCarExport=!0;function VW(t,e){return t.useMedium(e),yM}var wM=LW(),xw=function(){},Sv=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:xw,onWheelCapture:xw,onTouchMoveCapture:xw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,w=t.inert,g=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,v=t.gapMode,x=Zf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,P=MW([n,e]),O=Fs(Fs({},x),s);return y.createElement(y.Fragment,null,u&&y.createElement(A,{sideCar:wM,removeScrollBar:c,shards:h,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),o?y.cloneElement(y.Children.only(a),Fs(Fs({},O),{ref:P})):y.createElement(_,Fs({},O,{className:l,ref:P}),a))});Sv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sv.classNames={fullWidth:$p,zeroRight:Bp};var FW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FW();return e&&t.setAttribute("nonce",e),t}function BW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $W(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=UW())&&(BW(e,n),$W(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},HW=function(){var t=zW();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_M=function(){var t=HW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},WW={left:0,top:0,right:0,gap:0},Sw=function(t){return parseInt(t||"",10)||0},qW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Sw(n),Sw(r),Sw(s)]},GW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return WW;var e=qW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},KW=_M(),Ec="data-scroll-locked",QW=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(kW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ec,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($p,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bp," .").concat(Bp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($p," .").concat($p,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ec,`] {
    `).concat(DW,": ").concat(a,`px;
  }
`)},sR=function(){var t=parseInt(document.body.getAttribute(Ec)||"0",10);return isFinite(t)?t:0},YW=function(){y.useEffect(function(){return document.body.setAttribute(Ec,(sR()+1).toString()),function(){var t=sR()-1;t<=0?document.body.removeAttribute(Ec):document.body.setAttribute(Ec,t.toString())}},[])},ZW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;YW();var i=y.useMemo(function(){return GW(s)},[s]);return y.createElement(KW,{styles:QW(i,!e,s,n?"":"!important")})},bb=!1;if(typeof window<"u")try{var ap=Object.defineProperty({},"passive",{get:function(){return bb=!0,!0}});window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{bb=!1}var $l=bb?{passive:!1}:!1,XW=function(t){return t.tagName==="TEXTAREA"},bM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!XW(t)&&n[e]==="visible")},JW=function(t){return bM(t,"overflowY")},e6=function(t){return bM(t,"overflowX")},iR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EM(t,r);if(s){var i=xM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},t6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},n6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EM=function(t,e){return t==="v"?JW(e):e6(e)},xM=function(t,e){return t==="v"?t6(e):n6(e)},r6=function(t,e){return t==="h"&&e==="rtl"?-1:1},s6=function(t,e,n,r,s){var i=r6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var m=xM(t,a),w=m[0],g=m[1],b=m[2],_=g-b-i*w;(w||_)&&EM(t,a)&&(h+=_,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(h)<1||!u&&Math.abs(p)<1)&&(c=!0),c},lp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oR=function(t){return[t.deltaX,t.deltaY]},aR=function(t){return t&&"current"in t?t.current:t},i6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},a6=0,zl=[];function l6(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(a6++)[0],i=y.useState(_M)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=IW([t.lockRef.current],(t.shards||[]).map(aR),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=lp(g),v=n.current,x="deltaX"in g?g.deltaX:v[0]-_[0],A="deltaY"in g?g.deltaY:v[1]-_[1],P,O=g.target,T=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in g&&T==="h"&&O.type==="range")return!1;var S=iR(T,O);if(!S)return!0;if(S?P=T:(P=T==="v"?"h":"v",S=iR(T,O)),!S)return!1;if(!r.current&&"changedTouches"in g&&(x||A)&&(r.current=P),!P)return!0;var R=r.current||P;return s6(R,b,g,R==="h"?x:A)},[]),l=y.useCallback(function(g){var b=g;if(!(!zl.length||zl[zl.length-1]!==i)){var _="deltaY"in b?oR(b):lp(b),v=e.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&i6(P.delta,_)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(aR).filter(Boolean).filter(function(P){return P.contains(b.target)}),A=x.length>0?a(b,x[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),c=y.useCallback(function(g,b,_,v){var x={name:g,delta:b,target:_,should:v,shadowParent:c6(_)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),u=y.useCallback(function(g){n.current=lp(g),r.current=void 0},[]),h=y.useCallback(function(g){c(g.type,oR(g),g.target,a(g,t.lockRef.current))},[]),p=y.useCallback(function(g){c(g.type,lp(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return zl.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,$l),document.addEventListener("touchmove",l,$l),document.addEventListener("touchstart",u,$l),function(){zl=zl.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,$l),document.removeEventListener("touchmove",l,$l),document.removeEventListener("touchstart",u,$l)}},[]);var m=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(i,{styles:o6(s)}):null,m?y.createElement(ZW,{gapMode:t.gapMode}):null)}function c6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const u6=VW(wM,l6);var Xf=y.forwardRef(function(t,e){return y.createElement(Sv,Fs({},t,{ref:e,sideCar:u6}))});Xf.classNames=Sv.classNames;var d6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hl=new WeakMap,cp=new WeakMap,up={},Cw=0,SM=function(t){return t&&(t.host||SM(t.parentNode))},f6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=SM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},h6=function(t,e,n,r){var s=f6(e,Array.isArray(t)?t:[t]);up[n]||(up[n]=new WeakMap);var i=up[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",g=(Hl.get(p)||0)+1,b=(i.get(p)||0)+1;Hl.set(p,g),i.set(p,b),o.push(p),g===1&&w&&cp.set(p,!0),b===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),Cw++,function(){o.forEach(function(h){var p=Hl.get(h)-1,m=i.get(h)-1;Hl.set(h,p),i.set(h,m),p||(cp.has(h)||h.removeAttribute(r),cp.delete(h)),m||h.removeAttribute(n)}),Cw--,Cw||(Hl=new WeakMap,Hl=new WeakMap,cp=new WeakMap,up={})}},Cv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=d6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),h6(r,s,n,"aria-hidden")):function(){return null}},ax="Dialog",[CM,TM]=jr(ax),[p6,Cs]=CM(ax),AM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c=!1,u]=Li({prop:r,defaultProp:s,onChange:i});return d.jsx(p6,{scope:e,triggerRef:a,contentRef:l,contentId:ps(),titleId:ps(),descriptionId:ps(),open:c,onOpenChange:u,onOpenToggle:y.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};AM.displayName=ax;var RM="DialogTrigger",IM=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(RM,n),i=et(e,s.triggerRef);return d.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ux(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});IM.displayName=RM;var lx="DialogPortal",[m6,kM]=CM(lx,{forceMount:void 0}),DM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Cs(lx,e);return d.jsx(m6,{scope:e,forceMount:n,children:y.Children.map(r,o=>d.jsx(wr,{present:n||i.open,children:d.jsx(Cu,{asChild:!0,container:s,children:o})}))})};DM.displayName=lx;var Lm="DialogOverlay",PM=y.forwardRef((t,e)=>{const n=kM(Lm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cs(Lm,t.__scopeDialog);return i.modal?d.jsx(wr,{present:r||i.open,children:d.jsx(g6,{...s,ref:e})}):null});PM.displayName=Lm;var g6=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(Lm,n);return d.jsx(Xf,{as:ti,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Me.div,{"data-state":ux(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ll="DialogContent",NM=y.forwardRef((t,e)=>{const n=kM(ll,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cs(ll,t.__scopeDialog);return d.jsx(wr,{present:r||i.open,children:i.modal?d.jsx(v6,{...s,ref:e}):d.jsx(y6,{...s,ref:e})})});NM.displayName=ll;var v6=y.forwardRef((t,e)=>{const n=Cs(ll,t.__scopeDialog),r=y.useRef(null),s=et(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return Cv(i)},[]),d.jsx(MM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),y6=y.forwardRef((t,e)=>{const n=Cs(ll,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return d.jsx(MM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),MM=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Cs(ll,n),l=y.useRef(null),c=et(e,l);return xv(),d.jsxs(d.Fragment,{children:[d.jsx(Yf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Tl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ux(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(_6,{titleId:a.titleId}),d.jsx(E6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),cx="DialogTitle",OM=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(cx,n);return d.jsx(Me.h2,{id:s.titleId,...r,ref:e})});OM.displayName=cx;var jM="DialogDescription",LM=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(jM,n);return d.jsx(Me.p,{id:s.descriptionId,...r,ref:e})});LM.displayName=jM;var VM="DialogClose",FM=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(VM,n);return d.jsx(Me.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});FM.displayName=VM;function ux(t){return t?"open":"closed"}var UM="DialogTitleWarning",[w6,BM]=cH(UM,{contentName:ll,titleName:cx,docsSlug:"dialog"}),_6=({titleId:t})=>{const e=BM(UM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},b6="DialogDescriptionWarning",E6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BM(b6).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},$M=AM,zM=IM,HM=DM,dx=PM,fx=NM,hx=OM,px=LM,mx=FM;const mf=$M,lR=zM,x6=HM,WM=y.forwardRef(({className:t,...e},n)=>d.jsx(dx,{ref:n,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));WM.displayName=dx.displayName;const Jc=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(x6,{children:[d.jsx(WM,{}),d.jsxs(fx,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(mx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(dc,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jc.displayName=fx.displayName;const eu=({className:t,...e})=>d.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});eu.displayName="DialogHeader";const Eb=({className:t,...e})=>d.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Eb.displayName="DialogFooter";const tu=y.forwardRef(({className:t,...e},n)=>d.jsx(hx,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));tu.displayName=hx.displayName;const Vm=y.forwardRef(({className:t,...e},n)=>d.jsx(px,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));Vm.displayName=px.displayName;var cR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},S6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},GM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[u],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new C6;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T6=function(t){const e=qM(t);return GM.encodeByteArray(e,!0)},Fm=function(t){return T6(t).replace(/\./g,"")},KM=function(t){try{return GM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=()=>A6().__FIREBASE_DEFAULTS__,I6=()=>{if(typeof process>"u"||typeof cR>"u")return;const t=cR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KM(t[1]);return e&&JSON.parse(e)},Tv=()=>{try{return R6()||I6()||k6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QM=t=>{var e,n;return(n=(e=Tv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},D6=t=>{const e=QM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YM=()=>{var t;return(t=Tv())===null||t===void 0?void 0:t.config},ZM=t=>{var e;return(e=Tv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fm(JSON.stringify(n)),Fm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function O6(){var t;const e=(t=Tv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F6(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U6(){return!O6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B6(){try{return typeof indexedDB=="object"}catch{return!1}}function $6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="FirebaseError";class Qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=z6,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jf.prototype.create)}}class Jf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?H6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Qi(s,a,r)}}function H6(t,e){return t.replace(W6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const W6=/\{\$([^}]+)}/g;function q6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Um(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(uR(i)&&uR(o)){if(!Um(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G6(t,e){const n=new K6(t,e);return n.subscribe.bind(n)}class K6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Tw),s.error===void 0&&(s.error=Tw),s.complete===void 0&&(s.complete=Tw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class cl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X6(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z6(t){return t===Na?void 0:t}function X6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const e8={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},t8=Xe.INFO,n8={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},r8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=n8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gx{constructor(e){this.name=e,this._logLevel=t8,this._logHandler=r8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const s8=(t,e)=>e.some(n=>t instanceof n);let dR,fR;function i8(){return dR||(dR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o8(){return fR||(fR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XM=new WeakMap,xb=new WeakMap,JM=new WeakMap,Aw=new WeakMap,vx=new WeakMap;function a8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XM.set(n,t)}).catch(()=>{}),vx.set(e,t),e}function l8(t){if(xb.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});xb.set(t,e)}let Sb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c8(t){Sb=t(Sb)}function u8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rw(this),e,...n);return JM.set(r,e.sort?e.sort():[e]),qo(r)}:o8().includes(t)?function(...e){return t.apply(Rw(this),e),qo(XM.get(this))}:function(...e){return qo(t.apply(Rw(this),e))}}function d8(t){return typeof t=="function"?u8(t):(t instanceof IDBTransaction&&l8(t),s8(t,i8())?new Proxy(t,Sb):t)}function qo(t){if(t instanceof IDBRequest)return a8(t);if(Aw.has(t))return Aw.get(t);const e=d8(t);return e!==t&&(Aw.set(t,e),vx.set(e,t)),e}const Rw=t=>vx.get(t);function f8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=qo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qo(o.result),l.oldVersion,l.newVersion,qo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const h8=["get","getKey","getAll","getAllKeys","count"],p8=["put","add","delete","clear"],Iw=new Map;function hR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iw.get(e))return Iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=p8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||h8.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Iw.set(e,i),i}c8(t=>({...t,get:(e,n,r)=>hR(e,n)||t.get(e,n,r),has:(e,n)=>!!hR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cb="@firebase/app",pR="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new gx("@firebase/app"),v8="@firebase/app-compat",y8="@firebase/analytics-compat",w8="@firebase/analytics",_8="@firebase/app-check-compat",b8="@firebase/app-check",E8="@firebase/auth",x8="@firebase/auth-compat",S8="@firebase/database",C8="@firebase/data-connect",T8="@firebase/database-compat",A8="@firebase/functions",R8="@firebase/functions-compat",I8="@firebase/installations",k8="@firebase/installations-compat",D8="@firebase/messaging",P8="@firebase/messaging-compat",N8="@firebase/performance",M8="@firebase/performance-compat",O8="@firebase/remote-config",j8="@firebase/remote-config-compat",L8="@firebase/storage",V8="@firebase/storage-compat",F8="@firebase/firestore",U8="@firebase/vertexai",B8="@firebase/firestore-compat",$8="firebase",z8="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="[DEFAULT]",H8={[Cb]:"fire-core",[v8]:"fire-core-compat",[w8]:"fire-analytics",[y8]:"fire-analytics-compat",[b8]:"fire-app-check",[_8]:"fire-app-check-compat",[E8]:"fire-auth",[x8]:"fire-auth-compat",[S8]:"fire-rtdb",[C8]:"fire-data-connect",[T8]:"fire-rtdb-compat",[A8]:"fire-fn",[R8]:"fire-fn-compat",[I8]:"fire-iid",[k8]:"fire-iid-compat",[D8]:"fire-fcm",[P8]:"fire-fcm-compat",[N8]:"fire-perf",[M8]:"fire-perf-compat",[O8]:"fire-rc",[j8]:"fire-rc-compat",[L8]:"fire-gcs",[V8]:"fire-gcs-compat",[F8]:"fire-fst",[B8]:"fire-fst-compat",[U8]:"fire-vertex","fire-js":"fire-js",[$8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,W8=new Map,Ab=new Map;function mR(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nu(t){const e=t.name;if(Ab.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Ab.set(e,t);for(const n of gf.values())mR(n,t);for(const n of W8.values())mR(n,t);return!0}function yx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Go=new Jf("app","Firebase",q8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=z8;function wx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tb,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Go.create("bad-app-name",{appName:String(s)});if(n||(n=YM()),!n)throw Go.create("no-options");const i=gf.get(s);if(i){if(Um(n,i.options)&&Um(r,i.config))return i;throw Go.create("duplicate-app",{appName:s})}const o=new J6(s);for(const l of Ab.values())o.addComponent(l);const a=new G8(n,r,o);return gf.set(s,a),a}function eO(t=Tb){const e=gf.get(t);if(!e&&t===Tb&&YM())return wx();if(!e)throw Go.create("no-app",{appName:t});return e}function gR(){return Array.from(gf.values())}function Ko(t,e,n){var r;let s=(r=H8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(a.join(" "));return}nu(new cl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="firebase-heartbeat-database",Q8=1,vf="firebase-heartbeat-store";let kw=null;function tO(){return kw||(kw=f8(K8,Q8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Go.create("idb-open",{originalErrorMessage:t.message})})),kw}async function Y8(t){try{const n=(await tO()).transaction(vf),r=await n.objectStore(vf).get(nO(t));return await n.done,r}catch(e){if(e instanceof Qi)Ui.warn(e.message);else{const n=Go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function vR(t,e){try{const r=(await tO()).transaction(vf,"readwrite");await r.objectStore(vf).put(e,nO(t)),await r.done}catch(n){if(n instanceof Qi)Ui.warn(n.message);else{const r=Go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function nO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=1024,X8=30;class J8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>X8){const o=n7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yR(),{heartbeatsToSend:r,unsentEntries:s}=e7(this._heartbeatsCache.heartbeats),i=Fm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ui.warn(n),""}}}function yR(){return new Date().toISOString().substring(0,10)}function e7(t,e=Z8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wR(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class t7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B6()?$6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wR(t){return Fm(JSON.stringify({version:2,heartbeats:t})).length}function n7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){nu(new cl("platform-logger",e=>new m8(e),"PRIVATE")),nu(new cl("heartbeat",e=>new J8(e),"PRIVATE")),Ko(Cb,pR,t),Ko(Cb,pR,"esm2017"),Ko("fire-js","")}r7("");var s7="firebase",i7="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ko(s7,i7,"app");var _R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,rO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function R(){}R.prototype=S.prototype,T.D=S.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(I,N,k){for(var D=Array(arguments.length-2),G=2;G<arguments.length;G++)D[G-2]=arguments[G];return S.prototype[N].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,S,R){R||(R=0);var I=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)I[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)I[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=T.g[0],R=T.g[1],N=T.g[2];var k=T.g[3],D=S+(k^R&(N^k))+I[0]+3614090360&4294967295;S=R+(D<<7&4294967295|D>>>25),D=k+(N^S&(R^N))+I[1]+3905402710&4294967295,k=S+(D<<12&4294967295|D>>>20),D=N+(R^k&(S^R))+I[2]+606105819&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(S^N&(k^S))+I[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(k^R&(N^k))+I[4]+4118548399&4294967295,S=R+(D<<7&4294967295|D>>>25),D=k+(N^S&(R^N))+I[5]+1200080426&4294967295,k=S+(D<<12&4294967295|D>>>20),D=N+(R^k&(S^R))+I[6]+2821735955&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(S^N&(k^S))+I[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(k^R&(N^k))+I[8]+1770035416&4294967295,S=R+(D<<7&4294967295|D>>>25),D=k+(N^S&(R^N))+I[9]+2336552879&4294967295,k=S+(D<<12&4294967295|D>>>20),D=N+(R^k&(S^R))+I[10]+4294925233&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(S^N&(k^S))+I[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(k^R&(N^k))+I[12]+1804603682&4294967295,S=R+(D<<7&4294967295|D>>>25),D=k+(N^S&(R^N))+I[13]+4254626195&4294967295,k=S+(D<<12&4294967295|D>>>20),D=N+(R^k&(S^R))+I[14]+2792965006&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(S^N&(k^S))+I[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(N^k&(R^N))+I[1]+4129170786&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(S^R))+I[6]+3225465664&4294967295,k=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(k^S))+I[11]+643717713&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(N^k))+I[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(N^k&(R^N))+I[5]+3593408605&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(S^R))+I[10]+38016083&4294967295,k=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(k^S))+I[15]+3634488961&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(N^k))+I[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(N^k&(R^N))+I[9]+568446438&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(S^R))+I[14]+3275163606&4294967295,k=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(k^S))+I[3]+4107603335&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(N^k))+I[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(N^k&(R^N))+I[13]+2850285829&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(S^R))+I[2]+4243563512&4294967295,k=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(k^S))+I[7]+1735328473&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(N^k))+I[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(R^N^k)+I[5]+4294588738&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^N)+I[8]+2272392833&4294967295,k=S+(D<<11&4294967295|D>>>21),D=N+(k^S^R)+I[11]+1839030562&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^S)+I[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(R^N^k)+I[1]+2763975236&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^N)+I[4]+1272893353&4294967295,k=S+(D<<11&4294967295|D>>>21),D=N+(k^S^R)+I[7]+4139469664&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^S)+I[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(R^N^k)+I[13]+681279174&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^N)+I[0]+3936430074&4294967295,k=S+(D<<11&4294967295|D>>>21),D=N+(k^S^R)+I[3]+3572445317&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^S)+I[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(R^N^k)+I[9]+3654602809&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^N)+I[12]+3873151461&4294967295,k=S+(D<<11&4294967295|D>>>21),D=N+(k^S^R)+I[15]+530742520&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^S)+I[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(N^(R|~k))+I[0]+4096336452&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~N))+I[7]+1126891415&4294967295,k=S+(D<<10&4294967295|D>>>22),D=N+(S^(k|~R))+I[14]+2878612391&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~S))+I[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=S+(N^(R|~k))+I[12]+1700485571&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~N))+I[3]+2399980690&4294967295,k=S+(D<<10&4294967295|D>>>22),D=N+(S^(k|~R))+I[10]+4293915773&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~S))+I[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=S+(N^(R|~k))+I[8]+1873313359&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~N))+I[15]+4264355552&4294967295,k=S+(D<<10&4294967295|D>>>22),D=N+(S^(k|~R))+I[6]+2734768916&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~S))+I[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=S+(N^(R|~k))+I[4]+4149444226&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~N))+I[11]+3174756917&4294967295,k=S+(D<<10&4294967295|D>>>22),D=N+(S^(k|~R))+I[2]+718787259&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~S))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var R=S-this.blockSize,I=this.B,N=this.h,k=0;k<S;){if(N==0)for(;k<=R;)s(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<S;)if(I[N++]=T.charCodeAt(k++),N==this.blockSize){s(this,I),N=0;break}}else for(;k<S;)if(I[N++]=T[k++],N==this.blockSize){s(this,I),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var R=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=R&255,R/=256;for(this.u(T),T=Array(16),S=R=0;4>S;++S)for(var I=0;32>I;I+=8)T[R++]=this.g[S]>>>I&255;return T};function i(T,S){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=S(T)}function o(T,S){this.h=S;for(var R=[],I=!0,N=T.length-1;0<=N;N--){var k=T[N]|0;I&&k==S||(R[N]=k,I=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?i(T,function(S){return new o([S|0],0>S?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return b(c(-T));for(var S=[],R=1,I=0;T>=R;I++)S[I]=T/R|0,R*=4294967296;return new o(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return b(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(S,8)),I=h,N=0;N<T.length;N+=8){var k=Math.min(8,T.length-N),D=parseInt(T.substring(N,N+k),S);8>k?(k=c(Math.pow(S,k)),I=I.j(k).add(c(D))):(I=I.j(R),I=I.add(c(D)))}return I}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var T=0,S=1,R=0;R<this.g.length;R++){var I=this.i(R);T+=(0<=I?I:4294967296+I)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(g(this))return"-"+b(this).toString(T);for(var S=c(Math.pow(T,6)),R=this,I="";;){var N=A(R,S).g;R=_(R,N.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=N,w(R))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=_(this,T),g(T)?-1:w(T)?0:1};function b(T){for(var S=T.g.length,R=[],I=0;I<S;I++)R[I]=~T.g[I];return new o(R,~T.h).add(p)}t.abs=function(){return g(this)?b(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),R=[],I=0,N=0;N<=S;N++){var k=I+(this.i(N)&65535)+(T.i(N)&65535),D=(k>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);I=D>>>16,k&=65535,D&=65535,R[N]=D<<16|k}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(T,S){return T.add(b(S))}t.j=function(T){if(w(this)||w(T))return h;if(g(this))return g(T)?b(this).j(b(T)):b(b(this).j(T));if(g(T))return b(this.j(b(T)));if(0>this.l(m)&&0>T.l(m))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,R=[],I=0;I<2*S;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<T.g.length;N++){var k=this.i(I)>>>16,D=this.i(I)&65535,G=T.i(N)>>>16,ae=T.i(N)&65535;R[2*I+2*N]+=D*ae,v(R,2*I+2*N),R[2*I+2*N+1]+=k*ae,v(R,2*I+2*N+1),R[2*I+2*N+1]+=D*G,v(R,2*I+2*N+1),R[2*I+2*N+2]+=k*G,v(R,2*I+2*N+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new o(R,0)};function v(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function x(T,S){this.g=T,this.h=S}function A(T,S){if(w(S))throw Error("division by zero");if(w(T))return new x(h,h);if(g(T))return S=A(b(T),S),new x(b(S.g),b(S.h));if(g(S))return S=A(T,b(S)),new x(b(S.g),S.h);if(30<T.g.length){if(g(T)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var R=p,I=S;0>=I.l(T);)R=P(R),I=P(I);var N=O(R,1),k=O(I,1);for(I=O(I,2),R=O(R,2);!w(I);){var D=k.add(I);0>=D.l(T)&&(N=N.add(R),k=D),I=O(I,1),R=O(R,1)}return S=_(T,N.j(S)),new x(N,S)}for(N=h;0<=T.l(S);){for(R=Math.max(1,Math.floor(T.m()/S.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=c(R),D=k.j(S);g(D)||0<D.l(T);)R-=I,k=c(R),D=k.j(S);w(k)&&(k=p),N=N.add(k),T=_(T,D)}return new x(N,T)}t.A=function(T){return A(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),R=[],I=0;I<S;I++)R[I]=this.i(I)&T.i(I);return new o(R,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),R=[],I=0;I<S;I++)R[I]=this.i(I)|T.i(I);return new o(R,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),R=[],I=0;I<S;I++)R[I]=this.i(I)^T.i(I);return new o(R,this.h^T.h)};function P(T){for(var S=T.g.length+1,R=[],I=0;I<S;I++)R[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(R,T.h)}function O(T,S){var R=S>>5;S%=32;for(var I=T.g.length-R,N=[],k=0;k<I;k++)N[k]=0<S?T.i(k+R)>>>S|T.i(k+R+1)<<32-S:T.i(k+R);return new o(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Qo=o}).apply(typeof _R<"u"?_R:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sO,pd,iO,zp,Rb,oO,aO,lO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,C){return f==Array.prototype||f==Object.prototype||(f[E]=C.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var E=0;E<f.length;++E){var C=f[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var C=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var B=f[M];if(!(B in C))break e;C=C[B]}f=f[f.length-1],M=C[f],E=E(M),E!=M&&E!=null&&e(C,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var C=0,M=!1,B={next:function(){if(!M&&C<f.length){var Y=C++;return{value:E(Y,f[Y]),done:!1}}return M=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function c(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function u(f,E,C){return f.call.apply(f.bind,arguments)}function h(f,E,C){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,M),f.apply(E,B)}}return function(){return f.apply(E,arguments)}}function p(f,E,C){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function m(f,E){var C=Array.prototype.slice.call(arguments,1);return function(){var M=C.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function w(f,E){function C(){}C.prototype=E.prototype,f.aa=E.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(M,B,Y){for(var he=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)he[vt-2]=arguments[vt];return E.prototype[B].apply(M,he)}}function g(f){const E=f.length;if(0<E){const C=Array(E);for(let M=0;M<E;M++)C[M]=f[M];return C}return[]}function b(f,E){for(let C=1;C<arguments.length;C++){const M=arguments[C];if(l(M)){const B=f.length||0,Y=M.length||0;f.length=B+Y;for(let he=0;he<Y;he++)f[B+he]=M[he]}else f.push(M)}}class _{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function v(f){return/^[\s\xa0]*$/.test(f)}function x(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(f,E,C){for(const M in f)E.call(C,f[M],M,f)}function T(f,E){for(const C in f)E.call(void 0,f[C],C,f)}function S(f){const E={};for(const C in f)E[C]=f[C];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,E){let C,M;for(let B=1;B<arguments.length;B++){M=arguments[B];for(C in M)f[C]=M[C];for(let Y=0;Y<R.length;Y++)C=R[Y],Object.prototype.hasOwnProperty.call(M,C)&&(f[C]=M[C])}}function N(f){var E=1;f=f.split(":");const C=[];for(;0<E&&f.length;)C.push(f.shift()),E--;return f.length&&C.push(f.join(":")),C}function k(f){a.setTimeout(()=>{throw f},0)}function D(){var f=j;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class G{constructor(){this.h=this.g=null}add(E,C){const M=ae.get();M.set(E,C),this.h?this.h.next=M:this.g=M,this.h=M}}var ae=new _(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,j=new G,Q=()=>{const f=a.Promise.resolve(void 0);K=()=>{f.then(se)}};var se=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(C){k(C)}var E=ae;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}F=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};a.addEventListener("test",C,E),a.removeEventListener("test",C,E)}catch{}return f}();function Ee(f,E){if(J.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(P){e:{try{A(E.nodeName);var B=!0;break e}catch{}B=!1}B||(E=null)}}else C=="mouseover"?E=f.fromElement:C=="mouseout"&&(E=f.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ee.aa.h.call(this)}}w(Ee,J);var $={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Se(f,E,C,M,B){this.listener=f,this.proxy=null,this.src=E,this.type=C,this.capture=!!M,this.ha=B,this.key=++ye,this.da=this.fa=!1}function xe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,E,C,M,B){var Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);var he=Re(f,E,M,B);return-1<he?(E=f[he],C||(E.fa=!1)):(E=new Se(E,this.src,Y,!!M,B),E.fa=C,f.push(E)),E};function ne(f,E){var C=E.type;if(C in f.g){var M=f.g[C],B=Array.prototype.indexOf.call(M,E,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(M,B,1),Y&&(xe(E),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Re(f,E,C,M){for(var B=0;B<f.length;++B){var Y=f[B];if(!Y.da&&Y.listener==E&&Y.capture==!!C&&Y.ha==M)return B}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),Ze={};function Ke(f,E,C,M,B){if(Array.isArray(E)){for(var Y=0;Y<E.length;Y++)Ke(f,E[Y],C,M,B);return null}return C=Ue(C),f&&f[H]?f.K(E,C,c(M)?!!M.capture:!1,B):bt(f,E,C,!1,M,B)}function bt(f,E,C,M,B,Y){if(!E)throw Error("Invalid event type");var he=c(B)?!!B.capture:!!B,vt=oe(f);if(vt||(f[Fe]=vt=new ge(f)),C=vt.add(E,C,M,he,Y),C.proxy)return C;if(M=L(),C.proxy=M,M.src=f,M.listener=C,f.addEventListener)ie||(B=he),B===void 0&&(B=!1),f.addEventListener(E.toString(),M,B);else if(f.attachEvent)f.attachEvent(ue(E.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return C}function L(){function f(C){return E.call(f.src,f.listener,C)}const E=de;return f}function U(f,E,C,M,B){if(Array.isArray(E))for(var Y=0;Y<E.length;Y++)U(f,E[Y],C,M,B);else M=c(M)?!!M.capture:!!M,C=Ue(C),f&&f[H]?(f=f.i,E=String(E).toString(),E in f.g&&(Y=f.g[E],C=Re(Y,C,M,B),-1<C&&(xe(Y[C]),Array.prototype.splice.call(Y,C,1),Y.length==0&&(delete f.g[E],f.h--)))):f&&(f=oe(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Re(E,C,M,B)),(C=-1<f?E[f]:null)&&z(C))}function z(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[H])ne(E.i,f);else{var C=f.type,M=f.proxy;E.removeEventListener?E.removeEventListener(C,M,f.capture):E.detachEvent?E.detachEvent(ue(C),M):E.addListener&&E.removeListener&&E.removeListener(M),(C=oe(E))?(ne(C,f),C.h==0&&(C.src=null,E[Fe]=null)):xe(f)}}}function ue(f){return f in Ze?Ze[f]:Ze[f]="on"+f}function de(f,E){if(f.da)f=!0;else{E=new Ee(E,this);var C=f.listener,M=f.ha||f.src;f.fa&&z(f),f=C.call(M,E)}return f}function oe(f){return f=f[Fe],f instanceof ge?f:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(f){return typeof f=="function"?f:(f[Ce]||(f[Ce]=function(E){return f.handleEvent(E)}),f[Ce])}function De(){q.call(this),this.i=new ge(this),this.M=this,this.F=null}w(De,q),De.prototype[H]=!0,De.prototype.removeEventListener=function(f,E,C,M){U(this,f,E,C,M)};function ze(f,E){var C,M=f.F;if(M)for(C=[];M;M=M.F)C.push(M);if(f=f.M,M=E.type||E,typeof E=="string")E=new J(E,f);else if(E instanceof J)E.target=E.target||f;else{var B=E;E=new J(M,f),I(E,B)}if(B=!0,C)for(var Y=C.length-1;0<=Y;Y--){var he=E.g=C[Y];B=cn(he,M,!0,E)&&B}if(he=E.g=f,B=cn(he,M,!0,E)&&B,B=cn(he,M,!1,E)&&B,C)for(Y=0;Y<C.length;Y++)he=E.g=C[Y],B=cn(he,M,!1,E)&&B}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var C=f.g[E],M=0;M<C.length;M++)xe(C[M]);delete f.g[E],f.h--}}this.F=null},De.prototype.K=function(f,E,C,M){return this.i.add(String(f),E,!1,C,M)},De.prototype.L=function(f,E,C,M){return this.i.add(String(f),E,!0,C,M)};function cn(f,E,C,M){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var B=!0,Y=0;Y<E.length;++Y){var he=E[Y];if(he&&!he.da&&he.capture==C){var vt=he.listener,fn=he.ha||he.src;he.fa&&ne(f.i,he),B=vt.call(fn,M)!==!1&&B}}return B&&!M.defaultPrevented}function Ts(f,E,C){if(typeof f=="function")C&&(f=p(f,C));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(f,E||0)}function sn(f){f.g=Ts(()=>{f.g=null,f.i&&(f.i=!1,sn(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Yr extends q{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:sn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(f){q.call(this),this.h=f,this.g={}}w(Kn,q);var Qn=[];function _r(f){O(f.g,function(E,C){this.g.hasOwnProperty(C)&&z(E)},f),f.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),_r(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zr=a.JSON.stringify,As=a.JSON.parse,Uu=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ta(){}Ta.prototype.h=null;function to(f){return f.h||(f.h=f.i())}function Aa(){}var Rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Is(){J.call(this,"d")}w(Is,J);function jn(){J.call(this,"c")}w(jn,J);var Xr={},Ne=null;function tt(){return Ne=Ne||new De}Xr.La="serverreachability";function gt(f){J.call(this,Xr.La,f)}w(gt,J);function un(f){const E=tt();ze(E,new gt(E))}Xr.STAT_EVENT="statevent";function Yn(f,E){J.call(this,Xr.STAT_EVENT,f),this.stat=E}w(Yn,J);function At(f){const E=tt();ze(E,new Yn(E,f))}Xr.Ma="timingevent";function ks(f,E){J.call(this,Xr.Ma,f),this.size=E}w(ks,J);function dn(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},E)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function AB(f,E,C,M,B,Y){f.info(function(){if(f.g)if(Y)for(var he="",vt=Y.split("&"),fn=0;fn<vt.length;fn++){var lt=vt[fn].split("=");if(1<lt.length){var _n=lt[0];lt=lt[1];var bn=_n.split("_");he=2<=bn.length&&bn[1]=="type"?he+(_n+"="+lt+"&"):he+(_n+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+M+") [attempt "+B+"]: "+E+`
`+C+`
`+he})}function RB(f,E,C,M,B,Y,he){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+B+"]: "+E+`
`+C+`
`+Y+" "+he})}function Ll(f,E,C,M){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+kB(f,C)+(M?" "+M:"")})}function IB(f,E){f.info(function(){return"TIMEOUT: "+E})}Zn.prototype.info=function(){};function kB(f,E){if(!f.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var M=C[f];if(!(2>M.length)){var B=M[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Zr(C)}catch{return E}}var Ch={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ry;function Th(){}w(Th,Ta),Th.prototype.g=function(){return new XMLHttpRequest},Th.prototype.i=function(){return{}},Ry=new Th;function no(f,E,C,M){this.j=f,this.i=E,this.l=C,this.R=M||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MC}function MC(){this.i=null,this.g="",this.h=!1}var OC={},Iy={};function ky(f,E,C){f.L=1,f.v=kh(di(E)),f.m=C,f.P=!0,jC(f,null)}function jC(f,E){f.F=Date.now(),Ah(f),f.A=di(f.v);var C=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),YC(C.i,"t",M),f.C=0,C=f.j.J,f.h=new MC,f.g=pT(f.j,C?E:null,!f.m),0<f.O&&(f.M=new Yr(p(f.Y,f,f.g),f.O)),E=f.U,C=f.g,M=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(Qn[0]=B.toString()),B=Qn);for(var Y=0;Y<B.length;Y++){var he=Ke(C,B[Y],M||E.handleEvent,!1,E.h||E);if(!he)break;E.g[he.key]=he}E=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),un(),AB(f.i,f.u,f.A,f.l,f.R,f.m)}no.prototype.ca=function(f){f=f.target;const E=this.M;E&&fi(f)==3?E.j():this.Y(f)},no.prototype.Y=function(f){try{if(f==this.g)e:{const bn=fi(this.g);var E=this.g.Ba();const Ul=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||rT(this.g)))){this.J||bn!=4||E==7||(E==8||0>=Ul?un(3):un(2)),Dy(this);var C=this.g.Z();this.X=C;t:if(LC(this)){var M=rT(this.g);f="";var B=M.length,Y=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ra(this),Bu(this);var he="";break t}this.h.i=new a.TextDecoder}for(E=0;E<B;E++)this.h.h=!0,f+=this.h.i.decode(M[E],{stream:!(Y&&E==B-1)});M.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=C==200,RB(this.i,this.u,this.A,this.l,this.R,bn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,fn=this.g;if((vt=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(vt)){var lt=vt;break t}}lt=null}if(C=lt)Ll(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Py(this,C);else{this.o=!1,this.s=3,At(12),Ra(this),Bu(this);break e}}if(this.P){C=!0;let Jr;for(;!this.J&&this.C<he.length;)if(Jr=DB(this,he),Jr==Iy){bn==4&&(this.s=4,At(14),C=!1),Ll(this.i,this.l,null,"[Incomplete Response]");break}else if(Jr==OC){this.s=4,At(15),Ll(this.i,this.l,he,"[Invalid Chunk]"),C=!1;break}else Ll(this.i,this.l,Jr,null),Py(this,Jr);if(LC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||he.length!=0||this.h.h||(this.s=1,At(16),C=!1),this.o=this.o&&C,!C)Ll(this.i,this.l,he,"[Invalid Chunked Response]"),Ra(this),Bu(this);else if(0<he.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Vy(_n),_n.M=!0,At(11))}}else Ll(this.i,this.l,he,null),Py(this,he);bn==4&&Ra(this),this.o&&!this.J&&(bn==4?uT(this.j,this):(this.o=!1,Ah(this)))}else KB(this.g),C==400&&0<he.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Ra(this),Bu(this)}}}catch{}finally{}};function LC(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function DB(f,E){var C=f.C,M=E.indexOf(`
`,C);return M==-1?Iy:(C=Number(E.substring(C,M)),isNaN(C)?OC:(M+=1,M+C>E.length?Iy:(E=E.slice(M,M+C),f.C=M+C,E)))}no.prototype.cancel=function(){this.J=!0,Ra(this)};function Ah(f){f.S=Date.now()+f.I,VC(f,f.I)}function VC(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=dn(p(f.ba,f),E)}function Dy(f){f.B&&(a.clearTimeout(f.B),f.B=null)}no.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(IB(this.i,this.A),this.L!=2&&(un(),At(17)),Ra(this),this.s=2,Bu(this)):VC(this,this.S-f)};function Bu(f){f.j.G==0||f.J||uT(f.j,f)}function Ra(f){Dy(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,_r(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Py(f,E){try{var C=f.j;if(C.G!=0&&(C.g==f||Ny(C.h,f))){if(!f.K&&Ny(C.h,f)&&C.G==3){try{var M=C.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var B=M;if(B[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)jh(C),Mh(C);else break e;Ly(C),At(18)}}else C.za=B[1],0<C.za-C.T&&37500>B[2]&&C.F&&C.v==0&&!C.C&&(C.C=dn(p(C.Za,C),6e3));if(1>=BC(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ka(C,11)}else if((f.K||C.g==f)&&jh(C),!v(E))for(B=C.Da.g.parse(E),E=0;E<B.length;E++){let lt=B[E];if(C.T=lt[0],lt=lt[1],C.G==2)if(lt[0]=="c"){C.K=lt[1],C.ia=lt[2];const _n=lt[3];_n!=null&&(C.la=_n,C.j.info("VER="+C.la));const bn=lt[4];bn!=null&&(C.Aa=bn,C.j.info("SVER="+C.Aa));const Ul=lt[5];Ul!=null&&typeof Ul=="number"&&0<Ul&&(M=1.5*Ul,C.L=M,C.j.info("backChannelRequestTimeoutMs_="+M)),M=C;const Jr=f.g;if(Jr){const Vh=Jr.g?Jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vh){var Y=M.h;Y.g||Vh.indexOf("spdy")==-1&&Vh.indexOf("quic")==-1&&Vh.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(My(Y,Y.h),Y.h=null))}if(M.D){const Fy=Jr.g?Jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fy&&(M.ya=Fy,Et(M.I,M.D,Fy))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),M=C;var he=f;if(M.qa=hT(M,M.J?M.ia:null,M.W),he.K){$C(M.h,he);var vt=he,fn=M.L;fn&&(vt.I=fn),vt.B&&(Dy(vt),Ah(vt)),M.g=he}else lT(M);0<C.i.length&&Oh(C)}else lt[0]!="stop"&&lt[0]!="close"||ka(C,7);else C.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ka(C,7):jy(C):lt[0]!="noop"&&C.l&&C.l.ta(lt),C.v=0)}}un(4)}catch{}}var PB=class{constructor(f,E){this.g=f,this.map=E}};function FC(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UC(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function BC(f){return f.h?1:f.g?f.g.size:0}function Ny(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function My(f,E){f.g?f.g.add(E):f.h=E}function $C(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}FC.prototype.cancel=function(){if(this.i=zC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function zC(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const C of f.g.values())E=E.concat(C.D);return E}return g(f.i)}function NB(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var E=[],C=f.length,M=0;M<C;M++)E.push(f[M]);return E}E=[],C=0;for(M in f)E[C++]=f[M];return E}function MB(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var E=[];f=f.length;for(var C=0;C<f;C++)E.push(C);return E}E=[],C=0;for(const M in f)E[C++]=M;return E}}}function HC(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var C=MB(f),M=NB(f),B=M.length,Y=0;Y<B;Y++)E.call(void 0,M[Y],C&&C[Y],f)}var WC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OB(f,E){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var M=f[C].indexOf("="),B=null;if(0<=M){var Y=f[C].substring(0,M);B=f[C].substring(M+1)}else Y=f[C];E(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ia(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ia){this.h=f.h,Rh(this,f.j),this.o=f.o,this.g=f.g,Ih(this,f.s),this.l=f.l;var E=f.i,C=new Hu;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),qC(this,C),this.m=f.m}else f&&(E=String(f).match(WC))?(this.h=!1,Rh(this,E[1]||"",!0),this.o=$u(E[2]||""),this.g=$u(E[3]||"",!0),Ih(this,E[4]),this.l=$u(E[5]||"",!0),qC(this,E[6]||"",!0),this.m=$u(E[7]||"")):(this.h=!1,this.i=new Hu(null,this.h))}Ia.prototype.toString=function(){var f=[],E=this.j;E&&f.push(zu(E,GC,!0),":");var C=this.g;return(C||E=="file")&&(f.push("//"),(E=this.o)&&f.push(zu(E,GC,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(zu(C,C.charAt(0)=="/"?VB:LB,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",zu(C,UB)),f.join("")};function di(f){return new Ia(f)}function Rh(f,E,C){f.j=C?$u(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Ih(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function qC(f,E,C){E instanceof Hu?(f.i=E,BB(f.i,f.h)):(C||(E=zu(E,FB)),f.i=new Hu(E,f.h))}function Et(f,E,C){f.i.set(E,C)}function kh(f){return Et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $u(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zu(f,E,C){return typeof f=="string"?(f=encodeURI(f).replace(E,jB),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jB(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var GC=/[#\/\?@]/g,LB=/[#\?:]/g,VB=/[#\?]/g,FB=/[#\?@]/g,UB=/#/g;function Hu(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function ro(f){f.g||(f.g=new Map,f.h=0,f.i&&OB(f.i,function(E,C){f.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=Hu.prototype,t.add=function(f,E){ro(this),this.i=null,f=Vl(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(E),this.h+=1,this};function KC(f,E){ro(f),E=Vl(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function QC(f,E){return ro(f),E=Vl(f,E),f.g.has(E)}t.forEach=function(f,E){ro(this),this.g.forEach(function(C,M){C.forEach(function(B){f.call(E,B,M,this)},this)},this)},t.na=function(){ro(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let M=0;M<E.length;M++){const B=f[M];for(let Y=0;Y<B.length;Y++)C.push(E[M])}return C},t.V=function(f){ro(this);let E=[];if(typeof f=="string")QC(this,f)&&(E=E.concat(this.g.get(Vl(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)E=E.concat(f[C])}return E},t.set=function(f,E){return ro(this),this.i=null,f=Vl(this,f),QC(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function YC(f,E,C){KC(f,E),0<C.length&&(f.i=null,f.g.set(Vl(f,E),g(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var M=E[C];const Y=encodeURIComponent(String(M)),he=this.V(M);for(M=0;M<he.length;M++){var B=Y;he[M]!==""&&(B+="="+encodeURIComponent(String(he[M]))),f.push(B)}}return this.i=f.join("&")};function Vl(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function BB(f,E){E&&!f.j&&(ro(f),f.i=null,f.g.forEach(function(C,M){var B=M.toLowerCase();M!=B&&(KC(this,M),YC(this,B,C))},f)),f.j=E}function $B(f,E){const C=new Zn;if(a.Image){const M=new Image;M.onload=m(so,C,"TestLoadImage: loaded",!0,E,M),M.onerror=m(so,C,"TestLoadImage: error",!1,E,M),M.onabort=m(so,C,"TestLoadImage: abort",!1,E,M),M.ontimeout=m(so,C,"TestLoadImage: timeout",!1,E,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else E(!1)}function zB(f,E){const C=new Zn,M=new AbortController,B=setTimeout(()=>{M.abort(),so(C,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:M.signal}).then(Y=>{clearTimeout(B),Y.ok?so(C,"TestPingServer: ok",!0,E):so(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(B),so(C,"TestPingServer: error",!1,E)})}function so(f,E,C,M,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),M(C)}catch{}}function HB(){this.g=new Uu}function WB(f,E,C){const M=C||"";try{HC(f,function(B,Y){let he=B;c(B)&&(he=Zr(B)),E.push(M+Y+"="+encodeURIComponent(he))})}catch(B){throw E.push(M+"type="+encodeURIComponent("_badmap")),B}}function Dh(f){this.l=f.Ub||null,this.j=f.eb||!1}w(Dh,Ta),Dh.prototype.g=function(){return new Ph(this.l,this.j)},Dh.prototype.i=function(f){return function(){return f}}({});function Ph(f,E){De.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ph,De),t=Ph.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,qu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qu(this)),this.g&&(this.readyState=3,qu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZC(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZC(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Wu(this):qu(this),this.readyState==3&&ZC(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Wu(this))},t.Qa=function(f){this.g&&(this.response=f,Wu(this))},t.ga=function(){this.g&&Wu(this)};function Wu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,qu(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=E.next();return f.join(`\r
`)};function qu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function XC(f){let E="";return O(f,function(C,M){E+=M,E+=":",E+=C,E+=`\r
`}),E}function Oy(f,E,C){e:{for(M in C){var M=!1;break e}M=!0}M||(C=XC(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):Et(f,E,C))}function Ft(f){De.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ft,De);var qB=/^https?$/i,GB=["POST","PUT"];t=Ft.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,C,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ry.g(),this.v=this.o?to(this.o):to(Ry),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(Y){JC(this,Y);return}if(f=C||"",C=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var B in M)C.set(B,M[B]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())C.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(C.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GB,E,void 0))||M||B||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of C)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nT(this),this.u=!0,this.g.send(f),this.u=!1}catch(Y){JC(this,Y)}};function JC(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,eT(f),Nh(f)}function eT(f){f.A||(f.A=!0,ze(f,"complete"),ze(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ze(this,"complete"),ze(this,"abort"),Nh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nh(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tT(this):this.bb())},t.bb=function(){tT(this)};function tT(f){if(f.h&&typeof o<"u"&&(!f.v[1]||fi(f)!=4||f.Z()!=2)){if(f.u&&fi(f)==4)Ts(f.Ea,0,f);else if(ze(f,"readystatechange"),fi(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var M;if(M=he===0){var B=String(f.D).match(WC)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),M=!qB.test(B?B.toLowerCase():"")}C=M}if(C)ze(f,"complete"),ze(f,"success");else{f.m=6;try{var Y=2<fi(f)?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.Z()+"]",eT(f)}}finally{Nh(f)}}}}function Nh(f,E){if(f.g){nT(f);const C=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||ze(f,"ready");try{C.onreadystatechange=M}catch{}}}function nT(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function fi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),As(E)}};function rT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function KB(f){const E={};f=(f.g&&2<=fi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(v(f[M]))continue;var C=N(f[M]);const B=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Y=E[B]||[];E[B]=Y,Y.push(C)}T(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gu(f,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||E}function sT(f){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gu("baseRetryDelayMs",5e3,f),this.cb=Gu("retryDelaySeedMs",1e4,f),this.Wa=Gu("forwardChannelMaxRetries",2,f),this.wa=Gu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new FC(f&&f.concurrentRequestLimit),this.Da=new HB,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sT.prototype,t.la=8,t.G=1,t.connect=function(f,E,C,M){At(0),this.W=f,this.H=E||{},C&&M!==void 0&&(this.H.OSID=C,this.H.OAID=M),this.F=this.X,this.I=hT(this,null,this.W),Oh(this)};function jy(f){if(iT(f),f.G==3){var E=f.U++,C=di(f.I);if(Et(C,"SID",f.K),Et(C,"RID",E),Et(C,"TYPE","terminate"),Ku(f,C),E=new no(f,f.j,E),E.L=2,E.v=kh(di(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=E.v,C=!0),C||(E.g=pT(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Ah(E)}fT(f)}function Mh(f){f.g&&(Vy(f),f.g.cancel(),f.g=null)}function iT(f){Mh(f),f.u&&(a.clearTimeout(f.u),f.u=null),jh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Oh(f){if(!UC(f.h)&&!f.s){f.s=!0;var E=f.Ga;K||Q(),F||(K(),F=!0),j.add(E,f),f.B=0}}function QB(f,E){return BC(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=dn(p(f.Ga,f,E),dT(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new no(this,this.j,f);let Y=this.o;if(this.S&&(Y?(Y=S(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var M=this.i[C];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=aT(this,B,E),C=di(this.I),Et(C,"RID",f),Et(C,"CVER",22),this.D&&Et(C,"X-HTTP-Session-Id",this.D),Ku(this,C),Y&&(this.O?E="headers="+encodeURIComponent(String(XC(Y)))+"&"+E:this.m&&Oy(C,this.m,Y)),My(this.h,B),this.Ua&&Et(C,"TYPE","init"),this.P?(Et(C,"$req",E),Et(C,"SID","null"),B.T=!0,ky(B,C,null)):ky(B,C,E),this.G=2}}else this.G==3&&(f?oT(this,f):this.i.length==0||UC(this.h)||oT(this))};function oT(f,E){var C;E?C=E.l:C=f.U++;const M=di(f.I);Et(M,"SID",f.K),Et(M,"RID",C),Et(M,"AID",f.T),Ku(f,M),f.m&&f.o&&Oy(M,f.m,f.o),C=new no(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),E&&(f.i=E.D.concat(f.i)),E=aT(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),My(f.h,C),ky(C,M,E)}function Ku(f,E){f.H&&O(f.H,function(C,M){Et(E,M,C)}),f.l&&HC({},function(C,M){Et(E,M,C)})}function aT(f,E,C){C=Math.min(f.i.length,C);var M=f.l?p(f.l.Na,f.l,f):null;e:{var B=f.i;let Y=-1;for(;;){const he=["count="+C];Y==-1?0<C?(Y=B[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let vt=!0;for(let fn=0;fn<C;fn++){let lt=B[fn].g;const _n=B[fn].map;if(lt-=Y,0>lt)Y=Math.max(0,B[fn].g-100),vt=!1;else try{WB(_n,he,"req"+lt+"_")}catch{M&&M(_n)}}if(vt){M=he.join("&");break e}}}return f=f.i.splice(0,C),E.D=f,M}function lT(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;K||Q(),F||(K(),F=!0),j.add(E,f),f.v=0}}function Ly(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=dn(p(f.Fa,f),dT(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,cT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=dn(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Mh(this),cT(this))};function Vy(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function cT(f){f.g=new no(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=di(f.qa);Et(E,"RID","rpc"),Et(E,"SID",f.K),Et(E,"AID",f.T),Et(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Et(E,"TO",f.ja),Et(E,"TYPE","xmlhttp"),Ku(f,E),f.m&&f.o&&Oy(E,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=kh(di(E)),C.m=null,C.P=!0,jC(C,f)}t.Za=function(){this.C!=null&&(this.C=null,Mh(this),Ly(this),At(19))};function jh(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function uT(f,E){var C=null;if(f.g==E){jh(f),Vy(f),f.g=null;var M=2}else if(Ny(f.h,E))C=E.D,$C(f.h,E),M=1;else return;if(f.G!=0){if(E.o)if(M==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var B=f.B;M=tt(),ze(M,new ks(M,C)),Oh(f)}else lT(f);else if(B=E.s,B==3||B==0&&0<E.X||!(M==1&&QB(f,E)||M==2&&Ly(f)))switch(C&&0<C.length&&(E=f.h,E.i=E.i.concat(C)),B){case 1:ka(f,5);break;case 4:ka(f,10);break;case 3:ka(f,6);break;default:ka(f,2)}}}function dT(f,E){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*E}function ka(f,E){if(f.j.info("Error code "+E),E==2){var C=p(f.fb,f),M=f.Xa;const B=!M;M=new Ia(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rh(M,"https"),kh(M),B?$B(M.toString(),C):zB(M.toString(),C)}else At(2);f.G=0,f.l&&f.l.sa(E),fT(f),iT(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function fT(f){if(f.G=0,f.ka=[],f.l){const E=zC(f.h);(E.length!=0||f.i.length!=0)&&(b(f.ka,E),b(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function hT(f,E,C){var M=C instanceof Ia?di(C):new Ia(C);if(M.g!="")E&&(M.g=E+"."+M.g),Ih(M,M.s);else{var B=a.location;M=B.protocol,E=E?E+"."+B.hostname:B.hostname,B=+B.port;var Y=new Ia(null);M&&Rh(Y,M),E&&(Y.g=E),B&&Ih(Y,B),C&&(Y.l=C),M=Y}return C=f.D,E=f.ya,C&&E&&Et(M,C,E),Et(M,"VER",f.la),Ku(f,M),M}function pT(f,E,C){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Ft(new Dh({eb:C})):new Ft(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mT(){}t=mT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lh(){}Lh.prototype.g=function(f,E){return new br(f,E)};function br(f,E){De.call(this),this.g=new sT(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!v(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!v(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Fl(this)}w(br,De),br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){jy(this.g)},br.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=Zr(f),f=C);E.i.push(new PB(E.Ya++,f)),E.G==3&&Oh(E)},br.prototype.N=function(){this.g.l=null,delete this.j,jy(this.g),delete this.g,br.aa.N.call(this)};function gT(f){Is.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const C in E){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}w(gT,Is);function vT(){jn.call(this),this.status=1}w(vT,jn);function Fl(f){this.g=f}w(Fl,mT),Fl.prototype.ua=function(){ze(this.g,"a")},Fl.prototype.ta=function(f){ze(this.g,new gT(f))},Fl.prototype.sa=function(f){ze(this.g,new vT)},Fl.prototype.ra=function(){ze(this.g,"b")},Lh.prototype.createWebChannel=Lh.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,lO=function(){return new Lh},aO=function(){return tt()},oO=Xr,Rb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ch.NO_ERROR=0,Ch.TIMEOUT=8,Ch.HTTP_ERROR=6,zp=Ch,NC.COMPLETE="complete",iO=NC,Aa.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",De.prototype.listen=De.prototype.K,pd=Aa,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,sO=Ft}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const bR="@firebase/firestore",ER="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new gx("@firebase/firestore");function Gl(){return ul.logLevel}function _e(t,...e){if(ul.logLevel<=Xe.DEBUG){const n=e.map(_x);ul.debug(`Firestore (${ku}): ${t}`,...n)}}function Bi(t,...e){if(ul.logLevel<=Xe.ERROR){const n=e.map(_x);ul.error(`Firestore (${ku}): ${t}`,...n)}}function ru(t,...e){if(ul.logLevel<=Xe.WARN){const n=e.map(_x);ul.warn(`Firestore (${ku}): ${t}`,...n)}}function _x(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t="Unexpected state"){const e=`FIRESTORE (${ku}) INTERNAL ASSERTION FAILED: `+t;throw Bi(e),new Error(e)}function ft(t,e){t||Le()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class a7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l7{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ri,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string"),new cO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new An(e)}}class c7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class u7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d7{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0);const r=i=>{i.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new xR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=f7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function su(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=-62135596800,CR=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CR);return new tn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SR)throw new Ae(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CR}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-SR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new tn(0,0))}static max(){return new $e(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="__name__";class Ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(),r===void 0?r=e.length-n:r>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ns.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Ns.isNumericId(e),s=Ns.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ns.extractNumericId(e).compare(Ns.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qo.fromString(e.substring(4,e.length-2))}}class It extends Ns{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new It(n)}static emptyPath(){return new It([])}}const h7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Ns{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return h7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TR}static keyField(){return new mn([TR])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ae(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Ae(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ae(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Ae(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(It.fromString(e))}static fromName(e){return new ke(It.fromString(e).popFirst(5))}static empty(){return new ke(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=-1;function p7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new tn(n+1,0):new tn(n,r));return new ia(s,ke.empty(),e)}function m7(t){return new ia(t.readTime,t.key,yf)}class ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ia($e.min(),ke.empty(),yf)}static max(){return new ia($e.max(),ke.empty(),yf)}}function g7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==v7)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new ee((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function w7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Av.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=-1;function Rv(t){return t==null}function Bm(t){return t===0&&1/t==-1/0}function _7(t){return typeof t=="number"&&Number.isInteger(t)&&!Bm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="";function b7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AR(e)),e=E7(t.get(n),e);return AR(e)}function E7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case dO:n+="";break;default:n+=i}}return n}function AR(t){return t+dO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??pn.EMPTY,this.right=i??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,r,s,i){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IR(this.data.getIterator())}getIteratorFrom(e){return new IR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class IR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new nn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hO("Invalid base64 string: "+i):i}}(e);return new wn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const x7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(ft(!!t),typeof t=="string"){let e=0;const n=x7.exec(t);if(ft(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function aa(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="server_timestamp",mO="__type__",gO="__previous_value__",vO="__local_write_time__";function Ex(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mO])===null||n===void 0?void 0:n.stringValue)===pO}function Iv(t){const e=t.mapValue.fields[gO];return Ex(e)?Iv(e):e}function wf(t){const e=oa(t.mapValue.fields[vO].timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const $m="(default)";class _f{constructor(e,n){this.projectId=e,this.database=n||$m}static empty(){return new _f("","")}get isDefaultDatabase(){return this.database===$m}isEqual(e){return e instanceof _f&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="__type__",C7="__max__",hp={mapValue:{}},wO="__vector__",zm="value";function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ex(t)?4:A7(t)?9007199254740991:T7(t)?10:11:Le()}function ri(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wf(t).isEqual(wf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=oa(s.timestampValue),a=oa(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return aa(s.bytesValue).isEqual(aa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return zt(s.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return zt(s.integerValue)===zt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=zt(s.doubleValue),a=zt(i.doubleValue);return o===a?Bm(o)===Bm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(RR(o)!==RR(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ri(o[l],a[l])))return!1;return!0}(t,e);default:return Le()}}function bf(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function iu(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=zt(i.integerValue||i.doubleValue),l=zt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kR(t.timestampValue,e.timestampValue);case 4:return kR(wf(t),wf(e));case 5:return rt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=aa(i),l=aa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=rt(a[c],l[c]);if(u!==0)return u}return rt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=rt(zt(i.latitude),zt(o.latitude));return a!==0?a:rt(zt(i.longitude),zt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DR(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const h=i.fields||{},p=o.fields||{},m=(a=h[zm])===null||a===void 0?void 0:a.arrayValue,w=(l=p[zm])===null||l===void 0?void 0:l.arrayValue,g=rt(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:DR(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===hp.mapValue&&o===hp.mapValue)return 0;if(i===hp.mapValue)return 1;if(o===hp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=rt(l[h],u[h]);if(p!==0)return p;const m=iu(a[l[h]],c[u[h]]);if(m!==0)return m}return rt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Le()}}function kR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=oa(t),r=oa(e),s=rt(n.seconds,r.seconds);return s!==0?s:rt(n.nanos,r.nanos)}function DR(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=iu(n[s],r[s]);if(i)return i}return rt(n.length,r.length)}function ou(t){return Ib(t)}function Ib(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return aa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ib(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ib(n.fields[o])}`;return s+"}"}(t.mapValue):Le()}function Hp(t){switch(la(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Iv(t);return e?16+Hp(e):16;case 5:return 2*t.stringValue.length;case 6:return aa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Hp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ya(r.fields,(i,o)=>{s+=i.length+Hp(o)}),s}(t.mapValue);default:throw Le()}}function kb(t){return!!t&&"integerValue"in t}function xx(t){return!!t&&"arrayValue"in t}function PR(t){return!!t&&"nullValue"in t}function NR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wp(t){return!!t&&"mapValue"in t}function T7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yO])===null||n===void 0?void 0:n.stringValue)===wO}function Md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ya(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function A7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===C7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Md(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ya(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ar(Md(this.value))}}function _O(t){const e=[];return ya(t.fields,(n,r)=>{const s=new mn([n]);if(Wp(r)){const i=_O(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new In(e,0,$e.min(),$e.min(),$e.min(),ar.empty(),0)}static newFoundDocument(e,n,r,s){return new In(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new In(e,2,n,$e.min(),$e.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,$e.min(),$e.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.position=e,this.inclusive=n}}function MR(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ke.comparator(ke.fromName(o.referenceValue),n.key):r=iu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function OR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n="asc"){this.field=e,this.dir=n}}function R7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{}class Jt extends bO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k7(e,n,r):n==="array-contains"?new N7(e,r):n==="in"?new M7(e,r):n==="not-in"?new O7(e,r):n==="array-contains-any"?new j7(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D7(e,r):new P7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(iu(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends bO{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new si(e,n)}matches(e){return EO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function EO(t){return t.op==="and"}function xO(t){return I7(t)&&EO(t)}function I7(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function Db(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+ou(t.value);if(xO(t))return t.filters.map(e=>Db(e)).join(",");{const e=t.filters.map(n=>Db(n)).join(",");return`${t.op}(${e})`}}function SO(t,e){return t instanceof Jt?function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&ri(r.value,s.value)}(t,e):t instanceof si?function(r,s){return s instanceof si&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&SO(o,s.filters[a]),!0):!1}(t,e):void Le()}function CO(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${ou(n.value)}`}(t):t instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(CO).join(" ,")+"}"}(t):"Filter"}class k7 extends Jt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class D7 extends Jt{constructor(e,n){super(e,"in",n),this.keys=TO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P7 extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=TO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class N7 extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xx(n)&&bf(n.arrayValue,this.value)}}class M7 extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bf(this.value.arrayValue,n)}}class O7 extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bf(this.value.arrayValue,n)}}class j7 extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function jR(t,e=null,n=[],r=[],s=null,i=null,o=null){return new L7(t,e,n,r,s,i,o)}function Sx(t){const e=He(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Db(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ou(r)).join(",")),e.le=n}return e.le}function Cx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OR(t.startAt,e.startAt)&&OR(t.endAt,e.endAt)}function Pb(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function V7(t,e,n,r,s,i,o,a){return new kv(t,e,n,r,s,i,o,a)}function Tx(t){return new kv(t)}function LR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F7(t){return t.collectionGroup!==null}function Od(t){const e=He(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nn(mn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Wm(i,r))}),n.has(mn.keyField().canonicalString())||e.he.push(new Wm(mn.keyField(),r))}return e.he}function Qs(t){const e=He(t);return e.Pe||(e.Pe=U7(e,Od(t))),e.Pe}function U7(t,e){if(t.limitType==="F")return jR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Wm(s.field,i)});const n=t.endAt?new Hm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hm(t.startAt.position,t.startAt.inclusive):null;return jR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nb(t,e,n){return new kv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dv(t,e){return Cx(Qs(t),Qs(e))&&t.limitType===e.limitType}function AO(t){return`${Sx(Qs(t))}|lt:${t.limitType}`}function Kl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>CO(s)).join(", ")}]`),Rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ou(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ou(s)).join(",")),`Target(${r})`}(Qs(t))}; limitType=${t.limitType})`}function Pv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ke.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Od(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=MR(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Od(r),s)||r.endAt&&!function(o,a,l){const c=MR(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Od(r),s))}(t,e)}function B7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RO(t){return(e,n)=>{let r=!1;for(const s of Od(t)){const i=$7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function $7(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?iu(l,c):Le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return fO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=new Vt(ke.comparator);function $i(){return z7}const IO=new Vt(ke.comparator);function md(...t){let e=IO;for(const n of t)e=e.insert(n.key,n);return e}function kO(t){let e=IO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $a(){return jd()}function DO(){return jd()}function jd(){return new Al(t=>t.toString(),(t,e)=>t.isEqual(e))}const H7=new Vt(ke.comparator),W7=new nn(ke.comparator);function Je(...t){let e=W7;for(const n of t)e=e.add(n);return e}const q7=new nn(rt);function G7(){return q7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bm(e)?"-0":e}}function PO(t){return{integerValue:""+t}}function K7(t,e){return _7(e)?PO(e):Ax(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this._=void 0}}function Q7(t,e,n){return t instanceof qm?function(s,i){const o={fields:{[mO]:{stringValue:pO},[vO]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ex(i)&&(i=Iv(i)),i&&(o.fields[gO]=i),{mapValue:o}}(n,e):t instanceof Ef?MO(t,e):t instanceof xf?OO(t,e):function(s,i){const o=NO(s,i),a=VR(o)+VR(s.Ie);return kb(o)&&kb(s.Ie)?PO(a):Ax(s.serializer,a)}(t,e)}function Y7(t,e,n){return t instanceof Ef?MO(t,e):t instanceof xf?OO(t,e):n}function NO(t,e){return t instanceof Gm?function(r){return kb(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class qm extends Nv{}class Ef extends Nv{constructor(e){super(),this.elements=e}}function MO(t,e){const n=jO(e);for(const r of t.elements)n.some(s=>ri(s,r))||n.push(r);return{arrayValue:{values:n}}}class xf extends Nv{constructor(e){super(),this.elements=e}}function OO(t,e){let n=jO(e);for(const r of t.elements)n=n.filter(s=>!ri(s,r));return{arrayValue:{values:n}}}class Gm extends Nv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function VR(t){return zt(t.integerValue||t.doubleValue)}function jO(t){return xx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ef&&s instanceof Ef||r instanceof xf&&s instanceof xf?su(r.elements,s.elements,ri):r instanceof Gm&&s instanceof Gm?ri(r.Ie,s.Ie):r instanceof qm&&s instanceof qm}(t.transform,e.transform)}class X7{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Mv=class{};function LO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rx(t.key,mr.none()):new th(t.key,t.data,mr.none());{const n=t.data,r=ar.empty();let s=new nn(mn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new wa(t.key,r,new Ar(s.toArray()),mr.none())}}function J7(t,e,n){t instanceof th?function(s,i,o){const a=s.value.clone(),l=UR(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(s,i,o){if(!qp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=UR(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(VO(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ld(t,e,n,r){return t instanceof th?function(i,o,a,l){if(!qp(i.precondition,o))return a;const c=i.value.clone(),u=BR(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(i,o,a,l){if(!qp(i.precondition,o))return a;const c=BR(i.fieldTransforms,l,o),u=o.data;return u.setAll(VO(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return qp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eq(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=NO(r.transform,s||null);i!=null&&(n===null&&(n=ar.empty()),n.set(r.field,i))}return n||null}function FR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&su(r,s,(i,o)=>Z7(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends Mv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wa extends Mv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function VO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UR(t,e,n){const r=new Map;ft(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Y7(o,a,n[s]))}return r}function BR(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Q7(i,o,e))}return r}class Rx extends Mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tq extends Mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&J7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DO();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=LO(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(n,r)=>FR(n,r))&&su(this.baseMutations,e.baseMutations,(n,r)=>FR(n,r))}}class Ix{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ft(e.mutations.length===r.length);let s=function(){return H7}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ix(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,st;function iq(t){switch(t){case re.OK:return Le();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Le()}}function FO(t){if(t===void 0)return Bi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Gt.OK:return re.OK;case Gt.CANCELLED:return re.CANCELLED;case Gt.UNKNOWN:return re.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return re.INTERNAL;case Gt.UNAVAILABLE:return re.UNAVAILABLE;case Gt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Gt.NOT_FOUND:return re.NOT_FOUND;case Gt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Gt.ABORTED:return re.ABORTED;case Gt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Gt.DATA_LOSS:return re.DATA_LOSS;default:return Le()}}(st=Gt||(Gt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=new Qo([4294967295,4294967295],0);function $R(t){const e=oq().encode(t),n=new rO;return n.update(e),new Uint8Array(n.digest())}function zR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([s,i],0)]}class kx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gd(`Invalid padding: ${n}`);if(r<0)throw new gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gd(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Qo.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Qo.fromNumber(r)));return s.compare(aq)===1&&(s=new Qo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=$R(e),[r,s]=zR(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new kx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=$R(e),[r,s]=zR(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ov($e.min(),s,new Vt(rt),$i(),Je())}}class nh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nh(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class UO{constructor(e,n){this.targetId=e,this.ge=n}}class BO{constructor(e,n,r=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class HR{constructor(){this.pe=0,this.ye=WR(),this.we=wn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Je(),n=Je(),r=Je();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le()}}),new nh(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=WR()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class lq{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$i(),this.$e=pp(),this.Ke=pp(),this.Ue=new Vt(rt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Pb(i))if(r===0){const o=new ke(i.path);this.ze(n,o,In.newNoDocument(o,$e.min()))}else ft(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=aa(r).toUint8Array()}catch(l){if(l instanceof hO)return ru("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new kx(o,s,i)}catch(l){return ru(l instanceof gd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Pb(a.target)){const l=new ke(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,In.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=Je();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Ov(e,n,this.Ue,this.Qe,r);return this.Qe=$i(),this.$e=pp(),this.Ke=pp(),this.Ue=new Vt(rt),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new HR,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new nn(rt),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new nn(rt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new HR),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function pp(){return new Vt(ke.comparator)}function WR(){return new Vt(ke.comparator)}const cq={asc:"ASCENDING",desc:"DESCENDING"},uq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dq={and:"AND",or:"OR"};class fq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mb(t,e){return t.useProto3Json||Rv(e)?e:{value:e}}function Km(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $O(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hq(t,e){return Km(t,e.toTimestamp())}function Ys(t){return ft(!!t),$e.fromTimestamp(function(n){const r=oa(n);return new tn(r.seconds,r.nanos)}(t))}function Dx(t,e){return Ob(t,e).canonicalString()}function Ob(t,e){const n=function(s){return new It(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zO(t){const e=It.fromString(t);return ft(KO(e)),e}function jb(t,e){return Dx(t.databaseId,e.path)}function Dw(t,e){const n=zO(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(WO(n))}function HO(t,e){return Dx(t.databaseId,e)}function pq(t){const e=zO(t);return e.length===4?It.emptyPath():WO(e)}function Lb(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WO(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qR(t,e,n){return{name:jb(t,e),fields:n.value.mapValue.fields}}function mq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(ft(u===void 0||typeof u=="string"),wn.fromBase64String(u||"")):(ft(u===void 0||u instanceof Buffer||u instanceof Uint8Array),wn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?re.UNKNOWN:FO(c.code);return new Ae(u,c.message||"")}(o);n=new BO(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dw(t,r.document.name),i=Ys(r.document.updateTime),o=r.document.createTime?Ys(r.document.createTime):$e.min(),a=new ar({mapValue:{fields:r.document.fields}}),l=In.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dw(t,r.document),i=r.readTime?Ys(r.readTime):$e.min(),o=In.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Gp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dw(t,r.document),i=r.removedTargetIds||[];n=new Gp([],i,s,null)}else{if(!("filter"in e))return Le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new sq(s,i),a=r.targetId;n=new UO(a,o)}}return n}function gq(t,e){let n;if(e instanceof th)n={update:qR(t,e.key,e.value)};else if(e instanceof Rx)n={delete:jb(t,e.key)};else if(e instanceof wa)n={update:qR(t,e.key,e.data),updateMask:Cq(e.fieldMask)};else{if(!(e instanceof tq))return Le();n={verify:jb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof qm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ef)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gm)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:hq(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Le()}(t,e.precondition)),n}function vq(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ys(s.updateTime):Ys(i);return o.isEqual($e.min())&&(o=Ys(i)),new X7(o,s.transformResults||[])}(n,e))):[]}function yq(t,e){return{documents:[HO(t,e.path)]}}function wq(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HO(t,s);const i=function(c){if(c.length!==0)return GO(si.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Ql(p.field),direction:Eq(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:s}}function _q(t){let e=pq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ft(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=qO(h);return p instanceof si&&xO(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new Wm(Yl(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Rv(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new Hm(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new Hm(m,p)}(n.endAt)),V7(e,s,o,i,a,"F",l,c)}function bq(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yl(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yl(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yl(n.unaryFilter.field);return Jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yl(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Yl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(r=>qO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(t):Le()}function Eq(t){return cq[t]}function xq(t){return uq[t]}function Sq(t){return dq[t]}function Ql(t){return{fieldPath:t.canonicalString()}}function Yl(t){return mn.fromServerFormat(t.fieldPath)}function GO(t){return t instanceof Jt?function(n){if(n.op==="=="){if(NR(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NAN"}};if(PR(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NR(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NAN"}};if(PR(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(n.field),op:xq(n.op),value:n.value}}}(t):t instanceof si?function(n){const r=n.getFilters().map(s=>GO(s));return r.length===1?r[0]:{compositeFilter:{op:Sq(n.op),filters:r}}}(t):Le()}function Cq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r,s,i=$e.min(),o=$e.min(),a=wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.Tt=e}}function Aq(t){const e=_q({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(){this.Tn=new Iq}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ia.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class Iq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nn(It.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QO=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(QO,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new au(0)}static Un(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="LruGarbageCollector",kq=1048576;function QR([t,e],[n,r]){const s=rt(t,n);return s===0?rt(e,r):s}class Dq{constructor(e){this.Hn=e,this.buffer=new nn(QR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_e(KR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pu(n)?_e(KR,"Ignoring IndexedDB error during garbage collection: ",n):await Du(n)}await this.er(3e5)})}}class Nq{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Av.ae);const r=new Dq(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(GR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GR):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Gl()<=Xe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function Mq(t,e){return new Nq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(){this.changes=new Al(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ld(r.mutation,s,Ar.empty(),tn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Je()){const s=$a();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=md();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$a();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Je()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$i();const o=jd(),a=function(){return jd()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof wa)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ld(u.mutation,c,u.mutation.getFieldMask(),tn.now())):o.set(c.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new jq(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jd();let s=new Vt((o,a)=>o-a),i=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ar.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Je()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=DO();u.forEach(p=>{if(!i.has(p)){const m=LO(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ee.resolve($a());let a=yf,l=i;return o.next(c=>ee.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?ee.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Je())).next(u=>({batchId:a,changes:kO(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(r=>{let s=md();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=md();return this.indexManager.getCollectionParents(e,i).next(a=>ee.forEach(a,l=>{const c=function(h,p){return new kv(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,In.newInvalidDocument(u)))});let a=md();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Ld(u.mutation,c,Ar.empty(),tn.now()),Pv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ys(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:Aq(s.bundledQuery),readTime:Ys(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.overlays=new Vt(ke.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$a();return ee.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=$a(),i=n.length+1,o=new ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=$a(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=$a(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return ee.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rq(n,r));let i=this.Rr.get(n);i===void 0&&(i=Je(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Vr=new nn(on.mr),this.gr=new nn(on.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new on(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ke(new It([])),r=new on(n,e),s=new on(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ke(new It([])),r=new on(n,e),s=new on(n,e+1);let i=Je();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new on(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ke.comparator(e.key,n.key)||rt(e.Cr,n.Cr)}static pr(e,n){return rt(e.Cr,n.Cr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new nn(on.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nq(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new on(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return ee.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?bx:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),ee.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(rt);return n.forEach(s=>{const i=new on(s,0),o=new on(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ke.isDocumentKey(i)||(i=i.child(""));const o=new on(new ke(i),0);let a=new nn(rt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Cr)),!0)},o),ee.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(n.mutations,s=>{const i=new on(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new on(n,0),s=this.Mr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.kr=e,this.docs=function(){return new Vt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():In.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$i();const o=n.path,a=new ke(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||g7(m7(u),r)<=0||(s.has(u.key)||Pv(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return ee.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Le()}qr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zq(this)}getSize(e){return ee.resolve(this.size)}}class zq extends Oq{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.persistence=e,this.Qr=new Al(n=>Sx(n),Cx),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Px,this.targetCount=0,this.Ur=au.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new au(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ee.waitFor(i).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ee.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Av(0),this.zr=!1,this.zr=!0,this.jr=new Uq,this.referenceDelegate=e(this),this.Hr=new Hq(this),this.indexManager=new Rq,this.remoteDocumentCache=function(s){return new $q(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Tq(n),this.Yr=new Vq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Bq(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new Wq(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class Wq extends y7{constructor(e){super(),this.currentSequenceNumber=e}}class Nx{constructor(e){this.persistence=e,this.ti=new Px,this.ni=null}static ri(e){return new Nx(e)}get ii(){if(this.ni)return this.ni;throw Le()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const s=ke.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,$e.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Qm{constructor(e,n){this.persistence=e,this.oi=new Al(r=>b7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Mq(this,n)}static ri(e,n){return new Qm(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,$e.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hp(e.data.value)),n}ar(e,n,r){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Je(),s=Je();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return U6()?8:w7(On())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new qq;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Gl()<=Xe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Gl()<=Xe.DEBUG&&_e("QueryEngine","Query:",Kl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Gl()<=Xe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(n))):ee.resolve())}rs(e,n){if(LR(n))return ee.resolve(null);let r=Qs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Nb(n,null,"F"),r=Qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Je(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,Nb(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,s){return LR(n)||s.isEqual($e.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?ee.resolve(null):(Gl()<=Xe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Kl(n)),this.hs(e,o,n,p7(s,yf)).next(a=>a))})}cs(e,n){let r=new nn(RO(e));return n.forEach((s,i)=>{Pv(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Gl()<=Xe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Kl(n)),this.ns.getDocumentsMatchingQuery(e,n,ia.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LocalStore",Kq=3e8;class Qq{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Vt(rt),this.Is=new Al(i=>Sx(i),Cx),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lq(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Yq(t,e,n,r){return new Qq(t,e,n,r)}async function ZO(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Je();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Zq(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let m=ee.resolve();return p.forEach(w=>{m=m.next(()=>u.getEntry(l,w)).next(g=>{const b=c.docVersions.get(w);ft(b!==null),g.version.compareTo(b)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Je();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function XO(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Xq(t,e){const n=He(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const p=s.get(h);if(!p)return;a.push(n.Hr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(i,u.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(wn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(g,b,_){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Kq?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,u)&&a.push(n.Hr.updateTargetData(i,m))});let l=$i(),c=Je();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Jq(i,o,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual($e.min())){const u=n.Hr.getLastRemoteSnapshotVersion(i).next(h=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return ee.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ts=s,i))}function Jq(t,e,n){let r=Je(),s=Je();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$i();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual($e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):_e(Ox,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function eG(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tG(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,ee.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new ko(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Vb(t,e,n){const r=He(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pu(o))throw o;_e(Ox,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function YR(t,e,n){const r=He(t);let s=$e.min(),i=Je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=He(l),p=h.Is.get(u);return p!==void 0?ee.resolve(h.Ts.get(p)):h.Hr.getTargetData(c,u)}(r,o,Qs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:$e.min(),n?i:Je())).next(a=>(nG(r,B7(e),a),{documents:a,gs:i})))}function nG(t,e,n){let r=t.Es.get(e)||$e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class ZR{constructor(){this.activeTargetIds=G7()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rG{constructor(){this.ho=new ZR,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ZR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="ConnectivityMonitor";class JR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_e(XR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_e(XR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp=null;function Fb(){return mp===null?mp=function(){return 268435456+Math.round(2147483648*Math.random())}():mp++,"0x"+mp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="RestConnection",iG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oG{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===$m?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=Fb(),a=this.bo(e,n.toUriEncodedString());_e(Pw,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(c=>(_e(Pw,`Received RPC '${e}' ${o}: `,c),c),c=>{throw ru(Pw,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ku}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=iG[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class lG extends oG{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=Fb();return new Promise((o,a)=>{const l=new sO;l.setWithCredentials(!0),l.listenOnce(iO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zp.NO_ERROR:const u=l.getResponseJson();_e(Cn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case zp.TIMEOUT:_e(Cn,`RPC '${e}' ${i} timed out`),a(new Ae(re.DEADLINE_EXCEEDED,"Request time out"));break;case zp.HTTP_ERROR:const h=l.getStatus();if(_e(Cn,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const w=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(_)>=0?_:re.UNKNOWN}(m.status);a(new Ae(w,m.message))}else a(new Ae(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ae(re.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{_e(Cn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);_e(Cn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const s=Fb(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lO(),a=aO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");_e(Cn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,m=!1;const w=new aG({Fo:b=>{m?_e(Cn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(_e(Cn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),_e(Cn,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},Mo:()=>h.close()}),g=(b,_,v)=>{b.listen(_,x=>{try{v(x)}catch(A){setTimeout(()=>{throw A},0)}})};return g(h,pd.EventType.OPEN,()=>{m||(_e(Cn,`RPC '${e}' stream ${s} transport opened.`),w.Qo())}),g(h,pd.EventType.CLOSE,()=>{m||(m=!0,_e(Cn,`RPC '${e}' stream ${s} transport closed`),w.Ko())}),g(h,pd.EventType.ERROR,b=>{m||(m=!0,ru(Cn,`RPC '${e}' stream ${s} transport errored:`,b),w.Ko(new Ae(re.UNAVAILABLE,"The operation could not be completed")))}),g(h,pd.EventType.MESSAGE,b=>{var _;if(!m){const v=b.data[0];ft(!!v);const x=v,A=(x==null?void 0:x.error)||((_=x[0])===null||_===void 0?void 0:_.error);if(A){_e(Cn,`RPC '${e}' stream ${s} received error:`,A);const P=A.status;let O=function(R){const I=Gt[R];if(I!==void 0)return FO(I)}(P),T=A.message;O===void 0&&(O=re.INTERNAL,T="Unknown error status: "+P+" with message "+A.message),m=!0,w.Ko(new Ae(O,T)),h.close()}else _e(Cn,`RPC '${e}' stream ${s} received:`,v),w.Uo(v)}}),g(a,oO.STAT_EVENT,b=>{b.stat===Rb.PROXY?_e(Cn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Rb.NOPROXY&&_e(Cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function Nw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){return new fq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="PersistentStream";class ej{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new JO(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Ae(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _e(eI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(_e(eI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cG extends ej{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=mq(this.serializer,e),r=function(i){if(!("targetChange"in i))return $e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?$e.min():o.readTime?Ys(o.readTime):$e.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Lb(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Pb(l)?{documents:yq(i,l)}:{query:wq(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$O(i,o.resumeToken);const c=Mb(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo($e.min())>0){a.readTime=Km(i,o.snapshotVersion.toTimestamp());const c=Mb(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bq(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Lb(this.serializer),n.removeTarget=e,this.I_(n)}}class uG extends ej{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=vq(e.writeResults,e.commitTime),r=Ys(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Lb(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gq(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{}class fG extends dG{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ae(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Ob(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(re.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Ob(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(re.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class hG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bi(n),this.N_=!1):_e("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="RemoteStore";class pG{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Rl(this)&&(_e(dl,"Restarting streams for network reachability change."),await async function(l){const c=He(l);c.W_.add(4),await rh(c),c.j_.set("Unknown"),c.W_.delete(4),await Lv(c)}(this))})}),this.j_=new hG(r,s)}}async function Lv(t){if(Rl(t))for(const e of t.G_)await e(!0)}async function rh(t){for(const e of t.G_)await e(!1)}function tj(t,e){const n=He(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Fx(n)?Vx(n):Nu(n).c_()&&Lx(n,e))}function jx(t,e){const n=He(t),r=Nu(n);n.U_.delete(e),r.c_()&&nj(n,e),n.U_.size===0&&(r.c_()?r.P_():Rl(n)&&n.j_.set("Unknown"))}function Lx(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nu(t).y_(e)}function nj(t,e){t.H_.Ne(e),Nu(t).w_(e)}function Vx(t){t.H_=new lq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Nu(t).start(),t.j_.B_()}function Fx(t){return Rl(t)&&!Nu(t).u_()&&t.U_.size>0}function Rl(t){return He(t).W_.size===0}function rj(t){t.H_=void 0}async function mG(t){t.j_.set("Online")}async function gG(t){t.U_.forEach((e,n)=>{Lx(t,e)})}async function vG(t,e){rj(t),Fx(t)?(t.j_.q_(e),Vx(t)):t.j_.set("Unknown")}async function yG(t,e,n){if(t.j_.set("Online"),e instanceof BO&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){_e(dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ym(t,r)}else if(e instanceof Gp?t.H_.We(e):e instanceof UO?t.H_.Ze(e):t.H_.je(e),!n.isEqual($e.min()))try{const r=await XO(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.U_.get(c);u&&i.U_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.U_.get(l);if(!u)return;i.U_.set(l,u.withResumeToken(wn.EMPTY_BYTE_STRING,u.snapshotVersion)),nj(i,l);const h=new ko(u.target,l,c,u.sequenceNumber);Lx(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){_e(dl,"Failed to raise snapshot:",r),await Ym(t,r)}}async function Ym(t,e,n){if(!Pu(e))throw e;t.W_.add(1),await rh(t),t.j_.set("Offline"),n||(n=()=>XO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(dl,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Lv(t)})}function sj(t,e){return e().catch(n=>Ym(t,n,e))}async function Vv(t){const e=He(t),n=ca(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:bx;for(;wG(e);)try{const s=await eG(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,_G(e,s)}catch(s){await Ym(e,s)}ij(e)&&oj(e)}function wG(t){return Rl(t)&&t.K_.length<10}function _G(t,e){t.K_.push(e);const n=ca(t);n.c_()&&n.S_&&n.b_(e.mutations)}function ij(t){return Rl(t)&&!ca(t).u_()&&t.K_.length>0}function oj(t){ca(t).start()}async function bG(t){ca(t).C_()}async function EG(t){const e=ca(t);for(const n of t.K_)e.b_(n.mutations)}async function xG(t,e,n){const r=t.K_.shift(),s=Ix.from(r,e,n);await sj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Vv(t)}async function SG(t,e){e&&ca(t).S_&&await async function(r,s){if(function(o){return iq(o)&&o!==re.ABORTED}(s.code)){const i=r.K_.shift();ca(r).h_(),await sj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Vv(r)}}(t,e),ij(t)&&oj(t)}async function tI(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),_e(dl,"RemoteStore received new credentials");const r=Rl(n);n.W_.add(3),await rh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Lv(n)}async function CG(t,e){const n=He(t);e?(n.W_.delete(2),await Lv(n)):e||(n.W_.add(2),await rh(n),n.j_.set("Unknown"))}function Nu(t){return t.J_||(t.J_=function(n,r,s){const i=He(n);return i.M_(),new cG(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:mG.bind(null,t),No:gG.bind(null,t),Lo:vG.bind(null,t),p_:yG.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Fx(t)?Vx(t):t.j_.set("Unknown")):(await t.J_.stop(),rj(t))})),t.J_}function ca(t){return t.Y_||(t.Y_=function(n,r,s){const i=He(n);return i.M_(),new uG(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:bG.bind(null,t),Lo:SG.bind(null,t),D_:EG.bind(null,t),v_:xG.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Vv(t)):(await t.Y_.stop(),t.K_.length>0&&(_e(dl,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ux(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bx(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),Pu(t))return new Ae(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{static emptySet(e){return new xc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=md(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Z_=new Vt(ke.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Le():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class lu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lu(e,n,xc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class AG{constructor(){this.queries=rI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=He(n),i=s.queries;s.queries=rI(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Ae(re.ABORTED,"Firestore shutting down"))}}function rI(){return new Al(t=>AO(t),Dv)}async function aj(t,e){const n=He(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new TG,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Bx(o,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&$x(n)}async function lj(t,e){const n=He(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RG(t,e){const n=He(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&$x(n)}function IG(t,e,n){const r=He(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function $x(t){t.ia.forEach(e=>{e.next()})}var Ub,sI;(sI=Ub||(Ub={}))._a="default",sI.Cache="cache";class cj{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ub.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.key=e}}class dj{constructor(e){this.key=e}}class kG{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Je(),this.mutatedKeys=Je(),this.ya=RO(e),this.wa=new xc(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new nI,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const p=s.get(u),m=Pv(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?w!==g&&(r.track({type:3,doc:m}),b=!0):this.va(p,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),b=!0):p&&!m&&(r.track({type:1,doc:p}),b=!0,(l||c)&&(a=!0)),b&&(m?(o=o.add(m),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(m,w){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return g(m)-g(w)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new lu(this.query,e.wa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new nI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Je(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new dj(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new uj(r))}),n}Oa(e){this.fa=e.gs,this.pa=Je();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return lu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zx="SyncEngine";class DG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PG{constructor(e){this.key=e,this.Ba=!1}}class NG{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Al(a=>AO(a),Dv),this.qa=new Map,this.Qa=new Set,this.$a=new Vt(ke.comparator),this.Ka=new Map,this.Ua=new Px,this.Wa={},this.Ga=new Map,this.za=au.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MG(t,e,n=!0){const r=vj(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await fj(r,e,n,!0),s}async function OG(t,e){const n=vj(t);await fj(n,e,!0,!1)}async function fj(t,e,n,r){const s=await tG(t.localStore,Qs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await jG(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&tj(t.remoteStore,s),a}async function jG(t,e,n,r,s){t.Ha=(h,p,m)=>async function(g,b,_,v){let x=b.view.ba(_);x.ls&&(x=await YR(g.localStore,b.query,!1).then(({documents:T})=>b.view.ba(T,x)));const A=v&&v.targetChanges.get(b.targetId),P=v&&v.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(x,g.isPrimaryClient,A,P);return oI(g,b.targetId,O.Ma),O.snapshot}(t,h,p,m);const i=await YR(t.localStore,e,!0),o=new kG(e,i.gs),a=o.ba(i.documents),l=nh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);oI(t,n,c.Ma);const u=new DG(e,n,o);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function LG(t,e,n){const r=He(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Dv(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Vb(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jx(r.remoteStore,s.targetId),Bb(r,s.targetId)}).catch(Du)):(Bb(r,s.targetId),await Vb(r.localStore,s.targetId,!0))}async function VG(t,e){const n=He(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jx(n.remoteStore,r.targetId))}async function FG(t,e,n){const r=qG(t);try{const s=await function(o,a){const l=He(o),c=tn.now(),u=a.reduce((m,w)=>m.add(w.key),Je());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=$i(),g=Je();return l.ds.getEntries(m,u).next(b=>{w=b,w.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(b=>{h=b;const _=[];for(const v of a){const x=eq(v,h.get(v.key).overlayedDocument);x!=null&&_.push(new wa(v.key,x,_O(x.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(b=>{p=b;const _=b.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(m,b.batchId,_)})}).then(()=>({batchId:p.batchId,changes:kO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Vt(rt)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,s.batchId,n),await sh(r,s.changes),await Vv(r.remoteStore)}catch(s){const i=Bx(s,"Failed to persist write");n.reject(i)}}async function hj(t,e){const n=He(t);try{const r=await Xq(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?ft(o.Ba):s.removedDocuments.size>0&&(ft(o.Ba),o.Ba=!1))}),await sh(n,r,e)}catch(r){await Du(r)}}function iI(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=He(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.ta)p.sa(a)&&(c=!0)}),c&&$x(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UG(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Vt(ke.comparator);o=o.insert(i,In.newNoDocument(i,$e.min()));const a=Je().add(i),l=new Ov($e.min(),new Map,new Vt(rt),o,a);await hj(r,l),r.$a=r.$a.remove(i),r.Ka.delete(e),Hx(r)}else await Vb(r.localStore,e,!1).then(()=>Bb(r,e,n)).catch(Du)}async function BG(t,e){const n=He(t),r=e.batch.batchId;try{const s=await Zq(n.localStore,e);mj(n,r,null),pj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sh(n,s)}catch(s){await Du(s)}}async function $G(t,e,n){const r=He(t);try{const s=await function(o,a){const l=He(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ft(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);mj(r,e,n),pj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sh(r,s)}catch(s){await Du(s)}}function pj(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function mj(t,e,n){const r=He(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Bb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||gj(t,r)})}function gj(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(jx(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Hx(t))}function oI(t,e,n){for(const r of n)r instanceof uj?(t.Ua.addReference(r.key,e),zG(t,r)):r instanceof dj?(_e(zx,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||gj(t,r.key)):Le()}function zG(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(_e(zx,"New document in limbo: "+n),t.Qa.add(r),Hx(t))}function Hx(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ke(It.fromString(e)),r=t.za.next();t.Ka.set(r,new PG(n)),t.$a=t.$a.insert(n,r),tj(t.remoteStore,new ko(Qs(Tx(n.path)),r,"TargetPurposeLimboResolution",Av.ae))}}async function sh(t,e,n){const r=He(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=Mx.Yi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,c){const u=He(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ee.forEach(c,p=>ee.forEach(p.Hi,m=>u.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>ee.forEach(p.Ji,m=>u.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Pu(h))throw h;_e(Ox,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=u.Ts.get(p),w=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(w);u.Ts=u.Ts.insert(p,g)}}}(r.localStore,i))}async function HG(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){_e(zx,"User change. New user:",e.toKey());const r=await ZO(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Ae(re.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sh(n,r.Rs)}}function WG(t,e){const n=He(t),r=n.Ka.get(e);if(r&&r.Ba)return Je().add(r.key);{let s=Je();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function vj(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UG.bind(null,e),e.La.p_=RG.bind(null,e.eventManager),e.La.Ja=IG.bind(null,e.eventManager),e}function qG(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$G.bind(null,e),e}class Zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Yq(this.persistence,new Gq,e.initialUser,this.serializer)}Xa(e){return new YO(Nx.ri,this.serializer)}Za(e){return new rG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zm.provider={build:()=>new Zm};class GG extends Zm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ft(this.persistence.referenceDelegate instanceof Qm);const r=this.persistence.referenceDelegate.garbageCollector;return new Pq(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new YO(r=>Qm.ri(r,n),this.serializer)}}class $b{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HG.bind(null,this.syncEngine),await CG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AG}()}createDatastore(e){const n=jv(e.databaseInfo.databaseId),r=function(i){return new lG(i)}(e.databaseInfo);return function(i,o,a,l){return new fG(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new pG(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iI(this.syncEngine,n,0),function(){return JR.D()?new JR:new sG}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new NG(s,i,o,a,l,c);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=He(s);_e(dl,"RemoteStore shutting down."),i.W_.add(5),await rh(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$b.provider={build:()=>new $b};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class KG{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=uO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{_e(ua,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(_e(ua,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mw(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ZO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QG(t);_e(ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>tI(e.remoteStore,s)),t._onlineComponents=e}async function QG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ua,"Using user provided OfflineComponentProvider");try{await Mw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ru("Error using user provided cache. Falling back to memory cache: "+n),await Mw(t,new Zm)}}else _e(ua,"Using default OfflineComponentProvider"),await Mw(t,new GG(void 0));return t._offlineComponents}async function wj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ua,"Using user provided OnlineComponentProvider"),await aI(t,t._uninitializedComponentsProvider._online)):(_e(ua,"Using default OnlineComponentProvider"),await aI(t,new $b))),t._onlineComponents}function YG(t){return wj(t).then(e=>e.syncEngine)}async function _j(t){const e=await wj(t),n=e.eventManager;return n.onListen=MG.bind(null,e.syncEngine),n.onUnlisten=LG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VG.bind(null,e.syncEngine),n}function ZG(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new yj({next:p=>{u.su(),o.enqueueAndForget(()=>lj(i,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new Ae(re.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new Ae(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new cj(Tx(a.path),u,{includeMetadataChanges:!0,Ta:!0});return aj(i,h)}(await _j(t),t.asyncQueue,e,n,r)),r.promise}function XG(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new yj({next:p=>{u.su(),o.enqueueAndForget(()=>lj(i,h)),p.fromCache&&l.source==="server"?c.reject(new Ae(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new cj(a,u,{includeMetadataChanges:!0,Ta:!0});return aj(i,h)}(await _j(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e,n){if(!n)throw new Ae(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JG(t,e,n,r){if(e===!0&&r===!0)throw new Ae(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cI(t){if(!ke.isDocumentKey(t))throw new Ae(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uI(t){if(ke.isDocumentKey(t))throw new Ae(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function _s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wx(t);throw new Ae(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="firestore.googleapis.com",dI=!0;class fI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xj,this.ssl=dI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kq)throw new Ae(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o7;switch(r.type){case"firstParty":return new u7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lI.get(n);r&&(_e("ComponentProvider","Removing Datastore"),lI.delete(n),r.terminate())}(this),Promise.resolve()}}function eK(t,e,n,r={}){var s;const i=(t=_s(t,Fv))._getSettings(),o=`${e}:${n}`;if(i.host!==xj&&i.host!==o&&ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=An.MOCK_USER;else{a=N6(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ae(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new An(c)}t._authCredentials=new a7(new cO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sj=class Cj{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cj(this.firestore,e,this._query)}};class gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class Yo extends Sj{constructor(e,n,r){super(e,n,Tx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new ke(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function bs(t,e,...n){if(t=rn(t),Ej("collection","path",e),t instanceof Fv){const r=It.fromString(e,...n);return uI(r),new Yo(t,null,r)}{if(!(t instanceof gr||t instanceof Yo))throw new Ae(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return uI(r),new Yo(t.firestore,null,r)}}function Ii(t,e,...n){if(t=rn(t),arguments.length===1&&(e=uO.newId()),Ej("doc","path",e),t instanceof Fv){const r=It.fromString(e,...n);return cI(r),new gr(t,null,new ke(r))}{if(!(t instanceof gr||t instanceof Yo))throw new Ae(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return cI(r),new gr(t.firestore,t instanceof Yo?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="AsyncQueue";class pI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new JO(this,"async_queue_retry"),this.Su=()=>{const r=Nw();r&&_e(hI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Nw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Nw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Pu(e))throw e;_e(hI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Bi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Ux.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&Le()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Il extends Fv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new pI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pI(e),this._firestoreClient=void 0,await e}}}function Tj(t,e){const n=typeof t=="object"?t:eO(),r=typeof t=="string"?t:$m,s=yx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=D6("firestore");i&&eK(s,...i)}return s}function Uv(t){if(t._terminated)throw new Ae(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tK(t),t._firestoreClient}function tK(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new S7(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,bj(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new KG(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cu(wn.fromBase64String(e))}catch(n){throw new Ae(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cu(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=/^__.*__$/;class rK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new th(e,this.data,n,this.fieldTransforms)}}class Aj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Rj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class Qx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Rj(this.Lu)&&nK.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class sK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jv(e)}ju(e,n,r,s=!1){return new Qx({Lu:e,methodName:n,zu:r,path:mn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bv(t){const e=t._freezeSettings(),n=jv(t._databaseId);return new sK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yx(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);Zx("Data must be an object, but it was:",o,r);const a=Dj(r,o);let l,c;if(i.merge)l=new Ar(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=zb(e,h,n);if(!o.contains(p))throw new Ae(re.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Nj(u,p)||u.push(p)}l=new Ar(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new rK(new ar(a),l,c)}class $v extends qx{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $v}}function Ij(t,e,n,r){const s=t.ju(1,e,n);Zx("Data must be an object, but it was:",s,r);const i=[],o=ar.empty();ya(r,(l,c)=>{const u=Xx(e,l,n);c=rn(c);const h=s.Ku(u);if(c instanceof $v)i.push(u);else{const p=zv(c,h);p!=null&&(i.push(u),o.set(u,p))}});const a=new Ar(i);return new Aj(o,a,s.fieldTransforms)}function kj(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[zb(e,r,n)],l=[s];if(i.length%2!=0)throw new Ae(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(zb(e,i[p])),l.push(i[p+1]);const c=[],u=ar.empty();for(let p=a.length-1;p>=0;--p)if(!Nj(c,a[p])){const m=a[p];let w=l[p];w=rn(w);const g=o.Ku(m);if(w instanceof $v)c.push(m);else{const b=zv(w,g);b!=null&&(c.push(m),u.set(m,b))}}const h=new Ar(c);return new Aj(u,h,o.fieldTransforms)}function zv(t,e){if(Pj(t=rn(t)))return Zx("Unsupported field value:",e,t),Dj(t,e);if(t instanceof qx)return function(r,s){if(!Rj(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=zv(a,s.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=tn.fromDate(r);return{timestampValue:Km(s.serializer,i)}}if(r instanceof tn){const i=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Km(s.serializer,i)}}if(r instanceof Gx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cu)return{bytesValue:$O(s.serializer,r._byteString)};if(r instanceof gr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Kx)return function(o,a){return{mapValue:{fields:{[yO]:{stringValue:wO},[zm]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Ax(a.serializer,c)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Wx(r)}`)}(t,e)}function Dj(t,e){const n={};return fO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(t,(r,s)=>{const i=zv(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Pj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tn||t instanceof Gx||t instanceof cu||t instanceof gr||t instanceof qx||t instanceof Kx)}function Zx(t,e,n){if(!Pj(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Wx(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function zb(t,e,n){if((e=rn(e))instanceof ih)return e._internalPath;if(typeof e=="string")return Xx(t,e);throw Xm("Field path arguments must be of type string or ",t,!1,void 0,n)}const iK=new RegExp("[~\\*/\\[\\]]");function Xx(t,e,n){if(e.search(iK)>=0)throw Xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ih(...e.split("."))._internalPath}catch{throw Xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Ae(re.INVALID_ARGUMENT,a+t+l)}function Nj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oK extends Mj{data(){return super.data()}}function Oj(t,e){return typeof e=="string"?Xx(t,e):e instanceof ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lK{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ya(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[zm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>zt(o.doubleValue));return new Kx(i)}convertGeoPoint(e){return new Gx(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Iv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wf(e));default:return null}}convertTimestamp(e){const n=oa(e);return new tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);ft(KO(r));const s=new _f(r.get(1),r.get(3)),i=new ke(r.popFirst(5));return s.isEqual(n)||Bi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jj extends Mj{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kp extends jj{data(e={}){return super.data(e)}}class cK{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kp(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Kp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Kp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:uK(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){t=_s(t,gr);const e=_s(t.firestore,Il);return ZG(Uv(e),t._key).then(n=>fK(e,t,n))}class Lj extends lK{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function ii(t){t=_s(t,Sj);const e=_s(t.firestore,Il),n=Uv(e),r=new Lj(e);return aK(t._query),XG(n,t._query).then(s=>new cK(e,r,t,s))}function mI(t,e,n){t=_s(t,gr);const r=_s(t.firestore,Il),s=Jx(t.converter,e,n);return Hv(r,[Yx(Bv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mr.none())])}function Hb(t,e,n,...r){t=_s(t,gr);const s=_s(t.firestore,Il),i=Bv(s);let o;return o=typeof(e=rn(e))=="string"||e instanceof ih?kj(i,"updateDoc",t._key,e,n,r):Ij(i,"updateDoc",t._key,e),Hv(s,[o.toMutation(t._key,mr.exists(!0))])}function dK(t,e){const n=_s(t.firestore,Il),r=Ii(t),s=Jx(t.converter,e);return Hv(n,[Yx(Bv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function Hv(t,e){return function(r,s){const i=new Ri;return r.asyncQueue.enqueueAndForget(async()=>FG(await YG(r),s,i)),i.promise}(Uv(t),e)}function fK(t,e,n){const r=n.docs.get(e._key),s=new Lj(t);return new jj(t,s,e._key,r,new vd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bv(e)}set(e,n,r){this._verifyNotCommitted();const s=jw(e,this._firestore),i=Jx(s.converter,n,r),o=Yx(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,mr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=jw(e,this._firestore);let o;return o=typeof(n=rn(n))=="string"||n instanceof ih?kj(this._dataReader,"WriteBatch.update",i._key,n,r,s):Ij(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jw(e,this._firestore);return this._mutations=this._mutations.concat(new Rx(n._key,mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jw(t,e){if((t=rn(t)).firestore!==e)throw new Ae(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t){return Uv(t=_s(t,Il)),new hK(t,e=>Hv(t,e))}(function(e,n=!0){(function(s){ku=s})(Iu),nu(new cl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Il(new l7(r.getProvider("auth-internal")),new d7(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ae(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ko(bR,ER,e),Ko(bR,ER,"esm2017")})();const mK={apiKey:"AIzaSyCp0xxnxtwHkJLN-xsy57tYzgqWM05IgXI",authDomain:"vitti2-ff436.firebaseapp.com",projectId:"vitti2-ff436",storageBucket:"vitti2-ff436.firebasestorage.app",messagingSenderId:"274780035739",appId:"1:274780035739:web:c10ec0a29e2f02c1b0c43e",measurementId:"G-03BS6YJL6W"},gK=wx(mK),gn=Tj(gK);function Vj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vK=Vj,Fj=new Jf("auth","Firebase",Vj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new gx("@firebase/auth");function yK(t,...e){Jm.logLevel<=Xe.WARN&&Jm.warn(`Auth (${Iu}): ${t}`,...e)}function Qp(t,...e){Jm.logLevel<=Xe.ERROR&&Jm.error(`Auth (${Iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw eS(t,...e)}function Zs(t,...e){return eS(t,...e)}function Uj(t,e,n){const r=Object.assign(Object.assign({},vK()),{[e]:n});return new Jf("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return Uj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Fj.create(t,...e)}function je(t,e,...n){if(!t)throw eS(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qp(e),new Error(e)}function zi(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wK(){return gI()==="http:"||gI()==="https:"}function gI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wK()||L6()||"connection"in navigator)?navigator.onLine:!0}function bK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=M6()||V6()}get(){return _K()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=new oh(3e4,6e4);function _a(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yi(t,e,n,r,s={}){return $j(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=eh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return j6()||(c.referrerPolicy="no-referrer"),Bj.fetch()(zj(t,t.config.apiHost,n,a),c)})}async function $j(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},EK),e);try{const s=new CK(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw gp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gp(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Uj(t,u,c);Es(t,u)}}catch(s){if(s instanceof Qi)throw s;Es(t,"network-request-failed",{message:String(s)})}}async function ah(t,e,n,r,s={}){const i=await Yi(t,e,n,r,s);return"mfaPendingCredential"in i&&Es(t,"multi-factor-auth-required",{_serverResponse:i}),i}function zj(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?tS(t.config,s):`${t.config.apiScheme}://${s}`}function SK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),xK.get())})}}function gp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Zs(t,e,r);return s.customData._tokenResponse=n,s}function vI(t){return t!==void 0&&t.enterprise!==void 0}class TK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AK(t,e){return Yi(t,"GET","/v2/recaptchaConfig",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RK(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function Hj(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IK(t,e=!1){const n=rn(t),r=await n.getIdToken(e),s=nS(r);je(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Vd(Lw(s.auth_time)),issuedAtTime:Vd(Lw(s.iat)),expirationTime:Vd(Lw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Lw(t){return Number(t)*1e3}function nS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qp("JWT malformed, contained fewer than 3 sections"),null;try{const s=KM(n);return s?JSON.parse(s):(Qp("Failed to decode base64 JWT payload"),null)}catch(s){return Qp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yI(t){const e=nS(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qi&&kK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vd(this.lastLoginAt),this.creationTime=Vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await uu(t,Hj(n,{idToken:r}));je(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Wj(i.providerUserInfo):[],a=NK(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function PK(t){const e=rn(t);await eg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NK(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Wj(t){return t.map(e=>{var{providerId:n}=e,r=Zf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MK(t,e){const n=await $j(t,{},async()=>{const r=eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=zj(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bj.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OK(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=yI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await MK(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sc;return r&&(je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(je(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(je(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IK(this,e)}reload(){return PK(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await uu(this,RK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:A,isAnonymous:P,providerData:O,stsTokenManager:T}=n;je(x&&T,e,"internal-error");const S=Sc.fromJSON(this.name,T);je(typeof x=="string",e,"internal-error"),lo(h,e.name),lo(p,e.name),je(typeof A=="boolean",e,"internal-error"),je(typeof P=="boolean",e,"internal-error"),lo(m,e.name),lo(w,e.name),lo(g,e.name),lo(b,e.name),lo(_,e.name),lo(v,e.name);const R=new Si({uid:x,auth:e,email:p,emailVerified:A,displayName:h,isAnonymous:P,photoURL:w,phoneNumber:m,tenantId:g,stsTokenManager:S,createdAt:_,lastLoginAt:v});return O&&Array.isArray(O)&&(R.providerData=O.map(I=>Object.assign({},I))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sc;s.updateFromServerResponse(n);const i=new Si({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await eg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];je(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Wj(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sc;a.updateFromIdToken(r);const l=new Si({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;function Ci(t){zi(t instanceof Function,"Expected a class definition");let e=wI.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qj.type="NONE";const _I=qj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t,e,n){return`firebase:${t}:${e}:${n}`}class Cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Yp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Yp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cc(Ci(_I),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ci(_I);const o=Yp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Si._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Cc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Cc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xj(e))return"Blackberry";if(Jj(e))return"Webos";if(Kj(e))return"Safari";if((e.includes("chrome/")||Qj(e))&&!e.includes("edge/"))return"Chrome";if(Zj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gj(t=On()){return/firefox\//i.test(t)}function Kj(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qj(t=On()){return/crios\//i.test(t)}function Yj(t=On()){return/iemobile/i.test(t)}function Zj(t=On()){return/android/i.test(t)}function Xj(t=On()){return/blackberry/i.test(t)}function Jj(t=On()){return/webos/i.test(t)}function rS(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jK(t=On()){var e;return rS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LK(){return F6()&&document.documentMode===10}function e2(t=On()){return rS(t)||Zj(t)||Jj(t)||Xj(t)||/windows phone/i.test(t)||Yj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e=[]){let n;switch(t){case"Browser":n=bI(On());break;case"Worker":n=`${bI(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FK(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",_a(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK=6;class BK{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UK,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EI(this),this.idTokenSubscription=new EI(this),this.beforeStateQueue=new VK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Cc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hj(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(ki(this));const n=e?rn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FK(this),n=new BK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Cc.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kl(t){return rn(t)}class EI{constructor(e){this.auth=e,this.observer=null,this.addObserver=G6(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zK(t){Wv=t}function n2(t){return Wv.loadJS(t)}function HK(){return Wv.recaptchaEnterpriseScript}function WK(){return Wv.gapiScript}function qK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class GK{constructor(){this.enterprise=new KK}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KK{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QK="recaptcha-enterprise",r2="NO_RECAPTCHA";class YK{constructor(e){this.type=QK,this.auth=kl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{AK(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new TK(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;vI(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(r2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GK().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&vI(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HK();l.length!==0&&(l+=a),n2(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function xI(t,e,n,r=!1,s=!1){const i=new YK(t);let o;if(s)o=r2;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gb(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await xI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t,e){const n=yx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Um(i,e??{}))return s;Es(s,"already-initialized")}return n.initialize({options:e})}function XK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JK(t,e,n){const r=kl(t);je(r._canInitEmulator,r,"emulator-config-failed"),je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=s2(e),{host:o,port:a}=eQ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),tQ()}function s2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eQ(t){const e=s2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:SI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:SI(o)}}}function SI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function nQ(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rQ(t,e){return ah(t,"POST","/v1/accounts:signInWithPassword",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sQ(t,e){return ah(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}async function iQ(t,e){return ah(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends sS{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gb(e,n,"signInWithPassword",rQ);case"emailLink":return sQ(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gb(e,r,"signUpPassword",nQ);case"emailLink":return iQ(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return ah(t,"POST","/v1/accounts:signInWithIdp",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ="http://localhost";class fl extends sS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Zf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new fl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:oQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lQ(t){const e=fd(hd(t)).link,n=e?fd(hd(e)).deep_link_id:null,r=fd(hd(t)).deep_link_id;return(r?fd(hd(r)).link:null)||r||n||e||t}class iS{constructor(e){var n,r,s,i,o,a;const l=fd(hd(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=aQ((s=l.mode)!==null&&s!==void 0?s:null);je(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lQ(e);try{return new iS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.providerId=Mu.PROVIDER_ID}static credential(e,n){return Sf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iS.parseLink(n);return je(r,"argument-error"),Sf._fromEmailAndCode(e,r.code,r.tenantId)}}Mu.PROVIDER_ID="password";Mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends i2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends lh{constructor(){super("facebook.com")}static credential(e){return fl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends lh{constructor(){super("github.com")}static credential(e){return fl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends lh{constructor(){super("twitter.com")}static credential(e,n){return fl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bo.credential(n,r)}catch{return null}}}bo.TWITTER_SIGN_IN_METHOD="twitter.com";bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cQ(t,e){return ah(t,"POST","/v1/accounts:signUp",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Si._fromIdTokenResponse(e,r,s),o=CI(r);return new hl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=CI(r);return new hl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function CI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Qi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,tg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new tg(e,n,r,s)}}function o2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?tg._fromErrorAndOperation(t,i,e,r):i})}async function uQ(t,e,n=!1){const r=await uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dQ(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(ki(r));const s="reauthenticate";try{const i=await uu(t,o2(r,s,e,t),n);je(i.idToken,r,"internal-error");const o=nS(i.idToken);je(o,r,"internal-error");const{sub:a}=o;return je(t.uid===a,r,"user-mismatch"),hl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e,n=!1){if(zr(t.app))return Promise.reject(ki(t));const r="signIn",s=await o2(t,r,e),i=await hl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function fQ(t,e){return a2(kl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t){const e=kl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hQ(t,e,n){if(zr(t.app))return Promise.reject(ki(t));const r=kl(t),o=await Gb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cQ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&l2(t),l}),a=await hl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pQ(t,e,n){return zr(t.app)?Promise.reject(ki(t)):fQ(rn(t),Mu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&l2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(t,e){return Yi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gQ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=rn(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await uu(r,mQ(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function vQ(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function yQ(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function c2(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}const ng="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ng,"1"),this.storage.removeItem(ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=1e3,_Q=10;class d2 extends u2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);LK()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_Q):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d2.type="LOCAL";const bQ=d2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2 extends u2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f2.type="SESSION";const h2=f2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new qv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await EQ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=oS("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return window}function SQ(t){Xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function CQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AQ(){return p2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebaseLocalStorageDb",RQ=1,rg="firebaseLocalStorage",g2="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gv(t,e){return t.transaction([rg],e?"readwrite":"readonly").objectStore(rg)}function IQ(){const t=indexedDB.deleteDatabase(m2);return new ch(t).toPromise()}function Kb(){const t=indexedDB.open(m2,RQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rg,{keyPath:g2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rg)?e(r):(r.close(),await IQ(),e(await Kb()))})})}async function TI(t,e,n){const r=Gv(t,!0).put({[g2]:e,value:n});return new ch(r).toPromise()}async function kQ(t,e){const n=Gv(t,!1).get(e),r=await new ch(n).toPromise();return r===void 0?null:r.value}function AI(t,e){const n=Gv(t,!0).delete(e);return new ch(n).toPromise()}const DQ=800,PQ=3;class v2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qv._getInstance(AQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CQ(),!this.activeServiceWorker)return;this.sender=new xQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kb();return await TI(e,ng,"1"),await AI(e,ng),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gv(s,!1).getAll();return new ch(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v2.type="LOCAL";const NQ=v2;new oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t,e){return e?Ci(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends sS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OQ(t){return a2(t.auth,new aS(t),t.bypassAuthState)}function jQ(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),dQ(n,new aS(t),t.bypassAuthState)}async function LQ(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),uQ(n,new aS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OQ;case"linkViaPopup":case"linkViaRedirect":return LQ;case"reauthViaPopup":case"reauthViaRedirect":return jQ;default:Es(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=new oh(2e3,1e4);class fc extends y2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fc.currentPopupAction&&fc.currentPopupAction.cancel(),fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=oS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VQ.get())};e()}}fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ="pendingRedirect",Zp=new Map;class UQ extends y2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zp.get(this.auth._key());if(!e){try{const r=await BQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zp.set(this.auth._key(),e)}return this.bypassAuthState||Zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BQ(t,e){const n=HQ(e),r=zQ(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $Q(t,e){Zp.set(t._key(),e)}function zQ(t){return Ci(t._redirectPersistence)}function HQ(t){return Yp(FQ,t.config.apiKey,t.name)}async function WQ(t,e,n=!1){if(zr(t.app))return Promise.reject(ki(t));const r=kl(t),s=MQ(r,e),o=await new UQ(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=10*60*1e3;class GQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!w2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(RI(e))}saveEventToCache(e){this.cachedEventUids.add(RI(e)),this.lastProcessedEventTime=Date.now()}}function RI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZQ=/^https?/;async function XQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QQ(t);for(const n of e)try{if(JQ(n))return}catch{}Es(t,"unauthorized-domain")}function JQ(t){const e=Wb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZQ.test(n))return!1;if(YQ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY=new oh(3e4,6e4);function II(){const t=Xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tY(t){return new Promise((e,n)=>{var r,s,i;function o(){II(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{II(),n(Zs(t,"network-request-failed"))},timeout:eY.get()})}if(!((s=(r=Xs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Xs().gapi)===null||i===void 0)&&i.load)o();else{const a=qK("iframefcb");return Xs()[a]=()=>{gapi.load?o():n(Zs(t,"network-request-failed"))},n2(`${WK()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xp=null,e})}let Xp=null;function nY(t){return Xp=Xp||tY(t),Xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY=new oh(5e3,15e3),sY="__/auth/iframe",iY="emulator/auth/iframe",oY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lY(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tS(e,iY):`https://${t.config.authDomain}/${sY}`,r={apiKey:e.apiKey,appName:t.name,v:Iu},s=aY.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${eh(r).slice(1)}`}async function cY(t){const e=await nY(t),n=Xs().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:lY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oY,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Zs(t,"network-request-failed"),a=Xs().setTimeout(()=>{i(o)},rY.get());function l(){Xs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dY=500,fY=600,hY="_blank",pY="http://localhost";class kI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mY(t,e,n,r=dY,s=fY){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uY),{width:r.toString(),height:s.toString(),top:i,left:o}),c=On().toLowerCase();n&&(a=Qj(c)?hY:n),Gj(c)&&(e=e||pY,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,w])=>`${p}${m}=${w},`,"");if(jK(c)&&a!=="_self")return gY(e||"",a),new kI(null);const h=window.open(e||"",a,u);je(h,t,"popup-blocked");try{h.focus()}catch{}return new kI(h)}function gY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY="__/auth/handler",yY="emulator/auth/handler",wY=encodeURIComponent("fac");async function DI(t,e,n,r,s,i){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Iu,eventId:s};if(e instanceof i2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",q6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof lh){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${wY}=${encodeURIComponent(l)}`:"";return`${_Y(t)}?${eh(a).slice(1)}${c}`}function _Y({config:t}){return t.emulator?tS(t,yY):`https://${t.authDomain}/${vY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="webStorageSupport";class bY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h2,this._completeRedirectFn=WQ,this._overrideRedirectResult=$Q}async _openPopup(e,n,r,s){var i;zi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await DI(e,n,r,Wb(),s);return mY(e,o,oS())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await DI(e,n,r,Wb(),s);return SQ(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cY(e),r=new GQ(e);return n.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vw,{type:Vw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Vw];o!==void 0&&n(!!o),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e2()||Kj()||rS()}}const EY=bY;var PI="@firebase/auth",NI="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CY(t){nu(new cl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t2(t)},c=new $K(r,s,i,l);return XK(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nu(new cl("auth-internal",e=>{const n=kl(e.getProvider("auth").getImmediate());return(r=>new xY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ko(PI,NI,SY(t)),Ko(PI,NI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=5*60,AY=ZM("authIdTokenMaxAge")||TY;let MI=null;const RY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AY)return;const s=n==null?void 0:n.token;MI!==s&&(MI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IY(t=eO()){const e=yx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZK(t,{popupRedirectResolver:EY,persistence:[NQ,bQ,h2]}),r=ZM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=RY(i.toString());yQ(n,o,()=>o(n.currentUser)),vQ(n,a=>o(a))}}const s=QM("auth");return s&&JK(n,`http://${s}`),n}function kY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Zs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",kY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CY("Browser");const DY={apiKey:"AIzaSyCp0xxnxtwHkJLN-xsy57tYzgqWM05IgXI",authDomain:"vitti2-ff436.firebaseapp.com",projectId:"vitti2-ff436",storageBucket:"vitti2-ff436.firebasestorage.app",messagingSenderId:"274780035739",appId:"1:274780035739:web:c10ec0a29e2f02c1b0c43e",measurementId:"G-03BS6YJL6W"},_2=gR().length?gR()[0]:wx(DY),Fw=Tj(_2),du=IY(_2),lS=()=>{const[t,e]=y.useState({user:null,loading:!0});return y.useEffect(()=>{const n=du.onAuthStateChanged(r=>{e({user:r,loading:!1})});return()=>n()},[]),t},OI="/api",jI={async listUsers(t,e,n){const r=await fetch(`${OI}/users?page=${t}&limit=${e}${n?`&search=${n}`:""}`);if(!r.ok)throw new Error("Erro ao listar usurios");return r.json()},async checkFirstUser(){const t=await fetch(`${OI}/users/first`);if(!t.ok)throw new Error("Erro ao verificar primeiro usurio");return(await t.json()).isFirst}},cS=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const i=bs(gn,"services"),a=(await ii(i)).docs.map(l=>({service_id:l.id,name:l.id,...l.data()}));e(a)}catch(i){console.error("Erro ao buscar servios:",i)}finally{r(!1)}})()},[]),{services:t,loading:n}},uS=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{const i=bs(gn,"webUsers"),a=(await ii(i)).docs.map(l=>({user_id:l.id,...l.data()}));e(a)})()},[]),{webUsers:t,loading:n}},PY=async t=>{const e=bs(gn,"webUsers");return await dK(e,t),t},b2=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const i=bs(gn,"employees"),a=(await ii(i)).docs.map(l=>{const c=l.data();return{employee_id:l.id,employees:c.employees}});e(a)}catch(i){console.error("Error fetching employees: ",i)}finally{r(!1)}})()},[]),{employees:t,loading:n}},NY=(t,e,n,r)=>{const[s,i]=y.useState({}),[o,a]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!t||!e){i({}),a(!1);return}try{const c=bs(gn,"calendar"),h=(await ii(c)).docs.find(A=>A.id===t);if(!h){i({}),a(!1);return}const p=h.data(),w=(e instanceof Date?e:new Date(e)).toISOString().split("T")[0].replace(/-/g,"/"),g=p.calendar.find(A=>A.day===w);if(!g){i({}),a(!1);return}const b=r.find(A=>A.name===n),_=(b==null?void 0:b.service_duration)||1,v=(A,P)=>{const O=_;for(let T=0;T<O;T++){const S=A[P+T];if(!S||S.client_id!=="none"&&S.client_id&&S.service!=="none"&&S.service&&S.appointment_id!=="none"&&S.appointment_id)return!1}return!0},x=g.day_time.reduce((A,P,O)=>(A[P.hour]=v(g.day_time,O),A),{});i(x)}catch(c){console.error("Erro ao buscar calendrio:",c)}finally{a(!1)}})()},[t,e,n,r]),{availableTimes:s,loading:o}},MY=()=>({updateDocument:async(s,i,o)=>{try{const a=Ii(gn,s,i);await mI(a,o,{merge:!0})}catch(a){throw console.error("Erro ao atualizar documento:",a),a}},deleteDocument:async(s,i)=>{try{const o=Ii(gn,s,i);await mI(o,null,{merge:!0})}catch(o){throw console.error("Erro ao deletar documento:",o),o}},listUsers:async(s,i,o)=>jI.listUsers(s,i,o),updateUserRole:async(s,i)=>jI.updateUserRole(s,i)});function at(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Nr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Fn(t,e){const n=at(t);return isNaN(e)?Nr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function xs(t,e){const n=at(t);if(isNaN(e))return Nr(t,NaN);if(!e)return n;const r=n.getDate(),s=Nr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const dS=6048e5,OY=864e5;let jY={};function uh(){return jY}function oi(t,e){var a,l,c,u;const n=uh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=at(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function pl(t){return oi(t,{weekStartsOn:1})}function E2(t){const e=at(t),n=e.getFullYear(),r=Nr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=pl(r),i=Nr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=pl(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function fu(t){const e=at(t);return e.setHours(0,0,0,0),e}function sg(t){const e=at(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zs(t,e){const n=fu(t),r=fu(e),s=+n-sg(n),i=+r-sg(r);return Math.round((s-i)/OY)}function LY(t){const e=E2(t),n=Nr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),pl(n)}function Qb(t,e){const n=e*7;return Fn(t,n)}function VY(t,e){return xs(t,e*12)}function FY(t){let e;return t.forEach(function(n){const r=at(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function UY(t){let e;return t.forEach(n=>{const r=at(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function ur(t,e){const n=fu(t),r=fu(e);return+n==+r}function fS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function BY(t){if(!fS(t)&&typeof t!="number")return!1;const e=at(t);return!isNaN(Number(e))}function Cf(t,e){const n=at(t),r=at(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function $Y(t,e,n){const r=oi(t,n),s=oi(e,n),i=+r-sg(r),o=+s-sg(s);return Math.round((i-o)/dS)}function hS(t){const e=at(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function vr(t){const e=at(t);return e.setDate(1),e.setHours(0,0,0,0),e}function x2(t){const e=at(t),n=Nr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pS(t,e){var a,l,c,u;const n=uh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=at(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function S2(t){return pS(t,{weekStartsOn:1})}const zY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HY=(t,e,n)=>{let r;const s=zY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ac(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const WY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KY={date:Ac({formats:WY,defaultWidth:"full"}),time:Ac({formats:qY,defaultWidth:"full"}),dateTime:Ac({formats:GY,defaultWidth:"full"})},QY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YY=(t,e,n,r)=>QY[t];function Us(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const ZY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sZ={ordinalNumber:rZ,era:Us({values:ZY,defaultWidth:"wide"}),quarter:Us({values:XY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Us({values:JY,defaultWidth:"wide"}),day:Us({values:eZ,defaultWidth:"wide"}),dayPeriod:Us({values:tZ,defaultWidth:"wide",formattingValues:nZ,defaultFormattingWidth:"wide"})};function Bs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?oZ(a,h=>h.test(o)):iZ(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function iZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function oZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function C2(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const aZ=/^(\d+)(th|st|nd|rd)?/i,lZ=/\d+/i,cZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uZ={any:[/^b/i,/^(a|c)/i]},dZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fZ={any:[/1/i,/2/i,/3/i,/4/i]},hZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wZ={ordinalNumber:C2({matchPattern:aZ,parsePattern:lZ,valueCallback:t=>parseInt(t,10)}),era:Bs({matchPatterns:cZ,defaultMatchWidth:"wide",parsePatterns:uZ,defaultParseWidth:"any"}),quarter:Bs({matchPatterns:dZ,defaultMatchWidth:"wide",parsePatterns:fZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bs({matchPatterns:hZ,defaultMatchWidth:"wide",parsePatterns:pZ,defaultParseWidth:"any"}),day:Bs({matchPatterns:mZ,defaultMatchWidth:"wide",parsePatterns:gZ,defaultParseWidth:"any"}),dayPeriod:Bs({matchPatterns:vZ,defaultMatchWidth:"any",parsePatterns:yZ,defaultParseWidth:"any"})},T2={code:"en-US",formatDistance:HY,formatLong:KY,formatRelative:YY,localize:sZ,match:wZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _Z(t){const e=at(t);return zs(e,x2(e))+1}function A2(t){const e=at(t),n=+pl(e)-+LY(e);return Math.round(n/dS)+1}function R2(t,e){var u,h,p,m;const n=at(t),r=n.getFullYear(),s=uh(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Nr(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=oi(o,e),l=Nr(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=oi(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function bZ(t,e){var a,l,c,u;const n=uh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=R2(t,e),i=Nr(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),oi(i,e)}function I2(t,e){const n=at(t),r=+oi(n,e)-+bZ(n,e);return Math.round(r/dS)+1}function pt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const co={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return pt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):pt(n+1,2)},d(t,e){return pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return pt(t.getHours()%12||12,e.length)},H(t,e){return pt(t.getHours(),e.length)},m(t,e){return pt(t.getMinutes(),e.length)},s(t,e){return pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return pt(s,e.length)}},Wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return co.y(t,e)},Y:function(t,e,n,r){const s=R2(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return pt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):pt(i,e.length)},R:function(t,e){const n=E2(t);return pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return pt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return co.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=I2(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):pt(s,e.length)},I:function(t,e,n){const r=A2(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):co.d(t,e)},D:function(t,e,n){const r=_Z(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return pt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return pt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return pt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Wl.noon:r===0?s=Wl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Wl.evening:r>=12?s=Wl.afternoon:r>=4?s=Wl.morning:s=Wl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return co.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):co.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):co.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):co.s(t,e)},S:function(t,e){return co.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FI(r);case"XXXX":case"XX":return Ma(r);case"XXXXX":case"XXX":default:return Ma(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FI(r);case"xxxx":case"xx":return Ma(r);case"xxxxx":case"xxx":default:return Ma(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VI(r,":");case"OOOO":default:return"GMT"+Ma(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VI(r,":");case"zzzz":default:return"GMT"+Ma(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return pt(r,e.length)},T:function(t,e,n){const r=t.getTime();return pt(r,e.length)}};function VI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+pt(i,2)}function FI(t,e){return t%60===0?(t>0?"-":"+")+pt(Math.abs(t)/60,2):Ma(t,e)}function Ma(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=pt(Math.trunc(r/60),2),i=pt(r%60,2);return n+s+e+i}const UI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},k2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return UI(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",UI(r,e)).replace("{{time}}",k2(s,e))},xZ={p:k2,P:EZ},SZ=/^D+$/,CZ=/^Y+$/,TZ=["D","DD","YY","YYYY"];function AZ(t){return SZ.test(t)}function RZ(t){return CZ.test(t)}function IZ(t,e,n){const r=kZ(t,e,n);if(console.warn(r),TZ.includes(t))throw new RangeError(r)}function kZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const DZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NZ=/^'([^]*?)'?$/,MZ=/''/g,OZ=/[a-zA-Z]/;function ms(t,e,n){var u,h,p,m,w,g,b,_;const r=uh(),s=(n==null?void 0:n.locale)??r.locale??T2,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((_=(b=r.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??0,a=at(t);if(!BY(a))throw new RangeError("Invalid time value");let l=e.match(PZ).map(v=>{const x=v[0];if(x==="p"||x==="P"){const A=xZ[x];return A(v,s.formatLong)}return v}).join("").match(DZ).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:jZ(v)};if(LI[x])return{isToken:!0,value:v};if(x.match(OZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const x=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&RZ(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&AZ(x))&&IZ(x,e,String(t));const A=LI[x[0]];return A(a,x,s.localize,c)}).join("")}function jZ(t){const e=t.match(NZ);return e?e[1].replace(MZ,"'"):t}function LZ(t){const e=at(t),n=e.getFullYear(),r=e.getMonth(),s=Nr(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function VZ(t){return Math.trunc(+at(t)/1e3)}function FZ(t){const e=at(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function UZ(t,e){return $Y(FZ(t),vr(t),e)+1}function Yb(t,e){const n=at(t),r=at(e);return n.getTime()>r.getTime()}function D2(t,e){const n=at(t),r=at(e);return+n<+r}function mS(t,e){const n=at(t),r=at(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function BZ(t,e){const n=at(t),r=at(e);return n.getFullYear()===r.getFullYear()}function Uw(t,e){return Fn(t,-e)}function Bw(t,e){const n=at(t),r=n.getFullYear(),s=n.getDate(),i=Nr(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=LZ(i);return n.setMonth(e,Math.min(s,o)),n}function BI(t,e){const n=at(t);return isNaN(+n)?Nr(t,NaN):(n.setFullYear(e),n)}const $Z={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},zZ=(t,e,n)=>{let r;const s=$Z[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},HZ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},WZ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},qZ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GZ={date:Ac({formats:HZ,defaultWidth:"full"}),time:Ac({formats:WZ,defaultWidth:"full"}),dateTime:Ac({formats:qZ,defaultWidth:"full"})},KZ={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},QZ=(t,e,n,r)=>{const s=KZ[t];return typeof s=="function"?s(e):s},YZ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},ZZ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},XZ={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},JZ={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},eX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},tX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},nX=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},rX={ordinalNumber:nX,era:Us({values:YZ,defaultWidth:"wide"}),quarter:Us({values:ZZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Us({values:XZ,defaultWidth:"wide"}),day:Us({values:JZ,defaultWidth:"wide"}),dayPeriod:Us({values:eX,defaultWidth:"wide",formattingValues:tX,defaultFormattingWidth:"wide"})},sX=/^(\d+)[o]?/i,iX=/\d+/i,oX={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},aX={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},lX={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},cX={any:[/1/i,/2/i,/3/i,/4/i]},uX={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},dX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},fX={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},hX={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},pX={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},mX={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},gX={ordinalNumber:C2({matchPattern:sX,parsePattern:iX,valueCallback:t=>parseInt(t,10)}),era:Bs({matchPatterns:oX,defaultMatchWidth:"wide",parsePatterns:aX,defaultParseWidth:"any"}),quarter:Bs({matchPatterns:lX,defaultMatchWidth:"wide",parsePatterns:cX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bs({matchPatterns:uX,defaultMatchWidth:"wide",parsePatterns:dX,defaultParseWidth:"any"}),day:Bs({matchPatterns:fX,defaultMatchWidth:"wide",parsePatterns:hX,defaultParseWidth:"any"}),dayPeriod:Bs({matchPatterns:pX,defaultMatchWidth:"any",parsePatterns:mX,defaultParseWidth:"any"})},P2={code:"pt-BR",formatDistance:zZ,formatLong:GZ,formatRelative:QZ,localize:rX,match:gX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vX(){const[t,e]=y.useState([]),[n,r]=y.useState(!1),[s]=y.useState("+55"),[i,o]=y.useState(!1),[a,l]=y.useState(null),{user:c}=lS(),{webUsers:u}=uS(),h=u.find(v=>v.user_id===(c==null?void 0:c.uid));y.useEffect(()=>{h!=null&&h.phone&&m()},[h]);const p=v=>v,m=async()=>{if(!(h!=null&&h.phone))return;r(!0);const v=p(h.phone),x=[],A=new Set;try{const P=bs(gn,"calendar");(await ii(P)).forEach(T=>{const S=T.data(),R=T.id;S.calendar.forEach(I=>{I.day_time.forEach(N=>{N.client_id===v&&!A.has(N.appointment_id)&&(A.add(N.appointment_id),x.push({day:I.day,hour:N.hour,service:N.service,employee:R,appointment_id:N.appointment_id}))})})}),e(x)}catch(P){console.error("Erro ao buscar agendamentos:",P),alert("Erro ao buscar agendamentos. Por favor, tente novamente.")}finally{r(!1)}},w=v=>{const[x,A,P]=v.split("/");return ms(new Date(Number(x),Number(A)-1,Number(P)),"PPP",{locale:P2})},g=async v=>{try{const x=bs(gn,"calendar"),A=await ii(x),P=pK(gn);A.forEach(O=>{const T=O.data();T.calendar.forEach(S=>{S.day_time.forEach(R=>{R.appointment_id===v&&(R.appointment_id="",R.client_id="none",R.service="none",P.set(O.ref,T))})})}),await P.commit(),e(O=>O.filter(T=>T.appointment_id!==v))}catch(x){console.error("Erro ao deletar agendamento:",x),alert("Erro ao deletar agendamento. Por favor, tente novamente.")}},b=v=>{l(v),o(!0)},_=()=>{o(!1),l(null)};return d.jsxs("div",{className:"animate-fade-in max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"font-display text-4xl font-bold text-gray-200 mb-4",children:"Meus Agendamentos"}),d.jsx("p",{className:"text-xl text-gray-400",children:"Consulte seus horrios agendados"})]}),d.jsxs("div",{className:"space-y-6",children:[n&&d.jsx("p",{className:"text-center text-gray-400",children:"Carregando agendamentos..."}),t.map((v,x)=>d.jsxs("div",{className:"p-4 rounded-lg border border-gray-700 bg-gray-800 relative group",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:v.service}),d.jsxs("p",{className:"text-gray-400",children:["Com: ",v.employee]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-gray-200",children:w(v.day)}),d.jsx("p",{className:"text-gray-400",children:v.hour}),d.jsx("p",{className:"hidden",children:v.appointment_id})]})]}),d.jsx("button",{onClick:()=>b(v),className:"absolute -top-4 -right-4 bg-red-500 rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(mb,{className:"w-4 h-4"})})]},x)),t.length===0&&!n&&d.jsx("p",{className:"text-center text-gray-400",children:"Nenhum agendamento encontrado para este nmero."})]}),d.jsx(mf,{open:i,onOpenChange:o,children:d.jsxs(Jc,{children:[d.jsxs(eu,{children:[d.jsx(tu,{children:"Confirmar Excluso"}),d.jsx(Vm,{children:a&&d.jsxs("div",{children:[d.jsxs("p",{children:["Voc tem certeza que deseja excluir o agendamento para"," ",d.jsx("strong",{children:a.service}),"?"]}),d.jsxs("p",{children:["Data: ",w(a.day)]}),d.jsxs("p",{children:["Hora: ",a.hour]})]})})]}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Dt,{variant:"outline",onClick:_,children:"Cancelar"}),d.jsx(Dt,{variant:"destructive",onClick:()=>{a&&g(a.appointment_id),_()},children:"Confirmar"})]})]})})]})}var dh=t=>t.type==="checkbox",za=t=>t instanceof Date,Un=t=>t==null;const N2=t=>typeof t=="object";var qt=t=>!Un(t)&&!Array.isArray(t)&&N2(t)&&!za(t),M2=t=>qt(t)&&t.target?dh(t.target)?t.target.checked:t.target.value:t,yX=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,O2=(t,e)=>t.has(yX(e)),wX=t=>{const e=t.constructor&&t.constructor.prototype;return qt(e)&&e.hasOwnProperty("isPrototypeOf")},gS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gS&&(t instanceof Blob||r))&&(n||qt(t)))if(e=n?[]:{},!n&&!wX(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Xn(t[s]));else return t;return e}var Kv=t=>Array.isArray(t)?t.filter(Boolean):[],Ht=t=>t===void 0,pe=(t,e,n)=>{if(!e||!qt(t))return n;const r=Kv(e.split(/[,[\].]+?/)).reduce((s,i)=>Un(s)?s:s[i],t);return Ht(r)||r===t?Ht(t[e])?n:t[e]:r},Ur=t=>typeof t=="boolean",vS=t=>/^\w*$/.test(t),j2=t=>Kv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),dt=(t,e,n)=>{let r=-1;const s=vS(e)?[e]:j2(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=qt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}return t};const ig={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},L2=X.createContext(null),Qv=()=>X.useContext(L2),_X=t=>{const{children:e,...n}=t;return X.createElement(L2.Provider,{value:n},e)};var V2=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==cs.all&&(e._proxyFormState[o]=!r||cs.all),n&&(n[o]=!0),t[o]}});return s},Jn=t=>qt(t)&&!Object.keys(t).length,F2=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Jn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||cs.all))},Fd=t=>Array.isArray(t)?t:[t],U2=(t,e,n)=>!t||!e||t===e||Fd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function yS(t){const e=X.useRef(t);e.current=t,X.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function bX(t){const e=Qv(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=X.useState(n._formState),l=X.useRef(!0),c=X.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=X.useRef(s);return u.current=s,yS({disabled:r,next:h=>l.current&&U2(u.current,h.name,i)&&F2(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),X.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),X.useMemo(()=>V2(o,n,c.current,!1),[o,n])}var Hs=t=>typeof t=="string",B2=(t,e,n,r,s)=>Hs(t)?(r&&e.watch.add(t),pe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),pe(n,i))):(r&&(e.watchAll=!0),n);function EX(t){const e=Qv(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=X.useRef(r);a.current=r,yS({disabled:i,subject:n._subjects.values,next:u=>{U2(a.current,u.name,o)&&c(Xn(B2(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=X.useState(n._getWatch(r,s));return X.useEffect(()=>n._removeUnmounted()),l}function xX(t){const e=Qv(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=O2(s._names.array,n),a=EX({control:s,name:n,defaultValue:pe(s._formValues,n,pe(s._defaultValues,n,t.defaultValue)),exact:!0}),l=bX({control:s,name:n,exact:!0}),c=X.useRef(s.register(n,{...t.rules,value:a,...Ur(t.disabled)?{disabled:t.disabled}:{}})),u=X.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!pe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!pe(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!pe(l.validatingFields,n)},error:{enumerable:!0,get:()=>pe(l.errors,n)}}),[l,n]),h=X.useMemo(()=>({name:n,value:a,...Ur(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:p=>c.current.onChange({target:{value:M2(p),name:n},type:ig.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:pe(s._formValues,n),name:n},type:ig.BLUR}),ref:p=>{const m=pe(s._fields,n);m&&p&&(m._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:w=>p.setCustomValidity(w),reportValidity:()=>p.reportValidity()})}}),[n,s._formValues,r,l.disabled,a,s._fields]);return X.useEffect(()=>{const p=s._options.shouldUnregister||i,m=(w,g)=>{const b=pe(s._fields,w);b&&b._f&&(b._f.mount=g)};if(m(n,!0),p){const w=Xn(pe(s._options.defaultValues,n));dt(s._defaultValues,n,w),Ht(pe(s._formValues,n))&&dt(s._formValues,n,w)}return!o&&s.register(n),()=>{(o?p&&!s._state.action:p)?s.unregister(n):m(n,!1)}},[n,s,o,i]),X.useEffect(()=>{s._updateDisabledField({disabled:r,fields:s._fields,name:n})},[r,n,s]),X.useMemo(()=>({field:h,formState:l,fieldState:u}),[h,l,u])}const SX=t=>t.render(xX(t));var $2=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},$I=t=>({isOnSubmit:!t||t===cs.onSubmit,isOnBlur:t===cs.onBlur,isOnChange:t===cs.onChange,isOnAll:t===cs.all,isOnTouch:t===cs.onTouched}),zI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ud=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=pe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ud(a,e))break}else if(qt(a)&&Ud(a,e))break}}};var CX=(t,e,n)=>{const r=Fd(pe(t,n));return dt(r,"root",e[n]),dt(t,n,r),t},wS=t=>t.type==="file",$s=t=>typeof t=="function",og=t=>{if(!gS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Jp=t=>Hs(t),_S=t=>t.type==="radio",ag=t=>t instanceof RegExp;const HI={value:!1,isValid:!1},WI={value:!0,isValid:!0};var z2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ht(t[0].attributes.value)?Ht(t[0].value)||t[0].value===""?WI:{value:t[0].value,isValid:!0}:WI:HI}return HI};const qI={isValid:!1,value:null};var H2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,qI):qI;function GI(t,e,n="validate"){if(Jp(t)||Array.isArray(t)&&t.every(Jp)||Ur(t)&&!t)return{type:n,message:Jp(t)?t:"",ref:e}}var ql=t=>qt(t)&&!ag(t)?t:{value:t,message:""},KI=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:h,max:p,pattern:m,validate:w,name:g,valueAsNumber:b,mount:_}=t._f,v=pe(n,g);if(!_||e.has(g))return{};const x=a?a[0]:o,A=k=>{s&&x.reportValidity&&(x.setCustomValidity(Ur(k)?"":k||""),x.reportValidity())},P={},O=_S(o),T=dh(o),S=O||T,R=(b||wS(o))&&Ht(o.value)&&Ht(v)||og(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,I=$2.bind(null,g,r,P),N=(k,D,G,ae=pi.maxLength,te=pi.minLength)=>{const K=k?D:G;P[g]={type:k?ae:te,message:K,ref:o,...I(k?ae:te,K)}};if(i?!Array.isArray(v)||!v.length:l&&(!S&&(R||Un(v))||Ur(v)&&!v||T&&!z2(a).isValid||O&&!H2(a).isValid)){const{value:k,message:D}=Jp(l)?{value:!!l,message:l}:ql(l);if(k&&(P[g]={type:pi.required,message:D,ref:x,...I(pi.required,D)},!r))return A(D),P}if(!R&&(!Un(h)||!Un(p))){let k,D;const G=ql(p),ae=ql(h);if(!Un(v)&&!isNaN(v)){const te=o.valueAsNumber||v&&+v;Un(G.value)||(k=te>G.value),Un(ae.value)||(D=te<ae.value)}else{const te=o.valueAsDate||new Date(v),K=Q=>new Date(new Date().toDateString()+" "+Q),F=o.type=="time",j=o.type=="week";Hs(G.value)&&v&&(k=F?K(v)>K(G.value):j?v>G.value:te>new Date(G.value)),Hs(ae.value)&&v&&(D=F?K(v)<K(ae.value):j?v<ae.value:te<new Date(ae.value))}if((k||D)&&(N(!!k,G.message,ae.message,pi.max,pi.min),!r))return A(P[g].message),P}if((c||u)&&!R&&(Hs(v)||i&&Array.isArray(v))){const k=ql(c),D=ql(u),G=!Un(k.value)&&v.length>+k.value,ae=!Un(D.value)&&v.length<+D.value;if((G||ae)&&(N(G,k.message,D.message),!r))return A(P[g].message),P}if(m&&!R&&Hs(v)){const{value:k,message:D}=ql(m);if(ag(k)&&!v.match(k)&&(P[g]={type:pi.pattern,message:D,ref:o,...I(pi.pattern,D)},!r))return A(D),P}if(w){if($s(w)){const k=await w(v,n),D=GI(k,x);if(D&&(P[g]={...D,...I(pi.validate,D.message)},!r))return A(D.message),P}else if(qt(w)){let k={};for(const D in w){if(!Jn(k)&&!r)break;const G=GI(await w[D](v,n),x,D);G&&(k={...G,...I(D,G.message)},A(G.message),r&&(P[g]=k))}if(!Jn(k)&&(P[g]={ref:x,...k},!r))return P}}return A(!0),P};function TX(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ht(t)?r++:t[e[r++]];return t}function AX(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ht(t[e]))return!1;return!0}function Zt(t,e){const n=Array.isArray(e)?e:vS(e)?[e]:j2(e),r=n.length===1?t:TX(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(qt(r)&&Jn(r)||Array.isArray(r)&&AX(r))&&Zt(t,n.slice(0,-1)),t}var $w=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Zb=t=>Un(t)||!N2(t);function Eo(t,e){if(Zb(t)||Zb(e))return t===e;if(za(t)&&za(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(za(i)&&za(o)||qt(i)&&qt(o)||Array.isArray(i)&&Array.isArray(o)?!Eo(i,o):i!==o)return!1}}return!0}var W2=t=>t.type==="select-multiple",RX=t=>_S(t)||dh(t),zw=t=>og(t)&&t.isConnected,q2=t=>{for(const e in t)if($s(t[e]))return!0;return!1};function lg(t,e={}){const n=Array.isArray(t);if(qt(t)||n)for(const r in t)Array.isArray(t[r])||qt(t[r])&&!q2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},lg(t[r],e[r])):Un(t[r])||(e[r]=!0);return e}function G2(t,e,n){const r=Array.isArray(t);if(qt(t)||r)for(const s in t)Array.isArray(t[s])||qt(t[s])&&!q2(t[s])?Ht(e)||Zb(n[s])?n[s]=Array.isArray(t[s])?lg(t[s],[]):{...lg(t[s])}:G2(t[s],Un(e)?{}:e[s],n[s]):n[s]=!Eo(t[s],e[s]);return n}var id=(t,e)=>G2(t,e,lg(e)),K2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ht(t)?t:e?t===""?NaN:t&&+t:n&&Hs(t)?new Date(t):r?r(t):t;function Hw(t){const e=t.ref;return wS(e)?e.files:_S(e)?H2(t.refs).value:W2(e)?[...e.selectedOptions].map(({value:n})=>n):dh(e)?z2(t.refs).value:K2(Ht(e.value)?t.ref.value:e.value,t)}var IX=(t,e,n,r)=>{const s={};for(const i of t){const o=pe(e,i);o&&dt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},od=t=>Ht(t)?t:ag(t)?t.source:qt(t)?ag(t.value)?t.value.source:t.value:t;const QI="AsyncFunction";var kX=t=>!!t&&!!t.validate&&!!($s(t.validate)&&t.validate.constructor.name===QI||qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===QI)),DX=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function YI(t,e,n){const r=pe(t,n);if(r||vS(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=pe(e,i),a=pe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var PX=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,NX=(t,e)=>!Kv(pe(t,e)).length&&Zt(t,e);const MX={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function OX(t={}){let e={...MX,...t},n={submitCount:0,isDirty:!1,isLoading:$s(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=qt(e.defaultValues)||qt(e.values)?Xn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Xn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:$w(),array:$w(),state:$w()},p=$I(e.mode),m=$I(e.reValidateMode),w=e.criteriaMode===cs.all,g=L=>U=>{clearTimeout(c),c=setTimeout(L,U)},b=async L=>{if(!e.disabled&&(u.isValid||L)){const U=e.resolver?Jn((await S()).errors):await I(r,!0);U!==n.isValid&&h.state.next({isValid:U})}},_=(L,U)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(z=>{z&&(U?dt(n.validatingFields,z,U):Zt(n.validatingFields,z))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Jn(n.validatingFields)}))},v=(L,U=[],z,ue,de=!0,oe=!0)=>{if(ue&&z&&!e.disabled){if(o.action=!0,oe&&Array.isArray(pe(r,L))){const Ce=z(pe(r,L),ue.argA,ue.argB);de&&dt(r,L,Ce)}if(oe&&Array.isArray(pe(n.errors,L))){const Ce=z(pe(n.errors,L),ue.argA,ue.argB);de&&dt(n.errors,L,Ce),NX(n.errors,L)}if(u.touchedFields&&oe&&Array.isArray(pe(n.touchedFields,L))){const Ce=z(pe(n.touchedFields,L),ue.argA,ue.argB);de&&dt(n.touchedFields,L,Ce)}u.dirtyFields&&(n.dirtyFields=id(s,i)),h.state.next({name:L,isDirty:k(L,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dt(i,L,U)},x=(L,U)=>{dt(n.errors,L,U),h.state.next({errors:n.errors})},A=L=>{n.errors=L,h.state.next({errors:n.errors,isValid:!1})},P=(L,U,z,ue)=>{const de=pe(r,L);if(de){const oe=pe(i,L,Ht(z)?pe(s,L):z);Ht(oe)||ue&&ue.defaultChecked||U?dt(i,L,U?oe:Hw(de._f)):ae(L,oe),o.mount&&b()}},O=(L,U,z,ue,de)=>{let oe=!1,Ce=!1;const Ue={name:L};if(!e.disabled){const De=!!(pe(r,L)&&pe(r,L)._f&&pe(r,L)._f.disabled);if(!z||ue){u.isDirty&&(Ce=n.isDirty,n.isDirty=Ue.isDirty=k(),oe=Ce!==Ue.isDirty);const ze=De||Eo(pe(s,L),U);Ce=!!(!De&&pe(n.dirtyFields,L)),ze||De?Zt(n.dirtyFields,L):dt(n.dirtyFields,L,!0),Ue.dirtyFields=n.dirtyFields,oe=oe||u.dirtyFields&&Ce!==!ze}if(z){const ze=pe(n.touchedFields,L);ze||(dt(n.touchedFields,L,z),Ue.touchedFields=n.touchedFields,oe=oe||u.touchedFields&&ze!==z)}oe&&de&&h.state.next(Ue)}return oe?Ue:{}},T=(L,U,z,ue)=>{const de=pe(n.errors,L),oe=u.isValid&&Ur(U)&&n.isValid!==U;if(e.delayError&&z?(l=g(()=>x(L,z)),l(e.delayError)):(clearTimeout(c),l=null,z?dt(n.errors,L,z):Zt(n.errors,L)),(z?!Eo(de,z):de)||!Jn(ue)||oe){const Ce={...ue,...oe&&Ur(U)?{isValid:U}:{},errors:n.errors,name:L};n={...n,...Ce},h.state.next(Ce)}},S=async L=>{_(L,!0);const U=await e.resolver(i,e.context,IX(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),U},R=async L=>{const{errors:U}=await S(L);if(L)for(const z of L){const ue=pe(U,z);ue?dt(n.errors,z,ue):Zt(n.errors,z)}else n.errors=U;return U},I=async(L,U,z={valid:!0})=>{for(const ue in L){const de=L[ue];if(de){const{_f:oe,...Ce}=de;if(oe){const Ue=a.array.has(oe.name),De=de._f&&kX(de._f);De&&u.validatingFields&&_([ue],!0);const ze=await KI(de,a.disabled,i,w,e.shouldUseNativeValidation&&!U,Ue);if(De&&u.validatingFields&&_([ue]),ze[oe.name]&&(z.valid=!1,U))break;!U&&(pe(ze,oe.name)?Ue?CX(n.errors,ze,oe.name):dt(n.errors,oe.name,ze[oe.name]):Zt(n.errors,oe.name))}!Jn(Ce)&&await I(Ce,U,z)}}return z.valid},N=()=>{for(const L of a.unMount){const U=pe(r,L);U&&(U._f.refs?U._f.refs.every(z=>!zw(z)):!zw(U._f.ref))&&$(L)}a.unMount=new Set},k=(L,U)=>!e.disabled&&(L&&U&&dt(i,L,U),!Eo(se(),s)),D=(L,U,z)=>B2(L,a,{...o.mount?i:Ht(U)?s:Hs(L)?{[L]:U}:U},z,U),G=L=>Kv(pe(o.mount?i:s,L,e.shouldUnregister?pe(s,L,[]):[])),ae=(L,U,z={})=>{const ue=pe(r,L);let de=U;if(ue){const oe=ue._f;oe&&(!oe.disabled&&dt(i,L,K2(U,oe)),de=og(oe.ref)&&Un(U)?"":U,W2(oe.ref)?[...oe.ref.options].forEach(Ce=>Ce.selected=de.includes(Ce.value)):oe.refs?dh(oe.ref)?oe.refs.length>1?oe.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(de)?!!de.find(Ue=>Ue===Ce.value):de===Ce.value)):oe.refs[0]&&(oe.refs[0].checked=!!de):oe.refs.forEach(Ce=>Ce.checked=Ce.value===de):wS(oe.ref)?oe.ref.value="":(oe.ref.value=de,oe.ref.type||h.values.next({name:L,values:{...i}})))}(z.shouldDirty||z.shouldTouch)&&O(L,de,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&Q(L)},te=(L,U,z)=>{for(const ue in U){const de=U[ue],oe=`${L}.${ue}`,Ce=pe(r,oe);(a.array.has(L)||qt(de)||Ce&&!Ce._f)&&!za(de)?te(oe,de,z):ae(oe,de,z)}},K=(L,U,z={})=>{const ue=pe(r,L),de=a.array.has(L),oe=Xn(U);dt(i,L,oe),de?(h.array.next({name:L,values:{...i}}),(u.isDirty||u.dirtyFields)&&z.shouldDirty&&h.state.next({name:L,dirtyFields:id(s,i),isDirty:k(L,oe)})):ue&&!ue._f&&!Un(oe)?te(L,oe,z):ae(L,oe,z),zI(L,a)&&h.state.next({...n}),h.values.next({name:o.mount?L:void 0,values:{...i}})},F=async L=>{o.mount=!0;const U=L.target;let z=U.name,ue=!0;const de=pe(r,z),oe=()=>U.type?Hw(de._f):M2(L),Ce=Ue=>{ue=Number.isNaN(Ue)||za(Ue)&&isNaN(Ue.getTime())||Eo(Ue,pe(i,z,Ue))};if(de){let Ue,De;const ze=oe(),cn=L.type===ig.BLUR||L.type===ig.FOCUS_OUT,Ts=!DX(de._f)&&!e.resolver&&!pe(n.errors,z)&&!de._f.deps||PX(cn,pe(n.touchedFields,z),n.isSubmitted,m,p),sn=zI(z,a,cn);dt(i,z,ze),cn?(de._f.onBlur&&de._f.onBlur(L),l&&l(0)):de._f.onChange&&de._f.onChange(L);const Yr=O(z,ze,cn,!1),Kn=!Jn(Yr)||sn;if(!cn&&h.values.next({name:z,type:L.type,values:{...i}}),Ts)return u.isValid&&(e.mode==="onBlur"&&cn?b():cn||b()),Kn&&h.state.next({name:z,...sn?{}:Yr});if(!cn&&sn&&h.state.next({...n}),e.resolver){const{errors:Qn}=await S([z]);if(Ce(ze),ue){const _r=YI(n.errors,r,z),Zr=YI(Qn,r,_r.name||z);Ue=Zr.error,z=Zr.name,De=Jn(Qn)}}else _([z],!0),Ue=(await KI(de,a.disabled,i,w,e.shouldUseNativeValidation))[z],_([z]),Ce(ze),ue&&(Ue?De=!1:u.isValid&&(De=await I(r,!0)));ue&&(de._f.deps&&Q(de._f.deps),T(z,De,Ue,Yr))}},j=(L,U)=>{if(pe(n.errors,U)&&L.focus)return L.focus(),1},Q=async(L,U={})=>{let z,ue;const de=Fd(L);if(e.resolver){const oe=await R(Ht(L)?L:de);z=Jn(oe),ue=L?!de.some(Ce=>pe(oe,Ce)):z}else L?(ue=(await Promise.all(de.map(async oe=>{const Ce=pe(r,oe);return await I(Ce&&Ce._f?{[oe]:Ce}:Ce)}))).every(Boolean),!(!ue&&!n.isValid)&&b()):ue=z=await I(r);return h.state.next({...!Hs(L)||u.isValid&&z!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:z}:{},errors:n.errors}),U.shouldFocus&&!ue&&Ud(r,j,L?de:a.mount),ue},se=L=>{const U={...o.mount?i:s};return Ht(L)?U:Hs(L)?pe(U,L):L.map(z=>pe(U,z))},q=(L,U)=>({invalid:!!pe((U||n).errors,L),isDirty:!!pe((U||n).dirtyFields,L),error:pe((U||n).errors,L),isValidating:!!pe(n.validatingFields,L),isTouched:!!pe((U||n).touchedFields,L)}),J=L=>{L&&Fd(L).forEach(U=>Zt(n.errors,U)),h.state.next({errors:L?n.errors:{}})},ie=(L,U,z)=>{const ue=(pe(r,L,{_f:{}})._f||{}).ref,de=pe(n.errors,L)||{},{ref:oe,message:Ce,type:Ue,...De}=de;dt(n.errors,L,{...De,...U,ref:ue}),h.state.next({name:L,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&ue&&ue.focus&&ue.focus()},Ee=(L,U)=>$s(L)?h.values.subscribe({next:z=>L(D(void 0,U),z)}):D(L,U,!0),$=(L,U={})=>{for(const z of L?Fd(L):a.mount)a.mount.delete(z),a.array.delete(z),U.keepValue||(Zt(r,z),Zt(i,z)),!U.keepError&&Zt(n.errors,z),!U.keepDirty&&Zt(n.dirtyFields,z),!U.keepTouched&&Zt(n.touchedFields,z),!U.keepIsValidating&&Zt(n.validatingFields,z),!e.shouldUnregister&&!U.keepDefaultValue&&Zt(s,z);h.values.next({values:{...i}}),h.state.next({...n,...U.keepDirty?{isDirty:k()}:{}}),!U.keepIsValid&&b()},H=({disabled:L,name:U,field:z,fields:ue})=>{(Ur(L)&&o.mount||L||a.disabled.has(U))&&(L?a.disabled.add(U):a.disabled.delete(U),O(U,Hw(z?z._f:pe(ue,U)._f),!1,!1,!0))},ye=(L,U={})=>{let z=pe(r,L);const ue=Ur(U.disabled)||Ur(e.disabled);return dt(r,L,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:L}},name:L,mount:!0,...U}}),a.mount.add(L),z?H({field:z,disabled:Ur(U.disabled)?U.disabled:e.disabled,name:L}):P(L,!0,U.value),{...ue?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:od(U.min),max:od(U.max),minLength:od(U.minLength),maxLength:od(U.maxLength),pattern:od(U.pattern)}:{},name:L,onChange:F,onBlur:F,ref:de=>{if(de){ye(L,U),z=pe(r,L);const oe=Ht(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Ce=RX(oe),Ue=z._f.refs||[];if(Ce?Ue.find(De=>De===oe):oe===z._f.ref)return;dt(r,L,{_f:{...z._f,...Ce?{refs:[...Ue.filter(zw),oe,...Array.isArray(pe(s,L))?[{}]:[]],ref:{type:oe.type,name:L}}:{ref:oe}}}),P(L,!1,void 0,oe)}else z=pe(r,L,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(O2(a.array,L)&&o.action)&&a.unMount.add(L)}}},Se=()=>e.shouldFocusError&&Ud(r,j,a.mount),xe=L=>{Ur(L)&&(h.state.next({disabled:L}),Ud(r,(U,z)=>{const ue=pe(r,z);ue&&(U.disabled=ue._f.disabled||L,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(de=>{de.disabled=ue._f.disabled||L}))},0,!1))},ge=(L,U)=>async z=>{let ue;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let de=Xn(i);if(a.disabled.size)for(const oe of a.disabled)dt(de,oe,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:Ce}=await S();n.errors=oe,de=Ce}else await I(r);if(Zt(n.errors,"root"),Jn(n.errors)){h.state.next({errors:{}});try{await L(de,z)}catch(oe){ue=oe}}else U&&await U({...n.errors},z),Se(),setTimeout(Se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jn(n.errors)&&!ue,submitCount:n.submitCount+1,errors:n.errors}),ue)throw ue},ne=(L,U={})=>{pe(r,L)&&(Ht(U.defaultValue)?K(L,Xn(pe(s,L))):(K(L,U.defaultValue),dt(s,L,Xn(U.defaultValue))),U.keepTouched||Zt(n.touchedFields,L),U.keepDirty||(Zt(n.dirtyFields,L),n.isDirty=U.defaultValue?k(L,Xn(pe(s,L))):k()),U.keepError||(Zt(n.errors,L),u.isValid&&b()),h.state.next({...n}))},Re=(L,U={})=>{const z=L?Xn(L):s,ue=Xn(z),de=Jn(L),oe=de?s:ue;if(U.keepDefaultValues||(s=z),!U.keepValues){if(U.keepDirtyValues){const Ce=new Set([...a.mount,...Object.keys(id(s,i))]);for(const Ue of Array.from(Ce))pe(n.dirtyFields,Ue)?dt(oe,Ue,pe(i,Ue)):K(Ue,pe(oe,Ue))}else{if(gS&&Ht(L))for(const Ce of a.mount){const Ue=pe(r,Ce);if(Ue&&Ue._f){const De=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(og(De)){const ze=De.closest("form");if(ze){ze.reset();break}}}}r={}}i=e.shouldUnregister?U.keepDefaultValues?Xn(s):{}:Xn(oe),h.array.next({values:{...oe}}),h.values.next({values:{...oe}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:de?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Eo(L,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:de?{}:U.keepDirtyValues?U.keepDefaultValues&&i?id(s,i):n.dirtyFields:U.keepDefaultValues&&L?id(s,L):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Fe=(L,U)=>Re($s(L)?L(i):L,U);return{control:{register:ye,unregister:$,getFieldState:q,handleSubmit:ge,setError:ie,_executeSchema:S,_getWatch:D,_getDirty:k,_updateValid:b,_removeUnmounted:N,_updateFieldArray:v,_updateDisabledField:H,_getFieldArray:G,_reset:Re,_resetDefaultValues:()=>$s(e.defaultValues)&&e.defaultValues().then(L=>{Fe(L,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:xe,_subjects:h,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:Q,register:ye,handleSubmit:ge,watch:Ee,setValue:K,getValues:se,reset:Fe,resetField:ne,clearErrors:J,unregister:$,setError:ie,setFocus:(L,U={})=>{const z=pe(r,L),ue=z&&z._f;if(ue){const de=ue.refs?ue.refs[0]:ue.ref;de.focus&&(de.focus(),U.shouldSelect&&$s(de.select)&&de.select())}},getFieldState:q}}function cg(t={}){const e=X.useRef(void 0),n=X.useRef(void 0),[r,s]=X.useState({isDirty:!1,isValidating:!1,isLoading:$s(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:$s(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...OX(t),formState:r});const i=e.current.control;return i._options=t,yS({subject:i._subjects.state,next:o=>{F2(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),X.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),X.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),X.useEffect(()=>{t.values&&!Eo(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),X.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),X.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),X.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=V2(r,i),e.current}var jX="Label",Q2=y.forwardRef((t,e)=>d.jsx(Me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Q2.displayName=jX;var Y2=Q2;const LX=qE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bS=y.forwardRef(({className:t,...e},n)=>d.jsx(Y2,{ref:n,className:me(LX(),t),...e}));bS.displayName=Y2.displayName;const ug=_X,Z2=y.createContext({}),Cr=({...t})=>d.jsx(Z2.Provider,{value:{name:t.name},children:d.jsx(SX,{...t})}),Yv=()=>{const t=y.useContext(Z2),e=y.useContext(X2),{getFieldState:n,formState:r}=Qv(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},X2=y.createContext({}),rr=y.forwardRef(({className:t,...e},n)=>{const r=y.useId();return d.jsx(X2.Provider,{value:{id:r},children:d.jsx("div",{ref:n,className:me("space-y-2",t),...e})})});rr.displayName="FormItem";const sr=y.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Yv();return d.jsx(bS,{ref:n,className:me(r&&"text-destructive",t),htmlFor:s,...e})});sr.displayName="FormLabel";const ir=y.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Yv();return d.jsx(ti,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});ir.displayName="FormControl";const VX=y.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Yv();return d.jsx("p",{ref:n,id:r,className:me("text-sm text-muted-foreground",t),...e})});VX.displayName="FormDescription";const or=y.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Yv(),o=s?String(s==null?void 0:s.message):e;return o?d.jsx("p",{ref:r,id:i,className:me("text-sm font-medium text-destructive",t),...n,children:o}):null});or.displayName="FormMessage";const lr=y.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));lr.displayName="Input";const ZI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=pe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},J2=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?ZI(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>ZI(s,n,t))}},FX=(t,e)=>{e.shouldUseNativeValidation&&J2(t,e);const n={};for(const r in t){const s=pe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(UX(e.names||Object.keys(t),r)){const o=Object.assign({},pe(n,r));dt(o,"root",i),dt(n,r,o)}else dt(n,r,i)}return n},UX=(t,e)=>t.some(n=>n.match(`^${e}\\.\\d+`));function BX(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=$2(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n}function dg(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&J2({},i),{errors:{},values:n.raw?Object.assign({},r):c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:FX(BX(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}}var it;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(it||(it={}));var XI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(XI||(XI={}));const we=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mo=t=>{switch(typeof t){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(t)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(t)?we.array:t===null?we.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?we.promise:typeof Map<"u"&&t instanceof Map?we.map:typeof Set<"u"&&t instanceof Set?we.set:typeof Date<"u"&&t instanceof Date?we.date:we.object;default:return we.unknown}},le=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof qr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qr.create=t=>new qr(t);const Tf=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===we.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,it.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${it.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${it.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${it.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:it.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,it.assertNever(t)}return{message:n}};let $X=Tf;function Xb(){return $X}const Jb=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function ve(t,e){const n=Xb(),r=Jb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Tf?void 0:Tf].filter(s=>!!s)});t.common.issues.push(r)}class Hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Be;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Hn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),yd=t=>({status:"dirty",value:t}),yr=t=>({status:"valid",value:t}),JI=t=>t.status==="aborted",ek=t=>t.status==="dirty",hu=t=>t.status==="valid",fg=t=>typeof Promise<"u"&&t instanceof Promise;function hg(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function eL(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Te||(Te={}));var wd,_d;class ai{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tk=(t,e)=>{if(hu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qr(t.common.issues);return this._error=n,this._error}}};function qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Qe{get description(){return this._def.description}_getType(e){return mo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hn,ctx:{common:e.parent.common,data:e.data,parsedType:mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mo(e)},i=this._parseSync({data:e,path:s.path,parent:s});return tk(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return hu(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>hu(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(fg(s)?s:Promise.resolve(s));return tk(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:le.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Wi({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Di.create(this,this._def)}nullable(){return yl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Js.create(this)}promise(){return Af.create(this,this._def)}or(e){return vg.create([this,e],this._def)}and(e){return yg.create(this,e,this._def)}transform(e){return new Wi({...qe(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new xg({...qe(this._def),innerType:this,defaultValue:n,typeName:Ve.ZodDefault})}brand(){return new sL({typeName:Ve.ZodBranded,type:this,...qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sg({...qe(this._def),innerType:this,catchValue:n,typeName:Ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Zv.create(this,e)}readonly(){return Cg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zX=/^c[^\s-]{8,}$/i,HX=/^[0-9a-z]+$/,WX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,GX=/^[a-z0-9_-]{21}$/i,KX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,YX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ZX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ww;const XX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rJ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sJ=new RegExp(`^${tL}$`);function nL(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function iJ(t){return new RegExp(`^${nL(t)}$`)}function oJ(t){let e=`${tL}T${nL(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function aJ(t,e){return!!((e==="v4"||!e)&&XX.test(t)||(e==="v6"||!e)&&eJ.test(t))}function lJ(t,e){if(!KX.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function cJ(t,e){return!!((e==="v4"||!e)&&JX.test(t)||(e==="v6"||!e)&&tJ.test(t))}class Ws extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==we.string){const i=this._getOrReturnCtx(e);return ve(i,{code:le.invalid_type,expected:we.string,received:i.parsedType}),Be}const r=new Hn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ve(s,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ve(s,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")YX.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"email",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ww||(Ww=new RegExp(ZX,"u")),Ww.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"emoji",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")qX.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"uuid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")GX.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"nanoid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")zX.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")HX.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid2",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")WX.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ulid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ve(s,{validation:"url",code:le.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"regex",code:le.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ve(s,{code:le.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:le.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:le.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?oJ(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:le.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?sJ.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:le.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?iJ(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:le.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?QX.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"duration",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?aJ(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ip",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?lJ(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"jwt",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?cJ(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cidr",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?nJ.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"base64",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?rJ.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"base64url",code:le.invalid_string,message:i.message}),r.dirty()):it.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:le.invalid_string,...Te.errToObj(r)})}_addCheck(e){return new Ws({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Te.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Te.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Te.errToObj(n)})}nonempty(e){return this.min(1,Te.errToObj(e))}trim(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ws.create=t=>{var e;return new Ws({checks:[],typeName:Ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...qe(t)})};function uJ(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class ml extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==we.number){const i=this._getOrReturnCtx(e);return ve(i,{code:le.invalid_type,expected:we.number,received:i.parsedType}),Be}let r;const s=new Hn;for(const i of this._def.checks)i.kind==="int"?it.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:le.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:le.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:le.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?uJ(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ve(r,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:le.not_finite,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,r,s){return new ml({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new ml({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&it.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ml.create=t=>new ml({checks:[],typeName:Ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class gl extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==we.bigint)return this._getInvalidInput(e);let r;const s=new Hn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:le.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:le.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ve(n,{code:le.invalid_type,expected:we.bigint,received:n.parsedType}),Be}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,r,s){return new gl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new gl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gl.create=t=>{var e;return new gl({checks:[],typeName:Ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...qe(t)})};class pg extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==we.boolean){const r=this._getOrReturnCtx(e);return ve(r,{code:le.invalid_type,expected:we.boolean,received:r.parsedType}),Be}return yr(e.data)}}pg.create=t=>new pg({typeName:Ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class pu extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==we.date){const i=this._getOrReturnCtx(e);return ve(i,{code:le.invalid_type,expected:we.date,received:i.parsedType}),Be}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ve(i,{code:le.invalid_date}),Be}const r=new Hn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:le.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:le.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):it.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new pu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}pu.create=t=>new pu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ve.ZodDate,...qe(t)});class e0 extends Qe{_parse(e){if(this._getType(e)!==we.symbol){const r=this._getOrReturnCtx(e);return ve(r,{code:le.invalid_type,expected:we.symbol,received:r.parsedType}),Be}return yr(e.data)}}e0.create=t=>new e0({typeName:Ve.ZodSymbol,...qe(t)});class mg extends Qe{_parse(e){if(this._getType(e)!==we.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:le.invalid_type,expected:we.undefined,received:r.parsedType}),Be}return yr(e.data)}}mg.create=t=>new mg({typeName:Ve.ZodUndefined,...qe(t)});class gg extends Qe{_parse(e){if(this._getType(e)!==we.null){const r=this._getOrReturnCtx(e);return ve(r,{code:le.invalid_type,expected:we.null,received:r.parsedType}),Be}return yr(e.data)}}gg.create=t=>new gg({typeName:Ve.ZodNull,...qe(t)});class t0 extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return yr(e.data)}}t0.create=t=>new t0({typeName:Ve.ZodAny,...qe(t)});class Rc extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yr(e.data)}}Rc.create=t=>new Rc({typeName:Ve.ZodUnknown,...qe(t)});class da extends Qe{_parse(e){const n=this._getOrReturnCtx(e);return ve(n,{code:le.invalid_type,expected:we.never,received:n.parsedType}),Be}}da.create=t=>new da({typeName:Ve.ZodNever,...qe(t)});class n0 extends Qe{_parse(e){if(this._getType(e)!==we.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:le.invalid_type,expected:we.void,received:r.parsedType}),Be}return yr(e.data)}}n0.create=t=>new n0({typeName:Ve.ZodVoid,...qe(t)});class Js extends Qe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==we.array)return ve(n,{code:le.invalid_type,expected:we.array,received:n.parsedType}),Be;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ve(n,{code:o?le.too_big:le.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ve(n,{code:le.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ve(n,{code:le.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ai(n,o,n.path,a)))).then(o=>Hn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ai(n,o,n.path,a)));return Hn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Js({...this._def,minLength:{value:e,message:Te.toString(n)}})}max(e,n){return new Js({...this._def,maxLength:{value:e,message:Te.toString(n)}})}length(e,n){return new Js({...this._def,exactLength:{value:e,message:Te.toString(n)}})}nonempty(e){return this.min(1,e)}}Js.create=(t,e)=>new Js({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...qe(e)});function Zl(t){if(t instanceof Bt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Di.create(Zl(r))}return new Bt({...t._def,shape:()=>e})}else return t instanceof Js?new Js({...t._def,type:Zl(t.element)}):t instanceof Di?Di.create(Zl(t.unwrap())):t instanceof yl?yl.create(Zl(t.unwrap())):t instanceof Hi?Hi.create(t.items.map(e=>Zl(e))):t}class Bt extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=it.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==we.object){const c=this._getOrReturnCtx(e);return ve(c,{code:le.invalid_type,expected:we.object,received:c.parsedType}),Be}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof da&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ai(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof da){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(ve(s,{code:le.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ai(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,p=await u.value;c.push({key:h,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>Hn.mergeObjectSync(r,c)):Hn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Te.errToObj,new Bt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Te.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Bt({...this._def,unknownKeys:"strip"})}passthrough(){return new Bt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Bt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Bt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Bt({...this._def,catchall:e})}pick(e){const n={};return it.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Bt({...this._def,shape:()=>n})}omit(e){const n={};return it.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Bt({...this._def,shape:()=>n})}deepPartial(){return Zl(this)}partial(e){const n={};return it.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Bt({...this._def,shape:()=>n})}required(e){const n={};return it.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Di;)i=i._def.innerType;n[r]=i}}),new Bt({...this._def,shape:()=>n})}keyof(){return rL(it.objectKeys(this.shape))}}Bt.create=(t,e)=>new Bt({shape:()=>t,unknownKeys:"strip",catchall:da.create(),typeName:Ve.ZodObject,...qe(e)});Bt.strictCreate=(t,e)=>new Bt({shape:()=>t,unknownKeys:"strict",catchall:da.create(),typeName:Ve.ZodObject,...qe(e)});Bt.lazycreate=(t,e)=>new Bt({shape:t,unknownKeys:"strip",catchall:da.create(),typeName:Ve.ZodObject,...qe(e)});class vg extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new qr(a.ctx.common.issues));return ve(n,{code:le.invalid_union,unionErrors:o}),Be}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new qr(l));return ve(n,{code:le.invalid_union,unionErrors:a}),Be}}get options(){return this._def.options}}vg.create=(t,e)=>new vg({options:t,typeName:Ve.ZodUnion,...qe(e)});const gi=t=>t instanceof _g?gi(t.schema):t instanceof Wi?gi(t.innerType()):t instanceof bg?[t.value]:t instanceof vl?t.options:t instanceof Eg?it.objectValues(t.enum):t instanceof xg?gi(t._def.innerType):t instanceof mg?[void 0]:t instanceof gg?[null]:t instanceof Di?[void 0,...gi(t.unwrap())]:t instanceof yl?[null,...gi(t.unwrap())]:t instanceof sL||t instanceof Cg?gi(t.unwrap()):t instanceof Sg?gi(t._def.innerType):[];class ES extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==we.object)return ve(n,{code:le.invalid_type,expected:we.object,received:n.parsedType}),Be;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ve(n,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=gi(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new ES({typeName:Ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...qe(r)})}}function r0(t,e){const n=mo(t),r=mo(e);if(t===e)return{valid:!0,data:t};if(n===we.object&&r===we.object){const s=it.objectKeys(e),i=it.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=r0(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===we.array&&r===we.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=r0(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===we.date&&r===we.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yg extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(JI(i)||JI(o))return Be;const a=r0(i.value,o.value);return a.valid?((ek(i)||ek(o))&&n.dirty(),{status:n.value,value:a.data}):(ve(r,{code:le.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yg.create=(t,e,n)=>new yg({left:t,right:e,typeName:Ve.ZodIntersection,...qe(n)});class Hi extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.array)return ve(r,{code:le.invalid_type,expected:we.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return ve(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(ve(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ai(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Hn.mergeArray(n,o)):Hn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Hi({...this._def,rest:e})}}Hi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hi({items:t,typeName:Ve.ZodTuple,rest:null,...qe(e)})};class wg extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.object)return ve(r,{code:le.invalid_type,expected:we.object,received:r.parsedType}),Be;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ai(r,a,r.path,a)),value:o._parse(new ai(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Hn.mergeObjectAsync(n,s):Hn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Qe?new wg({keyType:e,valueType:n,typeName:Ve.ZodRecord,...qe(r)}):new wg({keyType:Ws.create(),valueType:e,typeName:Ve.ZodRecord,...qe(n)})}}class s0 extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.map)return ve(r,{code:le.invalid_type,expected:we.map,received:r.parsedType}),Be;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ai(r,a,r.path,[c,"key"])),value:i._parse(new ai(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}s0.create=(t,e,n)=>new s0({valueType:e,keyType:t,typeName:Ve.ZodMap,...qe(n)});class mu extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.set)return ve(r,{code:le.invalid_type,expected:we.set,received:r.parsedType}),Be;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ve(r,{code:le.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ve(r,{code:le.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Be;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ai(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new mu({...this._def,minSize:{value:e,message:Te.toString(n)}})}max(e,n){return new mu({...this._def,maxSize:{value:e,message:Te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}mu.create=(t,e)=>new mu({valueType:t,minSize:null,maxSize:null,typeName:Ve.ZodSet,...qe(e)});class Bd extends Qe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==we.function)return ve(n,{code:le.invalid_type,expected:we.function,received:n.parsedType}),Be;function r(a,l){return Jb({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xb(),Tf].filter(c=>!!c),issueData:{code:le.invalid_arguments,argumentsError:l}})}function s(a,l){return Jb({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xb(),Tf].filter(c=>!!c),issueData:{code:le.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Af){const a=this;return yr(async function(...l){const c=new qr([]),u=await a._def.args.parseAsync(l,i).catch(m=>{throw c.addIssue(r(l,m)),c}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(m=>{throw c.addIssue(s(h,m)),c})})}else{const a=this;return yr(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new qr([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new qr([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Bd({...this._def,args:Hi.create(e).rest(Rc.create())})}returns(e){return new Bd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Bd({args:e||Hi.create([]).rest(Rc.create()),returns:n||Rc.create(),typeName:Ve.ZodFunction,...qe(r)})}}class _g extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_g.create=(t,e)=>new _g({getter:t,typeName:Ve.ZodLazy,...qe(e)});class bg extends Qe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ve(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}bg.create=(t,e)=>new bg({value:t,typeName:Ve.ZodLiteral,...qe(e)});function rL(t,e){return new vl({values:t,typeName:Ve.ZodEnum,...qe(e)})}class vl extends Qe{constructor(){super(...arguments),wd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{expected:it.joinValues(r),received:n.parsedType,code:le.invalid_type}),Be}if(hg(this,wd)||eL(this,wd,new Set(this._def.values)),!hg(this,wd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{received:n.data,code:le.invalid_enum_value,options:r}),Be}return yr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return vl.create(e,{...this._def,...n})}exclude(e,n=this._def){return vl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}wd=new WeakMap;vl.create=rL;class Eg extends Qe{constructor(){super(...arguments),_d.set(this,void 0)}_parse(e){const n=it.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==we.string&&r.parsedType!==we.number){const s=it.objectValues(n);return ve(r,{expected:it.joinValues(s),received:r.parsedType,code:le.invalid_type}),Be}if(hg(this,_d)||eL(this,_d,new Set(it.getValidEnumValues(this._def.values))),!hg(this,_d).has(e.data)){const s=it.objectValues(n);return ve(r,{received:r.data,code:le.invalid_enum_value,options:s}),Be}return yr(e.data)}get enum(){return this._def.values}}_d=new WeakMap;Eg.create=(t,e)=>new Eg({values:t,typeName:Ve.ZodNativeEnum,...qe(e)});class Af extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==we.promise&&n.common.async===!1)return ve(n,{code:le.invalid_type,expected:we.promise,received:n.parsedType}),Be;const r=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return yr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Af.create=(t,e)=>new Af({type:t,typeName:Ve.ZodPromise,...qe(e)});class Wi extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ve(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Be;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||n.value==="dirty"?yd(l.value):l});{if(n.value==="aborted")return Be;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"||n.value==="dirty"?yd(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Be:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);it.assertNever(s)}}Wi.create=(t,e,n)=>new Wi({schema:t,typeName:Ve.ZodEffects,effect:e,...qe(n)});Wi.createWithPreprocess=(t,e,n)=>new Wi({schema:e,effect:{type:"preprocess",transform:t},typeName:Ve.ZodEffects,...qe(n)});class Di extends Qe{_parse(e){return this._getType(e)===we.undefined?yr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Di.create=(t,e)=>new Di({innerType:t,typeName:Ve.ZodOptional,...qe(e)});class yl extends Qe{_parse(e){return this._getType(e)===we.null?yr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yl.create=(t,e)=>new yl({innerType:t,typeName:Ve.ZodNullable,...qe(e)});class xg extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}xg.create=(t,e)=>new xg({innerType:t,typeName:Ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class Sg extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Sg.create=(t,e)=>new Sg({innerType:t,typeName:Ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class i0 extends Qe{_parse(e){if(this._getType(e)!==we.nan){const r=this._getOrReturnCtx(e);return ve(r,{code:le.invalid_type,expected:we.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}i0.create=t=>new i0({typeName:Ve.ZodNaN,...qe(t)});class sL extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zv extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),yd(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Be:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Zv({in:e,out:n,typeName:Ve.ZodPipeline})}}class Cg extends Qe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(hu(s)&&(s.value=Object.freeze(s.value)),s);return fg(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Cg.create=(t,e)=>new Cg({innerType:t,typeName:Ve.ZodReadonly,...qe(e)});Bt.lazycreate;var Ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const us=Ws.create;ml.create;i0.create;gl.create;pg.create;pu.create;e0.create;mg.create;gg.create;t0.create;Rc.create;da.create;n0.create;const dJ=Js.create,Xv=Bt.create;Bt.strictCreate;vg.create;ES.create;yg.create;Hi.create;wg.create;s0.create;mu.create;Bd.create;_g.create;bg.create;vl.create;Eg.create;Af.create;Wi.create;Di.create;yl.create;Wi.createWithPreprocess;Zv.create;const nk={string:t=>Ws.create({...t,coerce:!0}),number:t=>ml.create({...t,coerce:!0}),boolean:t=>pg.create({...t,coerce:!0}),bigint:t=>gl.create({...t,coerce:!0}),date:t=>pu.create({...t,coerce:!0})},fJ=Xv({email:us().email("Email invlido"),password:us().min(1,"A senha  obrigatria")});function iL({onSuccess:t}){const e=cg({resolver:dg(fJ),defaultValues:{email:"",password:""}});async function n(r){try{const s=await pQ(du,r.email,r.password);console.log("Usurio logado:",{uid:s.user.uid,email:s.user.email,name:s.user.displayName,emailVerified:s.user.emailVerified}),t==null||t()}catch(s){switch(s.code){case"auth/invalid-email":e.setError("email",{message:"O formato do email  invlido."});break;case"auth/user-disabled":e.setError("email",{message:"Esta conta foi desativada."});break;case"auth/user-not-found":e.setError("email",{message:"Email no encontrado. Por favor, verifique suas credenciais."});break;case"auth/wrong-password":e.setError("password",{message:"Senha incorreta. Por favor, tente novamente."});break;case"auth/too-many-requests":e.setError("root",{message:"Muitas tentativas de login. Por favor, tente novamente mais tarde."});break;case"auth/network-request-failed":e.setError("root",{message:"Erro de conexo. Verifique sua internet."});break;default:console.error("Erro ao fazer login:",s),e.setError("root",{message:"Ocorreu um erro ao fazer login. Tente novamente."})}}}return d.jsx(ug,{...e,children:d.jsxs("form",{onSubmit:e.handleSubmit(n),className:"space-y-4",children:[d.jsx(Cr,{control:e.control,name:"email",render:({field:r})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Email"}),d.jsx(ir,{children:d.jsx(lr,{placeholder:"email@example.com",...r,type:"email"})}),d.jsx(or,{})]})}),d.jsx(Cr,{control:e.control,name:"password",render:({field:r})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Senha"}),d.jsx(ir,{children:d.jsx(lr,{...r,type:"password"})}),d.jsx(or,{})]})}),e.formState.errors.root&&d.jsx("div",{className:"text-sm font-medium text-destructive",children:e.formState.errors.root.message}),d.jsx(Dt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:"Entrar"})]})})}function rk(t,[e,n]){return Math.min(n,Math.max(e,t))}var hJ=y.createContext(void 0);function Jv(t){const e=y.useContext(hJ);return t||e||"ltr"}function oL(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pJ=[" ","Enter","ArrowUp","ArrowDown"],mJ=[" ","Enter"],fh="Select",[ey,ty,gJ]=hv(fh),[Ou,Wfe]=jr(fh,[gJ,va]),ny=va(),[vJ,ba]=Ou(fh),[yJ,wJ]=Ou(fh),aL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:m,form:w}=t,g=ny(e),[b,_]=y.useState(null),[v,x]=y.useState(null),[A,P]=y.useState(!1),O=Jv(c),[T=!1,S]=Li({prop:r,defaultProp:s,onChange:i}),[R,I]=Li({prop:o,defaultProp:a,onChange:l}),N=y.useRef(null),k=b?w||!!b.closest("form"):!0,[D,G]=y.useState(new Set),ae=Array.from(D).map(te=>te.props.value).join(";");return d.jsx(ix,{...g,children:d.jsxs(vJ,{required:m,scope:e,trigger:b,onTriggerChange:_,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:ps(),value:R,onValueChange:I,open:T,onOpenChange:S,dir:O,triggerPointerDownPosRef:N,disabled:p,children:[d.jsx(ey.Provider,{scope:e,children:d.jsx(yJ,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(te=>{G(K=>new Set(K).add(te))},[]),onNativeOptionRemove:y.useCallback(te=>{G(K=>{const F=new Set(K);return F.delete(te),F})},[]),children:n})}),k?d.jsxs(PL,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:R,onChange:te=>I(te.target.value),disabled:p,form:w,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(D)]},ae):null]})})};aL.displayName=fh;var lL="SelectTrigger",cL=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ny(n),o=ba(lL,n),a=o.disabled||r,l=et(e,o.onTriggerChange),c=ty(n),u=y.useRef("touch"),[h,p,m]=NL(g=>{const b=c().filter(x=>!x.disabled),_=b.find(x=>x.value===o.value),v=ML(b,g,_);v!==void 0&&o.onValueChange(v.value)}),w=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(Qf,{asChild:!0,...i,children:d.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":DL(o.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&w(g)}),onPointerDown:fe(s.onPointerDown,g=>{u.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:fe(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(b&&g.key===" ")&&pJ.includes(g.key)&&(w(),g.preventDefault())})})})});cL.displayName=lL;var uL="SelectValue",dL=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ba(uL,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,h=et(e,l.onValueNodeChange);return Mn(()=>{c(u)},[c,u]),d.jsx(Me.span,{...a,ref:h,style:{pointerEvents:"none"},children:DL(l.value)?d.jsx(d.Fragment,{children:o}):i})});dL.displayName=uL;var _J="SelectIcon",fL=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Me.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});fL.displayName=_J;var bJ="SelectPortal",hL=t=>d.jsx(Cu,{asChild:!0,...t});hL.displayName=bJ;var wl="SelectContent",pL=y.forwardRef((t,e)=>{const n=ba(wl,t.__scopeSelect),[r,s]=y.useState();if(Mn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ei.createPortal(d.jsx(mL,{scope:t.__scopeSelect,children:d.jsx(ey.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(gL,{...t,ref:e})});pL.displayName=wl;var ns=10,[mL,Ea]=Ou(wl),EJ="SelectContentImpl",gL=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b,..._}=t,v=ba(wl,n),[x,A]=y.useState(null),[P,O]=y.useState(null),T=et(e,H=>A(H)),[S,R]=y.useState(null),[I,N]=y.useState(null),k=ty(n),[D,G]=y.useState(!1),ae=y.useRef(!1);y.useEffect(()=>{if(x)return Cv(x)},[x]),xv();const te=y.useCallback(H=>{const[ye,...Se]=k().map(ne=>ne.ref.current),[xe]=Se.slice(-1),ge=document.activeElement;for(const ne of H)if(ne===ge||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===ye&&P&&(P.scrollTop=0),ne===xe&&P&&(P.scrollTop=P.scrollHeight),ne==null||ne.focus(),document.activeElement!==ge))return},[k,P]),K=y.useCallback(()=>te([S,x]),[te,S,x]);y.useEffect(()=>{D&&K()},[D,K]);const{onOpenChange:F,triggerPointerDownPosRef:j}=v;y.useEffect(()=>{if(x){let H={x:0,y:0};const ye=xe=>{var ge,ne;H={x:Math.abs(Math.round(xe.pageX)-(((ge=j.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((ne=j.current)==null?void 0:ne.y)??0))}},Se=xe=>{H.x<=10&&H.y<=10?xe.preventDefault():x.contains(xe.target)||F(!1),document.removeEventListener("pointermove",ye),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Se,{capture:!0})}}},[x,F,j]),y.useEffect(()=>{const H=()=>F(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[F]);const[Q,se]=NL(H=>{const ye=k().filter(ge=>!ge.disabled),Se=ye.find(ge=>ge.ref.current===document.activeElement),xe=ML(ye,H,Se);xe&&setTimeout(()=>xe.ref.current.focus())}),q=y.useCallback((H,ye,Se)=>{const xe=!ae.current&&!Se;(v.value!==void 0&&v.value===ye||xe)&&(R(H),xe&&(ae.current=!0))},[v.value]),J=y.useCallback(()=>x==null?void 0:x.focus(),[x]),ie=y.useCallback((H,ye,Se)=>{const xe=!ae.current&&!Se;(v.value!==void 0&&v.value===ye||xe)&&N(H)},[v.value]),Ee=r==="popper"?o0:vL,$=Ee===o0?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b}:{};return d.jsx(mL,{scope:n,content:x,viewport:P,onViewportChange:O,itemRefCallback:q,selectedItem:S,onItemLeave:J,itemTextRefCallback:ie,focusSelectedItem:K,selectedItemText:I,position:r,isPositioned:D,searchRef:Q,children:d.jsx(Xf,{as:ti,allowPinchZoom:!0,children:d.jsx(Yf,{asChild:!0,trapped:v.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:fe(s,H=>{var ye;(ye=v.trigger)==null||ye.focus({preventScroll:!0}),H.preventDefault()}),children:d.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:d.jsx(Ee,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:H=>H.preventDefault(),..._,...$,onPlaced:()=>G(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:fe(_.onKeyDown,H=>{const ye=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ye&&H.key.length===1&&se(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let xe=k().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(H.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ge=H.target,ne=xe.indexOf(ge);xe=xe.slice(ne+1)}setTimeout(()=>te(xe)),H.preventDefault()}})})})})})})});gL.displayName=EJ;var xJ="SelectItemAlignedPosition",vL=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ba(wl,n),o=Ea(wl,n),[a,l]=y.useState(null),[c,u]=y.useState(null),h=et(e,T=>u(T)),p=ty(n),m=y.useRef(!1),w=y.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:_,focusSelectedItem:v}=o,x=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&b&&_){const T=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(i.dir!=="rtl"){const ge=I.left-S.left,ne=R.left-ge,Re=T.left-ne,Fe=T.width+Re,Ze=Math.max(Fe,S.width),Ke=window.innerWidth-ns,bt=rk(ne,[ns,Math.max(ns,Ke-Ze)]);a.style.minWidth=Fe+"px",a.style.left=bt+"px"}else{const ge=S.right-I.right,ne=window.innerWidth-R.right-ge,Re=window.innerWidth-T.right-ne,Fe=T.width+Re,Ze=Math.max(Fe,S.width),Ke=window.innerWidth-ns,bt=rk(ne,[ns,Math.max(ns,Ke-Ze)]);a.style.minWidth=Fe+"px",a.style.right=bt+"px"}const N=p(),k=window.innerHeight-ns*2,D=g.scrollHeight,G=window.getComputedStyle(c),ae=parseInt(G.borderTopWidth,10),te=parseInt(G.paddingTop,10),K=parseInt(G.borderBottomWidth,10),F=parseInt(G.paddingBottom,10),j=ae+te+D+F+K,Q=Math.min(b.offsetHeight*5,j),se=window.getComputedStyle(g),q=parseInt(se.paddingTop,10),J=parseInt(se.paddingBottom,10),ie=T.top+T.height/2-ns,Ee=k-ie,$=b.offsetHeight/2,H=b.offsetTop+$,ye=ae+te+H,Se=j-ye;if(ye<=ie){const ge=N.length>0&&b===N[N.length-1].ref.current;a.style.bottom="0px";const ne=c.clientHeight-g.offsetTop-g.offsetHeight,Re=Math.max(Ee,$+(ge?J:0)+ne+K),Fe=ye+Re;a.style.height=Fe+"px"}else{const ge=N.length>0&&b===N[0].ref.current;a.style.top="0px";const Re=Math.max(ie,ae+g.offsetTop+(ge?q:0)+$)+Se;a.style.height=Re+"px",g.scrollTop=ye-ie+g.offsetTop}a.style.margin=`${ns}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,b,_,i.dir,r]);Mn(()=>x(),[x]);const[A,P]=y.useState();Mn(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const O=y.useCallback(T=>{T&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return d.jsx(CJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(Me.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vL.displayName=xJ;var SJ="SelectPopperPosition",o0=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ns,...i}=t,o=ny(n);return d.jsx(wv,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o0.displayName=SJ;var[CJ,xS]=Ou(wl,{}),a0="SelectViewport",yL=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ea(a0,n),o=xS(a0,n),a=et(e,i.onViewportChange),l=y.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(ey.Slot,{scope:n,children:d.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const w=window.innerHeight-ns*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),_=Math.max(g,b);if(_<w){const v=_+m,x=Math.min(w,v),A=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});yL.displayName=a0;var wL="SelectGroup",[TJ,AJ]=Ou(wL),RJ=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ps();return d.jsx(TJ,{scope:n,id:s,children:d.jsx(Me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});RJ.displayName=wL;var _L="SelectLabel",bL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=AJ(_L,n);return d.jsx(Me.div,{id:s.id,...r,ref:e})});bL.displayName=_L;var Tg="SelectItem",[IJ,EL]=Ou(Tg),xL=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ba(Tg,n),l=Ea(Tg,n),c=a.value===r,[u,h]=y.useState(i??""),[p,m]=y.useState(!1),w=et(e,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),g=ps(),b=y.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(IJ,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:y.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:d.jsx(ey.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(Me.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:fe(o.onFocus,()=>m(!0)),onBlur:fe(o.onBlur,()=>m(!1)),onClick:fe(o.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:fe(o.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:fe(o.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:fe(o.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:fe(o.onKeyDown,v=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&v.key===" "||(mJ.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});xL.displayName=Tg;var bd="SelectItemText",SL=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ba(bd,n),a=Ea(bd,n),l=EL(bd,n),c=wJ(bd,n),[u,h]=y.useState(null),p=et(e,_=>h(_),l.onItemTextChange,_=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,_,l.value,l.disabled)}),m=u==null?void 0:u.textContent,w=y.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=c;return Mn(()=>(g(w),()=>b(w)),[g,b,w]),d.jsxs(d.Fragment,{children:[d.jsx(Me.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ei.createPortal(i.children,o.valueNode):null]})});SL.displayName=bd;var CL="SelectItemIndicator",TL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EL(CL,n).isSelected?d.jsx(Me.span,{"aria-hidden":!0,...r,ref:e}):null});TL.displayName=CL;var l0="SelectScrollUpButton",AL=y.forwardRef((t,e)=>{const n=Ea(l0,t.__scopeSelect),r=xS(l0,t.__scopeSelect),[s,i]=y.useState(!1),o=et(e,r.onScrollButtonChange);return Mn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(IL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});AL.displayName=l0;var c0="SelectScrollDownButton",RL=y.forwardRef((t,e)=>{const n=Ea(c0,t.__scopeSelect),r=xS(c0,t.__scopeSelect),[s,i]=y.useState(!1),o=et(e,r.onScrollButtonChange);return Mn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(IL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});RL.displayName=c0;var IL=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ea("SelectScrollButton",n),o=y.useRef(null),a=ty(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Mn(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(Me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),kJ="SelectSeparator",kL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Me.div,{"aria-hidden":!0,...r,ref:e})});kL.displayName=kJ;var u0="SelectArrow",DJ=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ny(n),i=ba(u0,n),o=Ea(u0,n);return i.open&&o.position==="popper"?d.jsx(_v,{...s,...r,ref:e}):null});DJ.displayName=u0;function DL(t){return t===""||t===void 0}var PL=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=y.useRef(null),i=et(e,s),o=oL(n);return y.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),d.jsx(Gf,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});PL.displayName="BubbleSelect";function NL(t){const e=Nn(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ML(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=PJ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function PJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NJ=aL,OL=cL,MJ=dL,OJ=fL,jJ=hL,jL=pL,LJ=yL,LL=bL,VL=xL,VJ=SL,FJ=TL,FL=AL,UL=RL,BL=kL;const $d=NJ,zd=MJ,Ic=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(OL,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(OJ,{asChild:!0,children:d.jsx(AN,{className:"h-4 w-4 opacity-50"})})]}));Ic.displayName=OL.displayName;const $L=y.forwardRef(({className:t,...e},n)=>d.jsx(FL,{ref:n,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(s3,{className:"h-4 w-4"})}));$L.displayName=FL.displayName;const zL=y.forwardRef(({className:t,...e},n)=>d.jsx(UL,{ref:n,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(AN,{className:"h-4 w-4"})}));zL.displayName=UL.displayName;const kc=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(jJ,{children:d.jsxs(jL,{ref:s,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx($L,{}),d.jsx(LJ,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(zL,{})]})}));kc.displayName=jL.displayName;const UJ=y.forwardRef(({className:t,...e},n)=>d.jsx(LL,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));UJ.displayName=LL.displayName;const Do=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(VL,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(FJ,{children:d.jsx(Ba,{className:"h-4 w-4"})})}),d.jsx(VJ,{children:e})]}));Do.displayName=VL.displayName;const BJ=y.forwardRef(({className:t,...e},n)=>d.jsx(BL,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));BJ.displayName=BL.displayName;const $J=Xv({name:us().min(2,"Nome deve ter pelo menos 2 caracteres"),email:us().email("Endereo de email invlido"),phone:us().min(10,"Telefone deve ter pelo menos 10 caracteres"),password:us().min(8,"Senha deve ter pelo menos 8 caracteres").regex(/^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/,"Senha deve conter pelo menos 1 letra maiscula, 1 nmero e 1 caractere especial"),confirmPassword:us()}).refine(t=>t.password===t.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]});function HL({onSuccess:t}){const e=cg({resolver:dg($J),defaultValues:{name:"",email:"",phone:"",password:"",confirmPassword:""}}),[n,r]=y.useState("+55"),[s,i]=y.useState(""),[o,a]=y.useState(!1),[l,c]=y.useState({minLength:!1,hasUpperCase:!1,hasNumber:!1,hasSpecial:!1}),{toast:u}=UE(),h=b=>{c({minLength:b.length>=8,hasUpperCase:/[A-Z]/.test(b),hasNumber:/[0-9]/.test(b),hasSpecial:/[!@#$%^&*]/.test(b)})},p=b=>{const _=b.replace(/\D/g,""),v=_.length>=10&&_.length<=11;return a(v),v},m=(b,_)=>{let v=b.target.value.replace(/\D/g,"");v.length<=11&&(v.length>2&&(v=v.replace(/^(\d{2})(\d)/g,"($1) $2")),v.length>7&&(v=v.replace(/(\d)(\d{4})$/,"$1-$2")),b.target.value=v,i(v),p(v),_.onChange(v))},w=(b,_)=>`${_.replace("+","")+b.replace(/\D/g,"")}@s.whatsapp.net`,g=async b=>{b.preventDefault();const _=new FormData(b.currentTarget);try{const v=await hQ(du,_.get("email"),_.get("password")),x=w(_.get("phone"),n),A={user_id:v.user.uid,name:_.get("name"),email:_.get("email"),phone:x,isAdmin:!1};await PY(A),await gQ(v.user,{displayName:_.get("name")}),await v.user.getIdToken(!0),t==null||t()}catch(v){console.error("Error creating user:",v),u({variant:"destructive",title:"Erro",description:v instanceof Error?v.message:"Erro ao criar conta"})}};return d.jsx(ug,{...e,children:d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Cr,{control:e.control,name:"name",render:({field:b})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Name"}),d.jsx(ir,{children:d.jsx(lr,{placeholder:"John Doe",...b})}),d.jsx(or,{})]})}),d.jsx(Cr,{control:e.control,name:"email",render:({field:b})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Email"}),d.jsx(ir,{children:d.jsx(lr,{placeholder:"email@example.com",...b,type:"email"})}),d.jsx(or,{})]})}),d.jsx("div",{className:"col-span-2",children:d.jsx(Cr,{control:e.control,name:"phone",render:({field:b})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Phone"}),d.jsx(ir,{children:d.jsxs("div",{className:"flex",children:[d.jsxs($d,{value:n,onValueChange:r,children:[d.jsx(Ic,{className:"w-[100px] rounded-r-none",children:d.jsx(zd,{placeholder:"Pas"})}),d.jsxs(kc,{children:[d.jsx(Do,{value:"+55",children:" +55"}),d.jsx(Do,{value:"+1",children:" +1"})]})]}),d.jsx(lr,{placeholder:"(00) 00000-0000",value:s,onChangeCapture:_=>m(_,b),maxLength:15,className:me("flex-1 rounded-l-none border-l-0",s&&!o&&"border-red-500 focus-visible:ring-red-500"),...b})]})}),d.jsx(or,{})]})})}),d.jsx(Cr,{control:e.control,name:"password",render:({field:b})=>d.jsxs(rr,{children:[d.jsx("div",{className:"flex gap-2",children:d.jsx(sr,{children:"Senha"})}),d.jsx(ir,{children:d.jsx(lr,{...b,type:"password",onChange:_=>{b.onChange(_),h(_.target.value)}})}),d.jsx(or,{}),d.jsxs("div",{className:"space-y-2 text-sm mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[l.minLength?d.jsx(Ba,{className:"h-4 w-4 text-green-500"}):d.jsx(dc,{className:"h-4 w-4 text-red-500"}),d.jsx("span",{className:l.minLength?"text-green-500":"text-red-500",children:"Pelo menos 8 caracteres"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[l.hasUpperCase?d.jsx(Ba,{className:"h-4 w-4 text-green-500"}):d.jsx(dc,{className:"h-4 w-4 text-red-500"}),d.jsx("span",{className:l.hasUpperCase?"text-green-500":"text-red-500",children:"1 letra maiscula"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[l.hasNumber?d.jsx(Ba,{className:"h-4 w-4 text-green-500"}):d.jsx(dc,{className:"h-4 w-4 text-red-500"}),d.jsx("span",{className:l.hasNumber?"text-green-500":"text-red-500",children:"1 nmero"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[l.hasSpecial?d.jsx(Ba,{className:"h-4 w-4 text-green-500"}):d.jsx(dc,{className:"h-4 w-4 text-red-500"}),d.jsx("span",{className:l.hasSpecial?"text-green-500":"text-red-500",children:"1 caractere especial"})]})]})]})}),d.jsx(Cr,{control:e.control,name:"confirmPassword",render:({field:b})=>d.jsxs(rr,{children:[d.jsx("div",{className:"flex gap-2",children:d.jsx(sr,{children:"Confirmar Senha"})}),d.jsx(ir,{children:d.jsx(lr,{...b,type:"password"})}),d.jsx(or,{})]})})]}),d.jsx(Dt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:"Sign Up"})]})})}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}var Po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Po||(Po={}));const sk="popstate";function zJ(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return d0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ag(s)}return WJ(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HJ(){return Math.random().toString(36).substr(2,8)}function ik(t,e){return{usr:t.state,key:t.key,idx:e}}function d0(t,e,n,r){return n===void 0&&(n=null),Rf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ju(e):e,{state:n,key:e&&e.key||r||HJ()})}function Ag(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WJ(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Po.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Rf({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Po.Pop;let b=u(),_=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:_})}function p(b,_){a=Po.Push;let v=d0(g.location,b,_);c=u()+1;let x=ik(v,c),A=g.createHref(v);try{o.pushState(x,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(A)}i&&l&&l({action:a,location:g.location,delta:1})}function m(b,_){a=Po.Replace;let v=d0(g.location,b,_);c=u();let x=ik(v,c),A=g.createHref(v);o.replaceState(x,"",A),i&&l&&l({action:a,location:g.location,delta:0})}function w(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Ag(b);return v=v.replace(/ $/,"%20"),jt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(sk,h),l=b,()=>{s.removeEventListener(sk,h),l=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let _=w(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(b){return o.go(b)}};return g}var ok;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ok||(ok={}));function qJ(t,e,n){return n===void 0&&(n="/"),GJ(t,e,n)}function GJ(t,e,n,r){let s=typeof e=="string"?ju(e):e,i=gu(s.pathname||"/",n);if(i==null)return null;let o=qL(t);KJ(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=iee(i);a=ree(o[l],c)}return a}function qL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(jt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Zo([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qL(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:tee(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of GL(i.path))s(i,o,l)}),e}function GL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=GL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nee(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QJ=/^:[\w-]+$/,YJ=3,ZJ=2,XJ=1,JJ=10,eee=-2,ak=t=>t==="*";function tee(t,e){let n=t.split("/"),r=n.length;return n.some(ak)&&(r+=eee),e&&(r+=ZJ),n.filter(s=>!ak(s)).reduce((s,i)=>s+(QJ.test(i)?YJ:i===""?XJ:JJ),r)}function nee(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ree(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=f0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Zo([i,h.pathname]),pathnameBase:cee(Zo([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Zo([i,h.pathnameBase]))}return o}function f0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=see(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[h];return m&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function see(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),WL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function iee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oee(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ju(t):t;return{pathname:n?n.startsWith("/")?n:aee(n,e):e,search:uee(r),hash:dee(s)}}function aee(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lee(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SS(t,e){let n=lee(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function CS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ju(t):(s=Rf({},t),jt(!s.pathname||!s.pathname.includes("?"),qw("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),qw("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),qw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=oee(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Zo=t=>t.join("/").replace(/\/\/+/g,"/"),cee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KL=["post","put","patch","delete"];new Set(KL);const hee=["get",...KL];new Set(hee);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(this,arguments)}const ry=y.createContext(null),QL=y.createContext(null),Zi=y.createContext(null),sy=y.createContext(null),xa=y.createContext({outlet:null,matches:[],isDataRoute:!1}),YL=y.createContext(null);function pee(t,e){let{relative:n}=e===void 0?{}:e;Lu()||jt(!1);let{basename:r,navigator:s}=y.useContext(Zi),{hash:i,pathname:o,search:a}=iy(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zo([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Lu(){return y.useContext(sy)!=null}function Dl(){return Lu()||jt(!1),y.useContext(sy).location}function ZL(t){y.useContext(Zi).static||y.useLayoutEffect(t)}function Vu(){let{isDataRoute:t}=y.useContext(xa);return t?Aee():mee()}function mee(){Lu()||jt(!1);let t=y.useContext(ry),{basename:e,future:n,navigator:r}=y.useContext(Zi),{matches:s}=y.useContext(xa),{pathname:i}=Dl(),o=JSON.stringify(SS(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return ZL(()=>{a.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=CS(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zo([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function iy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Zi),{matches:s}=y.useContext(xa),{pathname:i}=Dl(),o=JSON.stringify(SS(s,r.v7_relativeSplatPath));return y.useMemo(()=>CS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function gee(t,e){return vee(t,e)}function vee(t,e,n,r){Lu()||jt(!1);let{navigator:s,static:i}=y.useContext(Zi),{matches:o}=y.useContext(xa),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Dl(),h;if(e){var p;let _=typeof e=="string"?ju(e):e;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||jt(!1),h=_}else h=u;let m=h.pathname||"/",w=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=qJ(t,{pathname:w}),b=Eee(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Zo([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Zo([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&b?y.createElement(sy.Provider,{value:{location:If({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Po.Pop}},b):b}function yee(){let t=Tee(),e=fee(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const wee=y.createElement(yee,null);class _ee extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(xa.Provider,{value:this.props.routeContext},y.createElement(YL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bee(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(ry);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(xa.Provider,{value:e},r)}function Eee(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||jt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:m}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let m,w=!1,g=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||wee,l&&(c<0&&p===0?(Ree("route-fallback"),w=!0,b=null):c===p&&(w=!0,b=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),v=()=>{let x;return m?x=g:w?x=b:h.route.Component?x=y.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,y.createElement(bee,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(_ee,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var XL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XL||{}),JL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(JL||{});function xee(t){let e=y.useContext(ry);return e||jt(!1),e}function See(t){let e=y.useContext(QL);return e||jt(!1),e}function Cee(t){let e=y.useContext(xa);return e||jt(!1),e}function eV(t){let e=Cee(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function Tee(){var t;let e=y.useContext(YL),n=See(),r=eV();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Aee(){let{router:t}=xee(XL.UseNavigateStable),e=eV(JL.UseNavigateStable),n=y.useRef(!1);return ZL(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,If({fromRouteId:e},i)))},[t,e])}const lk={};function Ree(t,e,n){lk[t]||(lk[t]=!0)}function Iee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function kee(t){let{to:e,replace:n,state:r,relative:s}=t;Lu()||jt(!1);let{future:i,static:o}=y.useContext(Zi),{matches:a}=y.useContext(xa),{pathname:l}=Dl(),c=Vu(),u=CS(e,SS(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Vr(t){jt(!1)}function Dee(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Po.Pop,navigator:i,static:o=!1,future:a}=t;Lu()&&jt(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:If({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ju(r));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:w="default"}=r,g=y.useMemo(()=>{let b=gu(u,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:w},navigationType:s}},[l,u,h,p,m,w,s]);return g==null?null:y.createElement(Zi.Provider,{value:c},y.createElement(sy.Provider,{children:n,value:g}))}function Pee(t){let{children:e,location:n}=t;return gee(h0(e),n)}new Promise(()=>{});function h0(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,h0(r.props.children,i));return}r.type!==Vr&&jt(!1),!r.props.index||!r.props.children||jt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=h0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function tV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Nee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mee(t,e){return t.button===0&&(!e||e==="_self")&&!Nee(t)}const Oee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Lee="6";try{window.__reactRouterVersion=Lee}catch{}const Vee=y.createContext({isTransitioning:!1}),Fee="startTransition",ck=Z1[Fee];function Uee(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=zJ({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(h=>{c&&ck?ck(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.useEffect(()=>Iee(r),[r]),y.createElement(Dee,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Bee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vu=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=tV(e,Oee),{basename:m}=y.useContext(Zi),w,g=!1;if(typeof c=="string"&&$ee.test(c)&&(w=c,Bee))try{let x=new URL(window.location.href),A=c.startsWith("//")?new URL(x.protocol+c):new URL(c),P=gu(A.pathname,m);A.origin===x.origin&&P!=null?c=P+A.search+A.hash:g=!0}catch{}let b=pee(c,{relative:s}),_=Hee(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:h});function v(x){r&&r(x),x.defaultPrevented||_(x)}return y.createElement("a",Rg({},p,{href:w||b,onClick:g||i?r:v,ref:n,target:l}))}),Gw=y.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,h=tV(e,jee),p=iy(l,{relative:h.relative}),m=Dl(),w=y.useContext(QL),{navigator:g,basename:b}=y.useContext(Zi),_=w!=null&&Wee(p)&&c===!0,v=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,x=m.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(x=x.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&b&&(A=gu(A,b)||A);const P=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let O=x===v||!o&&x.startsWith(v)&&x.charAt(P)==="/",T=A!=null&&(A===v||!o&&A.startsWith(v)&&A.charAt(v.length)==="/"),S={isActive:O,isPending:T,isTransitioning:_},R=O?r:void 0,I;typeof i=="function"?I=i(S):I=[i,O?"active":null,T?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(S):a;return y.createElement(vu,Rg({},h,{"aria-current":R,className:I,ref:n,style:N,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var p0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(p0||(p0={}));var uk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uk||(uk={}));function zee(t){let e=y.useContext(ry);return e||jt(!1),e}function Hee(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Vu(),c=Dl(),u=iy(t,{relative:o});return y.useCallback(h=>{if(Mee(h,n)){h.preventDefault();let p=r!==void 0?r:Ag(c)===Ag(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function Wee(t,e){e===void 0&&(e={});let n=y.useContext(Vee);n==null&&jt(!1);let{basename:r}=zee(p0.useViewTransitionState),s=iy(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=gu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=gu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return f0(s.pathname,o)!=null||f0(s.pathname,i)!=null}function qee(){const[t,e]=y.useState(!0),[n,r]=y.useState(null),s=Vu();return y.useEffect(()=>{const i=c2(du,o=>{r(o),o&&s("/")});return()=>i()},[s]),n?null:d.jsxs("div",{className:"min-h-screen flex",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-primary p-12 text-white flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Barbearia Vitti"}),d.jsx("p",{className:"text-xl mb-8",children:"O melhor em cuidados masculinos e estilo para voc."})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:""}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Profissionais Experientes"}),d.jsx("p",{className:"text-white/80",children:"Nossa equipe  formada por barbeiros altamente qualificados"})]})]}),d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:""}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Horrios Flexveis"}),d.jsx("p",{className:"text-white/80",children:"Agende seu horrio de acordo com sua disponibilidade"})]})]}),d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:""}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Servio Premium"}),d.jsx("p",{className:"text-white/80",children:"Experincia nica em cuidados masculinos"})]})]})]})]}),d.jsx("div",{className:"w-full lg:w-1/2 p-8 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold",children:t?"Bem-vindo de volta!":"Crie sua conta"}),d.jsx("p",{className:"mt-2 text-muted-foreground",children:t?"Entre com suas credenciais para acessar sua conta":"Preencha seus dados para criar uma nova conta"})]}),t?d.jsxs(d.Fragment,{children:[d.jsx(iL,{onSuccess:()=>s("/")}),d.jsx("div",{className:"text-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ainda no tem uma conta?"," ",d.jsx("button",{onClick:()=>e(!1),className:"text-primary hover:underline font-medium",children:"Criar conta"})]})})]}):d.jsxs(d.Fragment,{children:[d.jsx(HL,{onSuccess:()=>s("/")}),d.jsx("div",{className:"text-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["J tem uma conta?"," ",d.jsx("button",{onClick:()=>e(!0),className:"text-primary hover:underline font-medium",children:"Fazer login"})]})})]})]})})]})}var oy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ay=typeof window>"u"||"Deno"in globalThis;function ss(){}function Gee(t,e){return typeof t=="function"?t(e):t}function Kee(t){return typeof t=="number"&&t>=0&&t!==1/0}function Qee(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dk(t,e){return typeof t=="function"?t(e):t}function Yee(t,e){return typeof t=="function"?t(e):t}function fk(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==TS(o,e.options))return!1}else if(!Df(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function hk(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(kf(e.options.mutationKey)!==kf(i))return!1}else if(!Df(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function TS(t,e){return((e==null?void 0:e.queryKeyHashFn)||kf)(t)}function kf(t){return JSON.stringify(t,(e,n)=>m0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Df(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Df(t[n],e[n])):!1}function nV(t,e){if(t===e)return t;const n=pk(t)&&pk(e);if(n||m0(t)&&m0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=nV(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function pk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function m0(t){if(!mk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!mk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mk(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zee(t){return new Promise(e=>{setTimeout(e,t)})}function Xee(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nV(t,e):e}function Jee(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ete(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var AS=Symbol();function rV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===AS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ga,xo,Oc,P1,tte=(P1=class extends oy{constructor(){super();ct(this,Ga);ct(this,xo);ct(this,Oc);We(this,Oc,e=>{if(!ay&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,xo)||this.setEventListener(Z(this,Oc))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,xo))==null||e.call(this),We(this,xo,void 0))}setEventListener(e){var n;We(this,Oc,e),(n=Z(this,xo))==null||n.call(this),We(this,xo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,Ga)!==e&&(We(this,Ga,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Z(this,Ga)=="boolean"?Z(this,Ga):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ga=new WeakMap,xo=new WeakMap,Oc=new WeakMap,P1),sV=new tte,jc,So,Lc,N1,nte=(N1=class extends oy{constructor(){super();ct(this,jc,!0);ct(this,So);ct(this,Lc);We(this,Lc,e=>{if(!ay&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,So)||this.setEventListener(Z(this,Lc))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,So))==null||e.call(this),We(this,So,void 0))}setEventListener(e){var n;We(this,Lc,e),(n=Z(this,So))==null||n.call(this),We(this,So,e(this.setOnline.bind(this)))}setOnline(e){Z(this,jc)!==e&&(We(this,jc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,jc)}},jc=new WeakMap,So=new WeakMap,Lc=new WeakMap,N1),Ig=new nte;function rte(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function ste(t){return Math.min(1e3*2**t,3e4)}function iV(t){return(t??"online")==="online"?Ig.isOnline():!0}var oV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kw(t){return t instanceof oV}function aV(t){let e=!1,n=0,r=!1,s;const i=rte(),o=g=>{var b;r||(p(new oV(g)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>sV.isFocused()&&(t.networkMode==="always"||Ig.isOnline())&&t.canRun(),u=()=>iV(t.networkMode)&&t.canRun(),h=g=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var b;s=_=>{(r||c())&&g(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(r)return;let g;const b=n===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(h).catch(_=>{var O;if(r)return;const v=t.retry??(ay?0:3),x=t.retryDelay??ste,A=typeof x=="function"?x(n,_):x,P=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!P){p(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),Zee(A).then(()=>c()?void 0:m()).then(()=>{e?p(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?w():m().then(w),i)}}function ite(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Bn=ite(),Ka,M1,lV=(M1=class{constructor(){ct(this,Ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kee(this.gcTime)&&We(this,Ka,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ay?1/0:5*60*1e3))}clearGcTimeout(){Z(this,Ka)&&(clearTimeout(Z(this,Ka)),We(this,Ka,void 0))}},Ka=new WeakMap,M1),Vc,Fc,Fr,Qa,Tn,Uf,Ya,is,vi,O1,ote=(O1=class extends lV{constructor(e){super();ct(this,is);ct(this,Vc);ct(this,Fc);ct(this,Fr);ct(this,Qa);ct(this,Tn);ct(this,Uf);ct(this,Ya);We(this,Ya,!1),We(this,Uf,e.defaultOptions),this.setOptions(e.options),this.observers=[],We(this,Qa,e.client),We(this,Fr,Z(this,Qa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,We(this,Vc,lte(this.options)),this.state=e.state??Z(this,Vc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Z(this,Tn))==null?void 0:e.promise}setOptions(e){this.options={...Z(this,Uf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,Fr).remove(this)}setData(e,n){const r=Xee(this.state.data,e,this.options);return En(this,is,vi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){En(this,is,vi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=Z(this,Tn))==null?void 0:r.promise;return(s=Z(this,Tn))==null||s.cancel(e),n?n.then(ss).catch(ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Vc))}isActive(){return this.observers.some(e=>Yee(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Qee(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Z(this,Tn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Z(this,Tn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Z(this,Fr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Z(this,Tn)&&(Z(this,Ya)?Z(this,Tn).cancel({revert:!0}):Z(this,Tn).cancelRetry()),this.scheduleGc()),Z(this,Fr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||En(this,is,vi).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Tn))return Z(this,Tn).continueRetry(),Z(this,Tn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(We(this,Ya,!0),r.signal)})},i=()=>{const h=rV(this.options,n),p={client:Z(this,Qa),queryKey:this.queryKey,meta:this.meta};return s(p),We(this,Ya,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Z(this,Qa),state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),We(this,Fc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&En(this,is,vi).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var p,m,w,g;Kw(h)&&h.silent||En(this,is,vi).call(this,{type:"error",error:h}),Kw(h)||((m=(p=Z(this,Fr).config).onError)==null||m.call(p,h,this),(g=(w=Z(this,Fr).config).onSettled)==null||g.call(w,this.state.data,h,this)),this.scheduleGc()};return We(this,Tn,aV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,w,g;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){a(b);return}(m=(p=Z(this,Fr).config).onSuccess)==null||m.call(p,h,this),(g=(w=Z(this,Fr).config).onSettled)==null||g.call(w,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,p)=>{En(this,is,vi).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{En(this,is,vi).call(this,{type:"pause"})},onContinue:()=>{En(this,is,vi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Z(this,Tn).start()}},Vc=new WeakMap,Fc=new WeakMap,Fr=new WeakMap,Qa=new WeakMap,Tn=new WeakMap,Uf=new WeakMap,Ya=new WeakMap,is=new WeakSet,vi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ate(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Kw(s)&&s.revert&&Z(this,Fc)?{...Z(this,Fc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Z(this,Fr).notify({query:this,type:"updated",action:e})})},O1);function ate(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lte(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ms,j1,cte=(j1=class extends oy{constructor(e={}){super();ct(this,Ms);this.config=e,We(this,Ms,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??TS(s,n);let o=this.get(i);return o||(o=new ote({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Z(this,Ms).has(e.queryHash)||(Z(this,Ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Z(this,Ms).get(e.queryHash);n&&(e.destroy(),n===e&&Z(this,Ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,Ms).get(e)}getAll(){return[...Z(this,Ms).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fk(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>fk(e,r)):n}notify(e){Bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ms=new WeakMap,j1),Os,Ln,Za,js,fo,L1,ute=(L1=class extends lV{constructor(e){super();ct(this,js);ct(this,Os);ct(this,Ln);ct(this,Za);this.mutationId=e.mutationId,We(this,Ln,e.mutationCache),We(this,Os,[]),this.state=e.state||dte(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Z(this,Os).includes(e)||(Z(this,Os).push(e),this.clearGcTimeout(),Z(this,Ln).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){We(this,Os,Z(this,Os).filter(n=>n!==e)),this.scheduleGc(),Z(this,Ln).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Z(this,Os).length||(this.state.status==="pending"?this.scheduleGc():Z(this,Ln).remove(this))}continue(){var e;return((e=Z(this,Za))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,h,p,m,w,g,b,_,v,x,A,P,O,T;We(this,Za,aV({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,R)=>{En(this,js,fo).call(this,{type:"failed",failureCount:S,error:R})},onPause:()=>{En(this,js,fo).call(this,{type:"pause"})},onContinue:()=>{En(this,js,fo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,Ln).canRun(this)}));const n=this.state.status==="pending",r=!Z(this,Za).canStart();try{if(!n){En(this,js,fo).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=Z(this,Ln).config).onMutate)==null?void 0:i.call(s,e,this));const R=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));R!==this.state.context&&En(this,js,fo).call(this,{type:"pending",context:R,variables:e,isPaused:r})}const S=await Z(this,Za).start();return await((c=(l=Z(this,Ln).config).onSuccess)==null?void 0:c.call(l,S,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,S,e,this.state.context)),await((m=(p=Z(this,Ln).config).onSettled)==null?void 0:m.call(p,S,null,this.state.variables,this.state.context,this)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,S,null,e,this.state.context)),En(this,js,fo).call(this,{type:"success",data:S}),S}catch(S){try{throw await((_=(b=Z(this,Ln).config).onError)==null?void 0:_.call(b,S,e,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,S,e,this.state.context)),await((P=(A=Z(this,Ln).config).onSettled)==null?void 0:P.call(A,void 0,S,this.state.variables,this.state.context,this)),await((T=(O=this.options).onSettled)==null?void 0:T.call(O,void 0,S,e,this.state.context)),S}finally{En(this,js,fo).call(this,{type:"error",error:S})}}finally{Z(this,Ln).runNext(this)}}},Os=new WeakMap,Ln=new WeakMap,Za=new WeakMap,js=new WeakSet,fo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Bn.batch(()=>{Z(this,Os).forEach(r=>{r.onMutationUpdate(e)}),Z(this,Ln).notify({mutation:this,type:"updated",action:e})})},L1);function dte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _i,os,Bf,V1,fte=(V1=class extends oy{constructor(e={}){super();ct(this,_i);ct(this,os);ct(this,Bf);this.config=e,We(this,_i,new Set),We(this,os,new Map),We(this,Bf,0)}build(e,n,r){const s=new ute({mutationCache:this,mutationId:++Fh(this,Bf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Z(this,_i).add(e);const n=vp(e);if(typeof n=="string"){const r=Z(this,os).get(n);r?r.push(e):Z(this,os).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Z(this,_i).delete(e)){const n=vp(e);if(typeof n=="string"){const r=Z(this,os).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Z(this,os).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=vp(e);if(typeof n=="string"){const r=Z(this,os).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=vp(e);if(typeof n=="string"){const s=(r=Z(this,os).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bn.batch(()=>{Z(this,_i).forEach(e=>{this.notify({type:"removed",mutation:e})}),Z(this,_i).clear(),Z(this,os).clear()})}getAll(){return Array.from(Z(this,_i))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hk(n,r))}findAll(e={}){return this.getAll().filter(n=>hk(e,n))}notify(e){Bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Bn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ss))))}},_i=new WeakMap,os=new WeakMap,Bf=new WeakMap,V1);function vp(t){var e;return(e=t.options.scope)==null?void 0:e.id}function gk(t){return{onFetch:(e,n)=>{var u,h,p,m,w;const r=e.options,s=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=rV(e.options,e.fetchOptions),v=async(x,A,P)=>{if(g)return Promise.reject();if(A==null&&x.pages.length)return Promise.resolve(x);const O={client:e.client,queryKey:e.queryKey,pageParam:A,direction:P?"backward":"forward",meta:e.options.meta};b(O);const T=await _(O),{maxPages:S}=e.options,R=P?ete:Jee;return{pages:R(x.pages,T,S),pageParams:R(x.pageParams,A,S)}};if(s&&i.length){const x=s==="backward",A=x?hte:vk,P={pages:i,pageParams:o},O=A(r,P);a=await v(P,O,x)}else{const x=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:vk(r,a);if(l>0&&A==null)break;a=await v(a,A),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function vk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function hte(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ut,Co,To,Uc,Bc,Ao,$c,zc,F1,pte=(F1=class{constructor(t={}){ct(this,Ut);ct(this,Co);ct(this,To);ct(this,Uc);ct(this,Bc);ct(this,Ao);ct(this,$c);ct(this,zc);We(this,Ut,t.queryCache||new cte),We(this,Co,t.mutationCache||new fte),We(this,To,t.defaultOptions||{}),We(this,Uc,new Map),We(this,Bc,new Map),We(this,Ao,0)}mount(){Fh(this,Ao)._++,Z(this,Ao)===1&&(We(this,$c,sV.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Ut).onFocus())})),We(this,zc,Ig.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Ut).onOnline())})))}unmount(){var t,e;Fh(this,Ao)._--,Z(this,Ao)===0&&((t=Z(this,$c))==null||t.call(this),We(this,$c,void 0),(e=Z(this,zc))==null||e.call(this),We(this,zc,void 0))}isFetching(t){return Z(this,Ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Z(this,Co).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Z(this,Ut).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(dk(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Z(this,Ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Z(this,Ut).get(r.queryHash),i=s==null?void 0:s.state.data,o=Gee(e,i);if(o!==void 0)return Z(this,Ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Bn.batch(()=>Z(this,Ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Z(this,Ut);Bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Z(this,Ut),r={type:"active",...t};return Bn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Bn.batch(()=>Z(this,Ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ss).catch(ss)}invalidateQueries(t,e={}){return Bn.batch(()=>{if(Z(this,Ut).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const n={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Bn.batch(()=>Z(this,Ut).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ss)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ss)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Z(this,Ut).build(this,e);return n.isStaleByTime(dk(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ss).catch(ss)}fetchInfiniteQuery(t){return t.behavior=gk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ss).catch(ss)}ensureInfiniteQueryData(t){return t.behavior=gk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ig.isOnline()?Z(this,Co).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Ut)}getMutationCache(){return Z(this,Co)}getDefaultOptions(){return Z(this,To)}setDefaultOptions(t){We(this,To,t)}setQueryDefaults(t,e){Z(this,Uc).set(kf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Z(this,Uc).values()],n={};return e.forEach(r=>{Df(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Z(this,Bc).set(kf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Z(this,Bc).values()];let n={};return e.forEach(r=>{Df(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Z(this,To).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=TS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===AS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Z(this,To).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Z(this,Ut).clear(),Z(this,Co).clear()}},Ut=new WeakMap,Co=new WeakMap,To=new WeakMap,Uc=new WeakMap,Bc=new WeakMap,Ao=new WeakMap,$c=new WeakMap,zc=new WeakMap,F1),mte=y.createContext(void 0),gte=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(mte.Provider,{value:t,children:e}));const vte={en:{services:"Services",team:"Team",book:"Book",schedules:"Schedules",management:"Management",login:"Log in",signup:"Sign up",darkMode:"Dark Mode",lightMode:"Light Mode"},"pt-BR":{services:"Servios",team:"Equipe",book:"Agendar",schedules:"Horrios",management:"Gerenciamento",login:"Entrar",signup:"Cadastrar",darkMode:"Modo Escuro",lightMode:"Modo Claro"},es:{services:"Servicios",team:"Equipo",book:"Reservar",schedules:"Horarios",management:"Gestin",login:"Iniciar Sesin",signup:"Registrarse",darkMode:"Modo Oscuro",lightMode:"Modo Claro"}},cV=y.createContext(void 0);function yte({children:t}){const[e,n]=y.useState("en"),r=s=>vte[e][s]||s;return d.jsx(cV.Provider,{value:{language:e,setLanguage:n,t:r},children:t})}function wte(){const t=y.useContext(cV);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}var Qw="rovingFocusGroup.onEntryFocus",_te={bubbles:!1,cancelable:!0},ly="RovingFocusGroup",[g0,uV,bte]=hv(ly),[Ete,cy]=jr(ly,[bte]),[xte,Ste]=Ete(ly),dV=y.forwardRef((t,e)=>d.jsx(g0.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(g0.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Cte,{...t,ref:e})})}));dV.displayName=ly;var Cte=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=y.useRef(null),m=et(e,p),w=Jv(i),[g=null,b]=Li({prop:o,defaultProp:a,onChange:l}),[_,v]=y.useState(!1),x=Nn(c),A=uV(n),P=y.useRef(!1),[O,T]=y.useState(0);return y.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(Qw,x),()=>S.removeEventListener(Qw,x)},[x]),d.jsx(xte,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(S=>b(S),[b]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>T(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>T(S=>S-1),[]),children:d.jsx(Me.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{P.current=!0}),onFocus:fe(t.onFocus,S=>{const R=!P.current;if(S.target===S.currentTarget&&R&&!_){const I=new CustomEvent(Qw,_te);if(S.currentTarget.dispatchEvent(I),!I.defaultPrevented){const N=A().filter(te=>te.focusable),k=N.find(te=>te.active),D=N.find(te=>te.id===g),ae=[k,D,...N].filter(Boolean).map(te=>te.ref.current);pV(ae,u)}}P.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),fV="RovingFocusGroupItem",hV=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ps(),l=i||a,c=Ste(fV,n),u=c.currentTabStopId===l,h=uV(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=c;return y.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),d.jsx(g0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(Me.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:fe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:fe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=Rte(w,c.orientation,c.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=h().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")_.reverse();else if(g==="prev"||g==="next"){g==="prev"&&_.reverse();const v=_.indexOf(w.currentTarget);_=c.loop?Ite(_,v+1):_.slice(v+1)}setTimeout(()=>pV(_))}})})})});hV.displayName=fV;var Tte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ate(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Rte(t,e,n){const r=Ate(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tte[r]}function pV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ite(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mV=dV,gV=hV,v0=["Enter"," "],kte=["ArrowDown","PageUp","Home"],vV=["ArrowUp","PageDown","End"],Dte=[...kte,...vV],Pte={ltr:[...v0,"ArrowRight"],rtl:[...v0,"ArrowLeft"]},Nte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hh="Menu",[Pf,Mte,Ote]=hv(hh),[Pl,yV]=jr(hh,[Ote,va,cy]),uy=va(),wV=cy(),[jte,Nl]=Pl(hh),[Lte,ph]=Pl(hh),_V=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=uy(e),[l,c]=y.useState(null),u=y.useRef(!1),h=Nn(i),p=Jv(s);return y.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(ix,{...a,children:d.jsx(jte,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(Lte,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};_V.displayName=hh;var Vte="MenuAnchor",RS=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=uy(n);return d.jsx(Qf,{...s,...r,ref:e})});RS.displayName=Vte;var IS="MenuPortal",[Fte,bV]=Pl(IS,{forceMount:void 0}),EV=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Nl(IS,e);return d.jsx(Fte,{scope:e,forceMount:n,children:d.jsx(wr,{present:n||i.open,children:d.jsx(Cu,{asChild:!0,container:s,children:r})})})};EV.displayName=IS;var Gr="MenuContent",[Ute,kS]=Pl(Gr),xV=y.forwardRef((t,e)=>{const n=bV(Gr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Nl(Gr,t.__scopeMenu),o=ph(Gr,t.__scopeMenu);return d.jsx(Pf.Provider,{scope:t.__scopeMenu,children:d.jsx(wr,{present:r||i.open,children:d.jsx(Pf.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(Bte,{...s,ref:e}):d.jsx($te,{...s,ref:e})})})})}),Bte=y.forwardRef((t,e)=>{const n=Nl(Gr,t.__scopeMenu),r=y.useRef(null),s=et(e,r);return y.useEffect(()=>{const i=r.current;if(i)return Cv(i)},[]),d.jsx(DS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$te=y.forwardRef((t,e)=>{const n=Nl(Gr,t.__scopeMenu);return d.jsx(DS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),DS=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:w,...g}=t,b=Nl(Gr,n),_=ph(Gr,n),v=uy(n),x=wV(n),A=Mte(n),[P,O]=y.useState(null),T=y.useRef(null),S=et(e,T,b.onContentChange),R=y.useRef(0),I=y.useRef(""),N=y.useRef(0),k=y.useRef(null),D=y.useRef("right"),G=y.useRef(0),ae=w?Xf:y.Fragment,te=w?{as:ti,allowPinchZoom:!0}:void 0,K=j=>{var H,ye;const Q=I.current+j,se=A().filter(Se=>!Se.disabled),q=document.activeElement,J=(H=se.find(Se=>Se.ref.current===q))==null?void 0:H.textValue,ie=se.map(Se=>Se.textValue),Ee=ene(ie,Q,J),$=(ye=se.find(Se=>Se.textValue===Ee))==null?void 0:ye.ref.current;(function Se(xe){I.current=xe,window.clearTimeout(R.current),xe!==""&&(R.current=window.setTimeout(()=>Se(""),1e3))})(Q),$&&setTimeout(()=>$.focus())};y.useEffect(()=>()=>window.clearTimeout(R.current),[]),xv();const F=y.useCallback(j=>{var se,q;return D.current===((se=k.current)==null?void 0:se.side)&&nne(j,(q=k.current)==null?void 0:q.area)},[]);return d.jsx(Ute,{scope:n,searchRef:I,onItemEnter:y.useCallback(j=>{F(j)&&j.preventDefault()},[F]),onItemLeave:y.useCallback(j=>{var Q;F(j)||((Q=T.current)==null||Q.focus(),O(null))},[F]),onTriggerLeave:y.useCallback(j=>{F(j)&&j.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:y.useCallback(j=>{k.current=j},[]),children:d.jsx(ae,{...te,children:d.jsx(Yf,{asChild:!0,trapped:s,onMountAutoFocus:fe(i,j=>{var Q;j.preventDefault(),(Q=T.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:d.jsx(mV,{asChild:!0,...x,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:fe(l,j=>{_.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(wv,{role:"menu","aria-orientation":"vertical","data-state":FV(b.open),"data-radix-menu-content":"",dir:_.dir,...v,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,j=>{const se=j.target.closest("[data-radix-menu-content]")===j.currentTarget,q=j.ctrlKey||j.altKey||j.metaKey,J=j.key.length===1;se&&(j.key==="Tab"&&j.preventDefault(),!q&&J&&K(j.key));const ie=T.current;if(j.target!==ie||!Dte.includes(j.key))return;j.preventDefault();const $=A().filter(H=>!H.disabled).map(H=>H.ref.current);vV.includes(j.key)&&$.reverse(),Xte($)}),onBlur:fe(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(R.current),I.current="")}),onPointerMove:fe(t.onPointerMove,Nf(j=>{const Q=j.target,se=G.current!==j.clientX;if(j.currentTarget.contains(Q)&&se){const q=j.clientX>G.current?"right":"left";D.current=q,G.current=j.clientX}}))})})})})})})});xV.displayName=Gr;var zte="MenuGroup",PS=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Me.div,{role:"group",...r,ref:e})});PS.displayName=zte;var Hte="MenuLabel",SV=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Me.div,{...r,ref:e})});SV.displayName=Hte;var kg="MenuItem",yk="menu.itemSelect",dy=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=ph(kg,t.__scopeMenu),a=kS(kg,t.__scopeMenu),l=et(e,i),c=y.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(yk,{bubbles:!0,cancelable:!0});h.addEventListener(yk,m=>r==null?void 0:r(m),{once:!0}),$E(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(CV,{...s,ref:l,disabled:n,onClick:fe(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:fe(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:fe(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||v0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});dy.displayName=kg;var CV=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=kS(kg,n),a=wV(n),l=y.useRef(null),c=et(e,l),[u,h]=y.useState(!1),[p,m]=y.useState("");return y.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[i.children]),d.jsx(Pf.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(gV,{asChild:!0,...a,focusable:!r,children:d.jsx(Me.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:fe(t.onPointerMove,Nf(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,Nf(w=>o.onItemLeave(w))),onFocus:fe(t.onFocus,()=>h(!0)),onBlur:fe(t.onBlur,()=>h(!1))})})})}),Wte="MenuCheckboxItem",TV=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(DV,{scope:t.__scopeMenu,checked:n,children:d.jsx(dy,{role:"menuitemcheckbox","aria-checked":Dg(n)?"mixed":n,...s,ref:e,"data-state":MS(n),onSelect:fe(s.onSelect,()=>r==null?void 0:r(Dg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TV.displayName=Wte;var AV="MenuRadioGroup",[qte,Gte]=Pl(AV,{value:void 0,onValueChange:()=>{}}),RV=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Nn(r);return d.jsx(qte,{scope:t.__scopeMenu,value:n,onValueChange:i,children:d.jsx(PS,{...s,ref:e})})});RV.displayName=AV;var IV="MenuRadioItem",kV=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=Gte(IV,t.__scopeMenu),i=n===s.value;return d.jsx(DV,{scope:t.__scopeMenu,checked:i,children:d.jsx(dy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":MS(i),onSelect:fe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});kV.displayName=IV;var NS="MenuItemIndicator",[DV,Kte]=Pl(NS,{checked:!1}),PV=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Kte(NS,n);return d.jsx(wr,{present:r||Dg(i.checked)||i.checked===!0,children:d.jsx(Me.span,{...s,ref:e,"data-state":MS(i.checked)})})});PV.displayName=NS;var Qte="MenuSeparator",NV=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});NV.displayName=Qte;var Yte="MenuArrow",MV=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=uy(n);return d.jsx(_v,{...s,...r,ref:e})});MV.displayName=Yte;var Zte="MenuSub",[qfe,OV]=Pl(Zte),Ed="MenuSubTrigger",jV=y.forwardRef((t,e)=>{const n=Nl(Ed,t.__scopeMenu),r=ph(Ed,t.__scopeMenu),s=OV(Ed,t.__scopeMenu),i=kS(Ed,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>u,[u]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(RS,{asChild:!0,...c,children:d.jsx(CV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":FV(n.open),...t,ref:fv(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,Nf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:fe(t.onPointerLeave,Nf(h=>{var m,w;u();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const g=(w=n.content)==null?void 0:w.dataset.side,b=g==="right",_=b?-5:5,v=p[b?"left":"right"],x=p[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x:v,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:v,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||Pte[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});jV.displayName=Ed;var LV="MenuSubContent",VV=y.forwardRef((t,e)=>{const n=bV(Gr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Nl(Gr,t.__scopeMenu),o=ph(Gr,t.__scopeMenu),a=OV(LV,t.__scopeMenu),l=y.useRef(null),c=et(e,l);return d.jsx(Pf.Provider,{scope:t.__scopeMenu,children:d.jsx(wr,{present:r||i.open,children:d.jsx(Pf.Slot,{scope:t.__scopeMenu,children:d.jsx(DS,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:fe(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:fe(t.onKeyDown,u=>{var m;const h=u.currentTarget.contains(u.target),p=Nte[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});VV.displayName=LV;function FV(t){return t?"open":"closed"}function Dg(t){return t==="indeterminate"}function MS(t){return Dg(t)?"indeterminate":t?"checked":"unchecked"}function Xte(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Jte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function ene(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Jte(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function tne(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function nne(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return tne(n,e)}function Nf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var rne=_V,sne=RS,ine=EV,one=xV,ane=PS,lne=SV,cne=dy,une=TV,dne=RV,fne=kV,hne=PV,pne=NV,mne=MV,gne=jV,vne=VV,OS="DropdownMenu",[yne,Gfe]=jr(OS,[yV]),Gn=yV(),[wne,UV]=yne(OS),BV=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Gn(e),c=y.useRef(null),[u=!1,h]=Li({prop:s,defaultProp:i,onChange:o});return d.jsx(wne,{scope:e,triggerId:ps(),triggerRef:c,contentId:ps(),open:u,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(rne,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};BV.displayName=OS;var $V="DropdownMenuTrigger",zV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=UV($V,n),o=Gn(n);return d.jsx(sne,{asChild:!0,...o,children:d.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:fv(e,i.triggerRef),onPointerDown:fe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:fe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});zV.displayName=$V;var _ne="DropdownMenuPortal",HV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Gn(e);return d.jsx(ine,{...r,...n})};HV.displayName=_ne;var WV="DropdownMenuContent",qV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=UV(WV,n),i=Gn(n),o=y.useRef(!1);return d.jsx(one,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qV.displayName=WV;var bne="DropdownMenuGroup",Ene=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(ane,{...s,...r,ref:e})});Ene.displayName=bne;var xne="DropdownMenuLabel",GV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(lne,{...s,...r,ref:e})});GV.displayName=xne;var Sne="DropdownMenuItem",KV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(cne,{...s,...r,ref:e})});KV.displayName=Sne;var Cne="DropdownMenuCheckboxItem",QV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(une,{...s,...r,ref:e})});QV.displayName=Cne;var Tne="DropdownMenuRadioGroup",Ane=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(dne,{...s,...r,ref:e})});Ane.displayName=Tne;var Rne="DropdownMenuRadioItem",YV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(fne,{...s,...r,ref:e})});YV.displayName=Rne;var Ine="DropdownMenuItemIndicator",ZV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(hne,{...s,...r,ref:e})});ZV.displayName=Ine;var kne="DropdownMenuSeparator",XV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(pne,{...s,...r,ref:e})});XV.displayName=kne;var Dne="DropdownMenuArrow",Pne=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(mne,{...s,...r,ref:e})});Pne.displayName=Dne;var Nne="DropdownMenuSubTrigger",JV=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(gne,{...s,...r,ref:e})});JV.displayName=Nne;var Mne="DropdownMenuSubContent",eF=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Gn(n);return d.jsx(vne,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eF.displayName=Mne;var One=BV,jne=zV,Lne=HV,tF=qV,nF=GV,rF=KV,sF=QV,iF=YV,oF=ZV,aF=XV,lF=JV,cF=eF;const Vne=One,Fne=jne,Une=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(lF,{ref:s,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(RN,{className:"ml-auto h-4 w-4"})]}));Une.displayName=lF.displayName;const Bne=y.forwardRef(({className:t,...e},n)=>d.jsx(cF,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Bne.displayName=cF.displayName;const uF=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(Lne,{children:d.jsx(tF,{ref:r,sideOffset:e,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));uF.displayName=tF.displayName;const y0=y.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(rF,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));y0.displayName=rF.displayName;const $ne=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(sF,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(oF,{children:d.jsx(Ba,{className:"h-4 w-4"})})}),e]}));$ne.displayName=sF.displayName;const zne=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(iF,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(oF,{children:d.jsx(i3,{className:"h-2 w-2 fill-current"})})}),e]}));zne.displayName=iF.displayName;const dF=y.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(nF,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));dF.displayName=nF.displayName;const fF=y.forwardRef(({className:t,...e},n)=>d.jsx(aF,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));fF.displayName=aF.displayName;const Hne=[{name:"Servios",href:"/services",icon:Pm},{name:"Equipe",href:"/team",icon:p3},{name:"Agendamentos",href:"/book",icon:KE},{name:"Agendamentos",href:"/schedules",icon:Dm},{name:"Agendamentos",href:"/appointments",icon:t3}];function Wne(){const{t}=wte(),[e,n]=y.useState(null);Vu();const{user:r}=lS(),{webUsers:s}=uS(),i=s.find(o=>o.user_id===(r==null?void 0:r.uid));return y.useEffect(()=>{const o=c2(du,a=>{n(a)});return()=>o()},[]),d.jsx("nav",{className:"fixed top-0 w-full bg-background/80 backdrop-blur-lg z-50 border-b border-border",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16 gap-4",children:[d.jsx(vu,{to:"/",className:"flex-shrink-0",children:d.jsx("img",{src:"/uploads/3938081c-f339-4921-b90f-f5ff2a42361d.png",alt:"CGM Logo",className:"h-20 w-auto"})}),d.jsx("div",{className:"hidden md:flex md:items-center md:space-x-8",children:r&&d.jsxs(d.Fragment,{children:[Hne.map(o=>d.jsxs(Gw,{to:o.href,className:({isActive:a})=>me("inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors duration-200",a?"text-primary border-b-2 py-2 border-primary":"text-muted-foreground hover:text-foreground py-2"),children:[d.jsx(o.icon,{className:"w-4 h-4 mr-2"}),o.name]},o.name)),(i==null?void 0:i.isAdmin)===!0?d.jsxs(Gw,{to:"/management",className:({isActive:o})=>me("inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors duration-200",o?"text-primary border-b-2 py-2 border-primary":"text-muted-foreground hover:text-foreground py-2"),children:[d.jsx(f3,{className:"w-4 h-4 mr-2"}),"Manuteno"]}):null]})}),d.jsx("div",{className:"flex items-center space-x-4",children:r?d.jsx(d.Fragment,{children:d.jsxs(Vne,{children:[d.jsx(Fne,{asChild:!0,children:d.jsx(Dt,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:d.jsx(IN,{className:"h-8 w-8"})})}),d.jsxs(uF,{className:"w-56",align:"end",forceMount:!0,children:[d.jsx(dF,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:r.displayName}),d.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:r.email})]})}),d.jsx(fF,{}),d.jsx(y0,{asChild:!0,children:d.jsxs(vu,{to:"/appointments",children:[d.jsx(KE,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Agendamentos"})]})}),d.jsxs(y0,{onClick:()=>du.signOut(),children:[d.jsx(c3,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Sair"})]})]})]})}):d.jsx(Gw,{to:"/auth",className:({isActive:o})=>`py-2 px-4 bg-primary rounded hover:bg-primary-hover transition-colors ${o?"bg-accent":""}`,children:"Log in"})})]})})})}var Oe=function(){return Oe=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oe.apply(this,arguments)};function qne(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hF(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function mh(t){return t.mode==="multiple"}function gh(t){return t.mode==="range"}function fy(t){return t.mode==="single"}var Gne={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Kne(t,e){return ms(t,"LLLL y",e)}function Qne(t,e){return ms(t,"d",e)}function Yne(t,e){return ms(t,"LLLL",e)}function Zne(t){return"".concat(t)}function Xne(t,e){return ms(t,"cccccc",e)}function Jne(t,e){return ms(t,"yyyy",e)}var ere=Object.freeze({__proto__:null,formatCaption:Kne,formatDay:Qne,formatMonthCaption:Yne,formatWeekNumber:Zne,formatWeekdayName:Xne,formatYearCaption:Jne}),tre=function(t,e,n){return ms(t,"do MMMM (EEEE)",n)},nre=function(){return"Month: "},rre=function(){return"Go to next month"},sre=function(){return"Go to previous month"},ire=function(t,e){return ms(t,"cccc",e)},ore=function(t){return"Week n. ".concat(t)},are=function(){return"Year: "},lre=Object.freeze({__proto__:null,labelDay:tre,labelMonthDropdown:nre,labelNext:rre,labelPrevious:sre,labelWeekNumber:ore,labelWeekday:ire,labelYearDropdown:are});function cre(){var t="buttons",e=Gne,n=T2,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:ere,labels:lre,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function ure(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=vr(r):e&&(i=new Date(e,0,1)),s?o=hS(s):n&&(o=new Date(n,11,31)),{fromDate:i?fu(i):void 0,toDate:o?fu(o):void 0}}var pF=y.createContext(void 0);function dre(t){var e,n=t.initialProps,r=cre(),s=ure(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(fy(n)||mh(n)||gh(n))&&(l=n.onSelect);var c=Oe(Oe(Oe({},r),n),{captionLayout:a,classNames:Oe(Oe({},r.classNames),n.classNames),components:Oe({},n.components),formatters:Oe(Oe({},r.formatters),n.formatters),fromDate:i,labels:Oe(Oe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Oe(Oe({},r.modifiers),n.modifiers),modifiersClassNames:Oe(Oe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Oe(Oe({},r.styles),n.styles),toDate:o});return d.jsx(pF.Provider,{value:c,children:t.children})}function _t(){var t=y.useContext(pF);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function mF(t){var e=_t(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return d.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function fre(t){return d.jsx("svg",Oe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gF(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,c=_t(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:fre;return d.jsxs("div",{className:a,style:l,children:[d.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),d.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:i}),d.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,d.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function hre(t){var e,n=_t(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return d.jsx(d.Fragment,{});if(!s)return d.jsx(d.Fragment,{});var h=[];if(BZ(r,s))for(var p=vr(r),m=r.getMonth();m<=s.getMonth();m++)h.push(Bw(p,m));else for(var p=vr(new Date),m=0;m<=11;m++)h.push(Bw(p,m));var w=function(b){var _=Number(b.target.value),v=Bw(vr(t.displayMonth),_);t.onChange(v)},g=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:gF;return d.jsx(g,{name:"months","aria-label":u(),className:l.dropdown_month,style:i.dropdown_month,onChange:w,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:h.map(function(b){return d.jsx("option",{value:b.getMonth(),children:a(b,{locale:o})},b.getMonth())})})}function pre(t){var e,n=t.displayMonth,r=_t(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,p=[];if(!s)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});for(var m=s.getFullYear(),w=i.getFullYear(),g=m;g<=w;g++)p.push(BI(x2(new Date),g));var b=function(v){var x=BI(vr(n),Number(v.target.value));t.onChange(x)},_=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:gF;return d.jsx(_,{name:"years","aria-label":h(),className:l.dropdown_year,style:a.dropdown_year,onChange:b,value:n.getFullYear(),caption:u(n,{locale:o}),children:p.map(function(v){return d.jsx("option",{value:v.getFullYear(),children:u(v,{locale:o})},v.getFullYear())})})}function mre(t,e){var n=y.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function gre(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&Cf(i,s)<0){var c=-1*(l-1);s=xs(i,c)}return o&&Cf(s,o)<0&&(s=o),vr(s)}function vre(){var t=_t(),e=gre(t),n=mre(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=vr(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function yre(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=vr(t),i=vr(xs(s,r)),o=Cf(i,s),a=[],l=0;l<o;l++){var c=xs(s,l);a.push(c)}return n&&(a=a.reverse()),a}function wre(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=vr(t);if(!n)return xs(a,o);var l=Cf(n,t);if(!(l<i))return xs(a,o)}}function _re(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=vr(t);if(!n)return xs(a,-o);var l=Cf(a,n);if(!(l<=0))return xs(a,-o)}}var vF=y.createContext(void 0);function bre(t){var e=_t(),n=vre(),r=n[0],s=n[1],i=yre(r,e),o=wre(r,e),a=_re(r,e),l=function(h){return i.some(function(p){return mS(h,p)})},c=function(h,p){l(h)||(p&&D2(h,p)?s(xs(h,1+e.numberOfMonths*-1)):s(h))},u={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return d.jsx(vF.Provider,{value:u,children:t.children})}function vh(){var t=y.useContext(vF);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function wk(t){var e,n=_t(),r=n.classNames,s=n.styles,i=n.components,o=vh().goToMonth,a=function(u){o(xs(u,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:mF,c=d.jsx(l,{id:t.id,displayMonth:t.displayMonth});return d.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[d.jsx("div",{className:r.vhidden,children:c}),d.jsx(hre,{onChange:a,displayMonth:t.displayMonth}),d.jsx(pre,{onChange:a,displayMonth:t.displayMonth})]})}function Ere(t){return d.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xre(t){return d.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Pg=y.forwardRef(function(t,e){var n=_t(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=Oe(Oe({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),d.jsx("button",Oe({},t,{ref:e,type:"button",className:o,style:a}))});function Sre(t){var e,n,r=_t(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return d.jsx(d.Fragment,{});var p=c(t.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),w=u(t.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),b=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:xre,_=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:Ere;return d.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&d.jsx(Pg,{name:"previous-month","aria-label":p,className:m,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?d.jsx(b,{className:o.nav_icon,style:a.nav_icon}):d.jsx(_,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&d.jsx(Pg,{name:"next-month","aria-label":w,className:g,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?d.jsx(_,{className:o.nav_icon,style:a.nav_icon}):d.jsx(b,{className:o.nav_icon,style:a.nav_icon})})]})}function _k(t){var e=_t().numberOfMonths,n=vh(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(w){return mS(t.displayMonth,w)}),l=a===0,c=a===o.length-1,u=e>1&&(l||!c),h=e>1&&(c||!l),p=function(){r&&i(r)},m=function(){s&&i(s)};return d.jsx(Sre,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function Cre(t){var e,n=_t(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:mF,c;return s?c=d.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=d.jsx(wk,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=d.jsxs(d.Fragment,{children:[d.jsx(wk,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),d.jsx(_k,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=d.jsxs(d.Fragment,{children:[d.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx(_k,{displayMonth:t.displayMonth,id:t.id})]}),d.jsx("div",{className:r.caption,style:i.caption,children:c})}function Tre(t){var e=_t(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?d.jsx("tfoot",{className:s,style:r.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:n})})}):d.jsx(d.Fragment,{})}function Are(t,e,n){for(var r=n?pl(new Date):oi(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=Fn(r,i);s.push(o)}return s}function Rre(){var t=_t(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=Are(s,i,o);return d.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&d.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,h){return d.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:s}),children:a(u,{locale:s})},h)})]})}function Ire(){var t,e=_t(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Rre;return d.jsx("thead",{style:r.head,className:n.head,children:d.jsx(i,{})})}function kre(t){var e=_t(),n=e.locale,r=e.formatters.formatDay;return d.jsx(d.Fragment,{children:r(t.date,{locale:n})})}var jS=y.createContext(void 0);function Dre(t){if(!mh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return d.jsx(jS.Provider,{value:e,children:t.children})}return d.jsx(Pre,{initialProps:t.initialProps,children:t.children})}function Pre(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(c,u,h){var p,m;(p=e.onDayClick)===null||p===void 0||p.call(e,c,u,h);var w=!!(u.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var g=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var b=r?hF([],r):[];if(u.selected){var _=b.findIndex(function(v){return ur(c,v)});b.splice(_,1)}else b.push(c);(m=e.onSelect)===null||m===void 0||m.call(e,b,c,u,h)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=i&&r.length>i-1,h=r.some(function(p){return ur(p,c)});return!!(u&&!h)});var l={selected:r,onDayClick:o,modifiers:a};return d.jsx(jS.Provider,{value:l,children:n})}function LS(){var t=y.useContext(jS);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Nre(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?ur(s,t)&&ur(r,t)?void 0:ur(s,t)?{from:s,to:void 0}:ur(r,t)?void 0:Yb(r,t)?{from:t,to:s}:{from:r,to:t}:s?Yb(t,s)?{from:s,to:t}:{from:t,to:s}:r?D2(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var VS=y.createContext(void 0);function Mre(t){if(!gh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(VS.Provider,{value:e,children:t.children})}return d.jsx(Ore,{initialProps:t.initialProps,children:t.children})}function Ore(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,c=function(m,w,g){var b,_;(b=e.onDayClick)===null||b===void 0||b.call(e,m,w,g);var v=Nre(m,r);(_=e.onSelect)===null||_===void 0||_.call(e,v,m,w,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],ur(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),a&&(i&&!o&&u.disabled.push({after:Uw(i,a-1),before:Fn(i,a-1)}),i&&o&&u.disabled.push({after:i,before:Fn(i,a-1)}),!i&&o&&u.disabled.push({after:Uw(o,a-1),before:Fn(o,a-1)})),l){if(i&&!o&&(u.disabled.push({before:Fn(i,-l+1)}),u.disabled.push({after:Fn(i,l-1)})),i&&o){var h=zs(o,i)+1,p=l-h;u.disabled.push({before:Uw(i,p)}),u.disabled.push({after:Fn(o,p)})}!i&&o&&(u.disabled.push({before:Fn(o,-l+1)}),u.disabled.push({after:Fn(o,l-1)}))}return d.jsx(VS.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function FS(){var t=y.useContext(VS);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function em(t){return Array.isArray(t)?hF([],t):t!==void 0?[t]:[]}function jre(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=em(s)}),e}var Ss;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ss||(Ss={}));var Lre=Ss.Selected,mi=Ss.Disabled,Vre=Ss.Hidden,Fre=Ss.Today,Yw=Ss.RangeEnd,Zw=Ss.RangeMiddle,Xw=Ss.RangeStart,Ure=Ss.Outside;function Bre(t,e,n){var r,s=(r={},r[Lre]=em(t.selected),r[mi]=em(t.disabled),r[Vre]=em(t.hidden),r[Fre]=[t.today],r[Yw]=[],r[Zw]=[],r[Xw]=[],r[Ure]=[],r);return t.fromDate&&s[mi].push({before:t.fromDate}),t.toDate&&s[mi].push({after:t.toDate}),mh(t)?s[mi]=s[mi].concat(e.modifiers[mi]):gh(t)&&(s[mi]=s[mi].concat(n.modifiers[mi]),s[Xw]=n.modifiers[Xw],s[Zw]=n.modifiers[Zw],s[Yw]=n.modifiers[Yw]),s}var yF=y.createContext(void 0);function $re(t){var e=_t(),n=LS(),r=FS(),s=Bre(e,n,r),i=jre(e.modifiers),o=Oe(Oe({},s),i);return d.jsx(yF.Provider,{value:o,children:t.children})}function wF(){var t=y.useContext(yF);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function zre(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Hre(t){return!!(t&&typeof t=="object"&&"from"in t)}function Wre(t){return!!(t&&typeof t=="object"&&"after"in t)}function qre(t){return!!(t&&typeof t=="object"&&"before"in t)}function Gre(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Kre(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=zs(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=zs(t,r)>=0&&zs(s,t)>=0;return o}return s?ur(s,t):r?ur(r,t):!1}function Qre(t){return fS(t)}function Yre(t){return Array.isArray(t)&&t.every(fS)}function Zre(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Qre(n))return ur(t,n);if(Yre(n))return n.includes(t);if(Hre(n))return Kre(t,n);if(Gre(n))return n.dayOfWeek.includes(t.getDay());if(zre(n)){var r=zs(n.before,t),s=zs(n.after,t),i=r>0,o=s<0,a=Yb(n.before,n.after);return a?o&&i:i||o}return Wre(n)?zs(t,n.after)>0:qre(n)?zs(n.before,t)>0:typeof n=="function"?n(t):!1})}function US(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return Zre(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!mS(t,n)&&(s.outside=!0),s}function Xre(t,e){for(var n=vr(t[0]),r=hS(t[t.length-1]),s,i,o=n;o<=r;){var a=US(o,e),l=!a.disabled&&!a.hidden;if(!l){o=Fn(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=Fn(o,1)}return i||s}var Jre=365;function _F(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,c=s.fromDate,u=s.toDate,h=s.locale,p={day:Fn,week:Qb,month:xs,year:VY,startOfWeek:function(b){return s.ISOWeek?pl(b):oi(b,{locale:h,weekStartsOn:l})},endOfWeek:function(b){return s.ISOWeek?S2(b):pS(b,{locale:h,weekStartsOn:l})}},m=p[n](t,r==="after"?1:-1);r==="before"&&c?m=FY([c,m]):r==="after"&&u&&(m=UY([u,m]));var w=!0;if(i){var g=US(m,i);w=!g.disabled&&!g.hidden}return w?m:a.count>Jre?a.lastFocused:_F(m,{moveBy:n,direction:r,context:s,modifiers:i,retry:Oe(Oe({},a),{count:a.count+1})})}var bF=y.createContext(void 0);function ese(t){var e=vh(),n=wF(),r=y.useState(),s=r[0],i=r[1],o=y.useState(),a=o[0],l=o[1],c=Xre(e.displayMonths,n),u=s??(a&&e.isDateDisplayed(a))?a:c,h=function(){l(s),i(void 0)},p=function(b){i(b)},m=_t(),w=function(b,_){if(s){var v=_F(s,{moveBy:b,direction:_,context:m,modifiers:n});ur(s,v)||(e.goToDate(v,s),p(v))}},g={focusedDay:s,focusTarget:u,blur:h,focus:p,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return d.jsx(bF.Provider,{value:g,children:t.children})}function BS(){var t=y.useContext(bF);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function tse(t,e){var n=wF(),r=US(t,n,e);return r}var $S=y.createContext(void 0);function nse(t){if(!fy(t.initialProps)){var e={selected:void 0};return d.jsx($S.Provider,{value:e,children:t.children})}return d.jsx(rse,{initialProps:t.initialProps,children:t.children})}function rse(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,o,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return d.jsx($S.Provider,{value:s,children:n})}function EF(){var t=y.useContext($S);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function sse(t,e){var n=_t(),r=EF(),s=LS(),i=FS(),o=BS(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,p=o.focus,m=o.focusMonthBefore,w=o.focusMonthAfter,g=o.focusYearBefore,b=o.focusYearAfter,_=o.focusStartOfWeek,v=o.focusEndOfWeek,x=function(K){var F,j,Q,se;fy(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,t,e,K):mh(n)?(j=s.onDayClick)===null||j===void 0||j.call(s,t,e,K):gh(n)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,t,e,K):(se=n.onDayClick)===null||se===void 0||se.call(n,t,e,K)},A=function(K){var F;p(t),(F=n.onDayFocus)===null||F===void 0||F.call(n,t,e,K)},P=function(K){var F;h(),(F=n.onDayBlur)===null||F===void 0||F.call(n,t,e,K)},O=function(K){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,t,e,K)},T=function(K){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,t,e,K)},S=function(K){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,t,e,K)},R=function(K){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,t,e,K)},I=function(K){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,t,e,K)},N=function(K){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,t,e,K)},k=function(K){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,t,e,K)},D=function(K){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,t,e,K)},G=function(K){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,t,e,K)},ae=function(K){var F;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),c();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),u();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?g():m();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?b():w();break;case"Home":K.preventDefault(),K.stopPropagation(),_();break;case"End":K.preventDefault(),K.stopPropagation(),v();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,t,e,K)},te={onClick:x,onFocus:A,onBlur:P,onKeyDown:ae,onKeyUp:G,onMouseEnter:O,onMouseLeave:T,onPointerEnter:S,onPointerLeave:R,onTouchCancel:I,onTouchEnd:N,onTouchMove:k,onTouchStart:D};return te}function ise(){var t=_t(),e=EF(),n=LS(),r=FS(),s=fy(t)?e.selected:mh(t)?n.selected:gh(t)?r.selected:void 0;return s}function ose(t){return Object.values(Ss).includes(t)}function ase(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(ose(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function lse(t,e){var n=Oe({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Oe(Oe({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function cse(t,e,n){var r,s,i,o=_t(),a=BS(),l=tse(t,e),c=sse(t,l),u=ise(),h=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var O;l.outside||a.focusedDay&&h&&ur(a.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[a.focusedDay,t,n,h,l.outside]);var p=ase(o,l).join(" "),m=lse(o,l),w=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:kre,b=d.jsx(g,{date:t,displayMonth:e,activeModifiers:l}),_={style:m,className:p,children:b,role:"gridcell"},v=a.focusTarget&&ur(a.focusTarget,t)&&!l.outside,x=a.focusedDay&&ur(a.focusedDay,t),A=Oe(Oe(Oe({},_),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=x||v?0:-1,r)),c),P={isButton:h,isHidden:w,activeModifiers:l,selectedDays:u,buttonProps:A,divProps:_};return P}function use(t){var e=y.useRef(null),n=cse(t.date,t.displayMonth,e);return n.isHidden?d.jsx("div",{role:"gridcell"}):n.isButton?d.jsx(Pg,Oe({name:"day",ref:e},n.buttonProps)):d.jsx("div",Oe({},n.divProps))}function dse(t){var e=t.number,n=t.dates,r=_t(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!s)return d.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=l(Number(e),{locale:a}),p=function(m){s(e,n,m)};return d.jsx(Pg,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:p,children:u})}function fse(t){var e,n,r=_t(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:use,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:dse,u;return o&&(u=d.jsx("td",{className:i.cell,style:s.cell,children:d.jsx(c,{number:t.weekNumber,dates:t.dates})})),d.jsxs("tr",{className:i.row,style:s.row,children:[u,t.dates.map(function(h){return d.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:d.jsx(l,{displayMonth:t.displayMonth,date:h})},VZ(h))})]})}function bk(t,e,n){for(var r=n!=null&&n.ISOWeek?S2(e):pS(e,n),s=n!=null&&n.ISOWeek?pl(t):oi(t,n),i=zs(r,s),o=[],a=0;a<=i;a++)o.push(Fn(s,a));var l=o.reduce(function(c,u){var h=n!=null&&n.ISOWeek?A2(u):I2(u,n),p=c.find(function(m){return m.weekNumber===h});return p?(p.dates.push(u),c):(c.push({weekNumber:h,dates:[u]}),c)},[]);return l}function hse(t,e){var n=bk(vr(t),hS(t),e);if(e!=null&&e.useFixedWeeks){var r=UZ(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=Qb(i,6-r),a=bk(Qb(i,1),o,e);n.push.apply(n,a)}}return n}function pse(t){var e,n,r,s=_t(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,u=s.components,h=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,w=hse(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:p}),g=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:Ire,b=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:fse,_=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:Tre;return d.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&d.jsx(g,{}),d.jsx("tbody",{className:o.tbody,style:a.tbody,children:w.map(function(v){return d.jsx(b,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),d.jsx(_,{displayMonth:t.displayMonth})]})}function mse(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gse=mse()?y.useLayoutEffect:y.useEffect,Jw=!1,vse=0;function Ek(){return"react-day-picker-".concat(++vse)}function yse(t){var e,n=t??(Jw?Ek():null),r=y.useState(n),s=r[0],i=r[1];return gse(function(){s===null&&i(Ek())},[]),y.useEffect(function(){Jw===!1&&(Jw=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function wse(t){var e,n,r=_t(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=vh().displayMonths,c=yse(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[i.month],p=o.month,m=t.displayIndex===0,w=t.displayIndex===l.length-1,g=!m&&!w;s==="rtl"&&(e=[m,w],w=e[0],m=e[1]),m&&(h.push(i.caption_start),p=Oe(Oe({},p),o.caption_start)),w&&(h.push(i.caption_end),p=Oe(Oe({},p),o.caption_end)),g&&(h.push(i.caption_between),p=Oe(Oe({},p),o.caption_between));var b=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:Cre;return d.jsxs("div",{className:h.join(" "),style:p,children:[d.jsx(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx(pse,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function _se(t){var e=_t(),n=e.classNames,r=e.styles;return d.jsx("div",{className:n.months,style:r.months,children:t.children})}function bse(t){var e,n,r=t.initialProps,s=_t(),i=BS(),o=vh(),a=y.useState(!1),l=a[0],c=a[1];y.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var h=Oe(Oe({},s.styles.root),s.style),p=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,g){var b;return Oe(Oe({},w),(b={},b[g]=r[g],b))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:_se;return d.jsx("div",Oe({className:u.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:d.jsx(m,{children:o.displayMonths.map(function(w,g){return d.jsx(wse,{displayIndex:g,displayMonth:w},g)})})}))}function Ese(t){var e=t.children,n=qne(t,["children"]);return d.jsx(dre,{initialProps:n,children:d.jsx(bre,{children:d.jsx(nse,{initialProps:n,children:d.jsx(Dre,{initialProps:n,children:d.jsx(Mre,{initialProps:n,children:d.jsx($re,{children:d.jsx(ese,{children:e})})})})})})})}function xse(t){return d.jsx(Ese,Oe({},t,{children:d.jsx(bse,{initialProps:t})}))}function xF({className:t,classNames:e,showOutsideDays:n=!0,...r}){return d.jsx(xse,{showOutsideDays:n,className:me("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:me(pf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:me(pf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>d.jsx(r3,{className:"h-4 w-4"}),IconRight:({...s})=>d.jsx(RN,{className:"h-4 w-4"})},...r})}xF.displayName="Calendar";var zS="Popover",[SF,Kfe]=jr(zS,[va]),yh=va(),[Sse,Sa]=SF(zS),CF=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=yh(e),l=y.useRef(null),[c,u]=y.useState(!1),[h=!1,p]=Li({prop:r,defaultProp:s,onChange:i});return d.jsx(ix,{...a,children:d.jsx(Sse,{scope:e,contentId:ps(),triggerRef:l,open:h,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:c,onCustomAnchorAdd:y.useCallback(()=>u(!0),[]),onCustomAnchorRemove:y.useCallback(()=>u(!1),[]),modal:o,children:n})})};CF.displayName=zS;var TF="PopoverAnchor",Cse=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Sa(TF,n),i=yh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(Qf,{...i,...r,ref:e})});Cse.displayName=TF;var AF="PopoverTrigger",RF=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Sa(AF,n),i=yh(n),o=et(e,s.triggerRef),a=d.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":NF(s.open),...r,ref:o,onClick:fe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(Qf,{asChild:!0,...i,children:a})});RF.displayName=AF;var HS="PopoverPortal",[Tse,Ase]=SF(HS,{forceMount:void 0}),IF=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Sa(HS,e);return d.jsx(Tse,{scope:e,forceMount:n,children:d.jsx(wr,{present:n||i.open,children:d.jsx(Cu,{asChild:!0,container:s,children:r})})})};IF.displayName=HS;var yu="PopoverContent",kF=y.forwardRef((t,e)=>{const n=Ase(yu,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Sa(yu,t.__scopePopover);return d.jsx(wr,{present:r||i.open,children:i.modal?d.jsx(Rse,{...s,ref:e}):d.jsx(Ise,{...s,ref:e})})});kF.displayName=yu;var Rse=y.forwardRef((t,e)=>{const n=Sa(yu,t.__scopePopover),r=y.useRef(null),s=et(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return Cv(o)},[]),d.jsx(Xf,{as:ti,allowPinchZoom:!0,children:d.jsx(DF,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ise=y.forwardRef((t,e)=>{const n=Sa(yu,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return d.jsx(DF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),DF=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...h}=t,p=Sa(yu,n),m=yh(n);return xv(),d.jsx(Yf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:d.jsx(wv,{"data-state":NF(p.open),role:"dialog",id:p.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PF="PopoverClose",kse=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Sa(PF,n);return d.jsx(Me.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});kse.displayName=PF;var Dse="PopoverArrow",Pse=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=yh(n);return d.jsx(_v,{...s,...r,ref:e})});Pse.displayName=Dse;function NF(t){return t?"open":"closed"}var Nse=CF,Mse=RF,Ose=IF,MF=kF;const jse=Nse,Lse=Mse,OF=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>d.jsx(Ose,{children:d.jsx(MF,{ref:s,align:e,sideOffset:n,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));OF.displayName=MF.displayName;const Vse=()=>{const[t,e]=y.useState(new Date),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(""),[u,h]=y.useState(!1),[p,m]=y.useState("+55"),{services:w}=cS(),{employees:g}=b2(),{availableTimes:b}=NY(o,t,s,w),_=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),v=N=>{const k=N.replace(/\D/g,""),D=k.length===10||k.length===11;return h(D),D},x=N=>{let k=N.target.value.replace(/\D/g,"");k.length<=11&&(k=k.replace(/^(\d{2})(\d)/g,"($1) $2"),k=k.replace(/(\d)(\d{4})$/,"$1-$2"),c(k),h(!0))},A=()=>{v(l)},P=(N,k)=>`${k.replace("+","")+N.replace(/\D/g,"")}@s.whatsapp.net`;y.useEffect(()=>{a("")},[s]);const O=async N=>{N.preventDefault();const k=P(l,p);try{const D=bs(gn,"calendar"),ae=(await ii(D)).docs.find(ie=>ie.id===o);if(!ae)throw new Error("Funcionrio no encontrado");const te=ae.data(),K=t.toISOString().split("T")[0].replace(/-/g,"/"),F=te.calendar.findIndex(ie=>ie.day===K);if(F===-1)throw new Error("Data no encontrada");const j=w.find(ie=>ie.name===s),Q=(j==null?void 0:j.service_duration)||1,se=te.calendar[F].day_time.findIndex(ie=>ie.hour.trim()===n);if(se===-1)throw new Error("Horrio no encontrado");const q=[...te.calendar],J=_();for(let ie=0;ie<Q;ie++){const Ee=q[F].day_time[se+ie];Ee&&(Ee.appointment_id=J,Ee.client_id=k,Ee.service=s)}await Hb(Ii(gn,"calendar",ae.id),{calendar:q}),alert("Agendamento realizado com sucesso!"),e(new Date),r(""),i(""),a(""),c("")}catch(D){console.error("Erro ao realizar agendamento:",D),alert("Erro ao realizar agendamento. Por favor, tente novamente.")}},T=[],S=9,R=19,I=15;for(let N=S;N<=R;N++)for(let k=0;k<60;k+=I){const D=`${N.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`;T.push({time:D,date:new Date(new Date().setHours(N,k,0,0))})}return d.jsxs("div",{className:"animate-fade-in max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"font-display text-4xl font-bold text-gray-200 mb-4",children:"Agendamento"}),d.jsx("p",{className:"text-xl text-gray-400",children:"Agende seu horrio conosco"})]}),d.jsxs("form",{onSubmit:O,className:"space-y-8",children:[d.jsxs("div",{className:"grid gap-6",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Data do Agendamento:"}),d.jsxs(jse,{children:[d.jsx(Lse,{asChild:!0,children:d.jsxs(Dt,{variant:"outline",className:me("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[d.jsx(KE,{className:"mr-2 h-4 w-4"}),t?ms(t,"PPP",{locale:P2}):d.jsx("span",{children:"Selecione uma data"})]})}),d.jsx(OF,{className:"w-auto p-0",children:d.jsx(xF,{mode:"single",selected:t,onSelect:N=>{N&&e(N)},initialFocus:!0,fromDate:new Date,disabled:N=>N.getDay()===0})})]})]}),d.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Nmero de telefone:"}),d.jsxs("div",{className:"flex",children:[d.jsxs($d,{value:p,onValueChange:m,children:[d.jsx(Ic,{className:"w-[100px] rounded-r-none",children:d.jsx(zd,{placeholder:"Pas"})}),d.jsxs(kc,{children:[d.jsx(Do,{value:"+55",children:" +55"}),d.jsx(Do,{value:"+1",children:" +1"})]})]}),d.jsx(lr,{placeholder:"(00) 00000-0000",value:l,onChange:x,onBlur:A,maxLength:15,className:me("flex-1 rounded-l-none border-l-0",l&&!u&&"border-red-500 focus-visible:ring-red-500")})]}),l&&!u&&d.jsx("p",{className:"text-sm text-red-500",children:"Digite um nmero de telefone vlido"})]})]}),d.jsxs("div",{className:"flex justify-between gap-2",children:[d.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Servio:"}),d.jsxs($d,{onValueChange:i,value:s,children:[d.jsx(Ic,{children:d.jsx(zd,{placeholder:"Selecione um servio"})}),d.jsx(kc,{children:w.map(N=>d.jsx(Do,{value:N.name,children:N.name},N.service_id))})]})]}),d.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Profissional:"}),d.jsxs($d,{onValueChange:a,value:o,disabled:!s,children:[d.jsx(Ic,{children:d.jsx(zd,{placeholder:"Selecione um profissional"})}),d.jsx(kc,{children:g.flatMap(N=>N.employees.filter(k=>k.services.includes(s)).map(k=>d.jsx(Do,{value:k.employee_name,children:k.employee_name},k.employee_id)))})]})]})]}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Horrio:"}),d.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:T.map(({time:N,date:k})=>{const ae=ms(t,"yyyy-MM-dd")===ms(new Date,"yyyy-MM-dd")&&k<new Date,te=!b[N];return d.jsx(Dt,{type:"button",variant:n===N?"default":"outline",className:me("w-full",te&&"bg-gray-200 text-gray-400 cursor-not-allowed"),onClick:()=>r(N),disabled:ae||te,children:N},N)})})]})]}),d.jsx(Dt,{type:"submit",className:"w-full",disabled:!t||!n||!s||!o||!l||!u,children:"Confirmar Agendamento"})]})]})},hy=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));hy.displayName="Card";const py=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",t),...e}));py.displayName="CardHeader";const my=y.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",t),...e}));my.displayName="CardTitle";const jF=y.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",t),...e}));jF.displayName="CardDescription";const gy=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:me("p-6 pt-0",t),...e}));gy.displayName="CardContent";const Fse=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",t),...e}));Fse.displayName="CardFooter";function Use(t){return Object.prototype.toString.call(t)==="[object Object]"}function xk(t){return Use(t)||Array.isArray(t)}function Bse(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function WS(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!xk(a)||!xk(l)?a===l:WS(a,l)})}function Sk(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function $se(t,e){if(t.length!==e.length)return!1;const n=Sk(t),r=Sk(e);return n.every((s,i)=>{const o=r[i];return WS(s,o)})}function qS(t){return typeof t=="number"}function w0(t){return typeof t=="string"}function vy(t){return typeof t=="boolean"}function Ck(t){return Object.prototype.toString.call(t)==="[object Object]"}function Nt(t){return Math.abs(t)}function GS(t){return Math.sign(t)}function Hd(t,e){return Nt(t-e)}function zse(t,e){if(t===0||e===0||Nt(t)<=Nt(e))return 0;const n=Hd(Nt(t),Nt(e));return Nt(n/t)}function Hse(t){return Math.round(t*100)/100}function Mf(t){return Of(t).map(Number)}function gs(t){return t[wh(t)]}function wh(t){return Math.max(0,t.length-1)}function KS(t,e){return e===wh(t)}function Tk(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Of(t){return Object.keys(t)}function LF(t,e){return[t,e].reduce((n,r)=>(Of(r).forEach(s=>{const i=n[s],o=r[s],a=Ck(i)&&Ck(o);n[s]=a?LF(i,o):o}),n),{})}function _0(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Wse(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return w0(t)?n[t](l):t(e,l,c)}return{measure:o}}function jf(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function qse(t,e,n,r){const s=jf(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&w()})}function u(){m(),s.clear()}function h(b){if(!l)return;o||(o=b,n(),n());const _=b-o;for(o=b,a+=_;a>=i;)n(),a-=i;const v=a/i;r(v),l&&(l=e.requestAnimationFrame(h))}function p(){l||(l=e.requestAnimationFrame(h))}function m(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function w(){o=null,a=0}return{init:c,destroy:u,start:p,stop:m,update:n,render:r}}function Gse(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=u(),l=h();function c(w){const{height:g,width:b}=w;return r?g:b}function u(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function p(w){return w*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:p}}function _l(t=0,e=0){const n=Nt(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function VF(t,e,n){const{constrain:r}=_l(0,t),s=t+1;let i=o(e);function o(p){return n?Nt((s+p)%s):r(p)}function a(){return i}function l(p){return i=o(p),h}function c(p){return u().set(a()+p)}function u(){return VF(t,a(),n)}const h={get:a,set:l,add:c,clone:u};return h}function Kse(t,e,n,r,s,i,o,a,l,c,u,h,p,m,w,g,b,_,v){const{cross:x,direction:A}=t,P=["INPUT","SELECT","TEXTAREA"],O={passive:!1},T=jf(),S=jf(),R=_l(50,225).constrain(m.measure(20)),I={mouse:300,touch:400},N={mouse:500,touch:600},k=w?43:25;let D=!1,G=0,ae=0,te=!1,K=!1,F=!1,j=!1;function Q(ne){if(!v)return;function Re(Ze){(vy(v)||v(ne,Ze))&&$(Ze)}const Fe=e;T.add(Fe,"dragstart",Ze=>Ze.preventDefault(),O).add(Fe,"touchmove",()=>{},O).add(Fe,"touchend",()=>{}).add(Fe,"touchstart",Re).add(Fe,"mousedown",Re).add(Fe,"touchcancel",ye).add(Fe,"contextmenu",ye).add(Fe,"click",Se,!0)}function se(){T.clear(),S.clear()}function q(){const ne=j?n:e;S.add(ne,"touchmove",H,O).add(ne,"touchend",ye).add(ne,"mousemove",H,O).add(ne,"mouseup",ye)}function J(ne){const Re=ne.nodeName||"";return P.includes(Re)}function ie(){return(w?N:I)[j?"mouse":"touch"]}function Ee(ne,Re){const Fe=h.add(GS(ne)*-1),Ze=u.byDistance(ne,!w).distance;return w||Nt(ne)<R?Ze:b&&Re?Ze*.5:u.byIndex(Fe.get(),0).distance}function $(ne){const Re=_0(ne,r);j=Re,F=w&&Re&&!ne.buttons&&D,D=Hd(s.get(),o.get())>=2,!(Re&&ne.button!==0)&&(J(ne.target)||(te=!0,i.pointerDown(ne),c.useFriction(0).useDuration(0),s.set(o),q(),G=i.readPoint(ne),ae=i.readPoint(ne,x),p.emit("pointerDown")))}function H(ne){if(!_0(ne,r)&&ne.touches.length>=2)return ye(ne);const Fe=i.readPoint(ne),Ze=i.readPoint(ne,x),Ke=Hd(Fe,G),bt=Hd(Ze,ae);if(!K&&!j&&(!ne.cancelable||(K=Ke>bt,!K)))return ye(ne);const L=i.pointerMove(ne);Ke>g&&(F=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(A(L)),ne.preventDefault()}function ye(ne){const Fe=u.byDistance(0,!1).index!==h.get(),Ze=i.pointerUp(ne)*ie(),Ke=Ee(A(Ze),Fe),bt=zse(Ze,Ke),L=k-10*bt,U=_+bt/50;K=!1,te=!1,S.clear(),c.useDuration(L).useFriction(U),l.distance(Ke,!w),j=!1,p.emit("pointerUp")}function Se(ne){F&&(ne.stopPropagation(),ne.preventDefault(),F=!1)}function xe(){return te}return{init:Q,destroy:se,pointerDown:xe}}function Qse(t,e){let r,s;function i(h){return h.timeStamp}function o(h,p){const w=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(_0(h,e)?h:h.touches[0])[w]}function a(h){return r=h,s=h,o(h)}function l(h){const p=o(h)-o(s),m=i(h)-i(r)>170;return s=h,m&&(r=h),p}function c(h){if(!r||!s)return 0;const p=o(s)-o(r),m=i(h)-i(r),w=i(h)-i(s)>170,g=p/m;return m&&!w&&Nt(g)>.1?g:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function Yse(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function Zse(t){function e(r){return t*(r/100)}return{measure:e}}function Xse(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,u=[],h=!1;function p(b){return s.measureSize(o.measure(b))}function m(b){if(!i)return;c=p(t),u=r.map(p);function _(v){for(const x of v){if(h)return;const A=x.target===t,P=r.indexOf(x.target),O=A?c:u[P],T=p(A?t:r[P]);if(Nt(T-O)>=.5){b.reInit(),e.emit("resize");break}}}l=new ResizeObserver(v=>{(vy(i)||i(b,v))&&_(v)}),n.requestAnimationFrame(()=>{a.forEach(v=>l.observe(v))})}function w(){h=!0,l&&l.disconnect()}return{init:m,destroy:w}}function Jse(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,u=t.get(),h=0;function p(){const O=r.get()-t.get(),T=!l;let S=0;return T?(o=0,n.set(r),t.set(r),S=O):(n.set(t),o+=O/l,o*=c,u+=o,t.add(o),S=u-h),a=GS(S),h=u,P}function m(){const O=r.get()-e.get();return Nt(O)<.001}function w(){return l}function g(){return a}function b(){return o}function _(){return x(s)}function v(){return A(i)}function x(O){return l=O,P}function A(O){return c=O,P}const P={direction:g,duration:w,velocity:b,seek:p,settled:m,useBaseFriction:v,useBaseDuration:_,useFriction:A,useDuration:x};return P}function eie(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=_l(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(m){if(!c())return;const w=t.reachedMin(e.get())?"min":"max",g=Nt(t[w]-e.get()),b=n.get()-e.get(),_=a.constrain(g/o);n.subtract(b*_),!m&&Nt(b)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(m){l=!m}return{shouldConstrain:c,constrain:u,toggleActive:h}}function tie(t,e,n,r,s){const i=_l(-e+t,0),o=h(),a=u(),l=p();function c(w,g){return Hd(w,g)<=1}function u(){const w=o[0],g=gs(o),b=o.lastIndexOf(w),_=o.indexOf(g)+1;return _l(b,_)}function h(){return n.map((w,g)=>{const{min:b,max:_}=i,v=i.constrain(w),x=!g,A=KS(n,g);return x?_:A||c(b,v)?b:c(_,v)?_:v}).map(w=>parseFloat(w.toFixed(3)))}function p(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:w,max:g}=a;return o.slice(w,g)}return{snapsContained:l,scrollContainLimit:a}}function nie(t,e,n){const r=e[0],s=n?r-t:gs(e);return{limit:_l(s,r)}}function rie(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=_l(i,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function u(p){if(!c(p))return;const m=t*(p*-1);r.forEach(w=>w.add(m))}return{loop:u}}function sie(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function iie(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=h().map(e.measure),c=p(),u=m();function h(){return a(r).map(g=>gs(g)[o]-g[0][i]).map(Nt)}function p(){return r.map(g=>n[i]-g[i]).map(g=>-Nt(g))}function m(){return a(c).map(g=>g[0]).map((g,b)=>g+l[b])}return{snaps:c,snapsAligned:u}}function oie(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=u();function u(){const p=o(i),m=!t||e==="keepSnaps";return n.length===1?[i]:m?p:p.slice(a,l).map((w,g,b)=>{const _=!g,v=KS(b,g);if(_){const x=gs(b[0])+1;return Tk(x)}if(v){const x=wh(i)-gs(b)[0]+1;return Tk(x,gs(b)[0])}return w})}return{slideRegistry:c}}function aie(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(w){return w.concat().sort((g,b)=>Nt(g)-Nt(b))[0]}function c(w){const g=t?o(w):a(w),b=e.map((v,x)=>({diff:u(v-g,0),index:x})).sort((v,x)=>Nt(v.diff)-Nt(x.diff)),{index:_}=b[0];return{index:_,distance:g}}function u(w,g){const b=[w,w+n,w-n];if(!t)return w;if(!g)return l(b);const _=b.filter(v=>GS(v)===g);return _.length?l(_):gs(b)-n}function h(w,g){const b=e[w]-s.get(),_=u(b,g);return{index:w,distance:_}}function p(w,g){const b=s.get()+w,{index:_,distance:v}=c(b),x=!t&&i(b);if(!g||x)return{index:_,distance:w};const A=e[_]-v,P=w+u(A,0);return{index:_,distance:P}}return{byDistance:p,byIndex:h,shortcut:u}}function lie(t,e,n,r,s,i,o){function a(h){const p=h.distance,m=h.index!==e.get();i.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function l(h,p){const m=s.byDistance(h,p);a(m)}function c(h,p){const m=e.clone().set(h),w=s.byIndex(m.get(),p);a(w)}return{distance:l,index:c}}function cie(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function u(m){if(!a)return;function w(g){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const v=n.findIndex(x=>x.includes(g));qS(v)&&(s.useDuration(0),r.index(v,0),o.emit("slideFocus"))}i.add(document,"keydown",h,!1),e.forEach((g,b)=>{i.add(g,"focus",_=>{(vy(a)||a(m,_))&&w(b)},l)})}function h(m){m.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function xd(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return qS(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function FF(t,e){const n=t.scroll==="x"?o:a,r=e.style;let s=null,i=!1;function o(p){return`translate3d(${p}px,0px,0px)`}function a(p){return`translate3d(0px,${p}px,0px)`}function l(p){if(i)return;const m=Hse(t.direction(p));m!==s&&(r.transform=n(m),s=m)}function c(p){i=!p}function u(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function uie(t,e,n,r,s,i,o,a,l){const u=Mf(s),h=Mf(s).reverse(),p=_().concat(v());function m(T,S){return T.reduce((R,I)=>R-s[I],S)}function w(T,S){return T.reduce((R,I)=>m(R,S)>0?R.concat([I]):R,[])}function g(T){return i.map((S,R)=>({start:S-r[R]+.5+T,end:S+e-.5+T}))}function b(T,S,R){const I=g(S);return T.map(N=>{const k=R?0:-n,D=R?n:0,G=R?"end":"start",ae=I[N][G];return{index:N,loopPoint:ae,slideLocation:xd(-1),translate:FF(t,l[N]),target:()=>a.get()>ae?k:D}})}function _(){const T=o[0],S=w(h,T);return b(S,n,!1)}function v(){const T=e-o[0]-1,S=w(u,T);return b(S,-n,!0)}function x(){return p.every(({index:T})=>{const S=u.filter(R=>R!==T);return m(S,e)<=.1})}function A(){p.forEach(T=>{const{target:S,translate:R,slideLocation:I}=T,N=S();N!==I.get()&&(R.to(N),I.set(N))})}function P(){p.forEach(T=>T.translate.clear())}return{canLoop:x,clear:P,loop:A,loopPoints:p}}function die(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(u){for(const h of u)if(h.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{s||(vy(n)||n(l,u))&&c(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function fie(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(w=>{l||(w.forEach(g=>{const b=e.indexOf(g.target);s[b]=g}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(w=>a.observe(w))}function u(){a&&a.disconnect(),l=!0}function h(w){return Of(s).reduce((g,b)=>{const _=parseInt(b),{isIntersecting:v}=s[_];return(w&&v||!w&&!v)&&g.push(_),g},[])}function p(w=!0){if(w&&i)return i;if(!w&&o)return o;const g=h(w);return w&&(i=g),w||(o=g),g}return{init:c,destroy:u,get:p}}function hie(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,u=w(),h=g(),p=n.map(o),m=b();function w(){if(!c)return 0;const v=n[0];return Nt(e[a]-v[a])}function g(){if(!c)return 0;const v=i.getComputedStyle(gs(r));return parseFloat(v.getPropertyValue(`margin-${l}`))}function b(){return n.map((v,x,A)=>{const P=!x,O=KS(A,x);return P?p[x]+u:O?p[x]+h:A[x+1][a]-v[a]}).map(Nt)}return{slideSizes:p,slideSizesWithGaps:m,startGap:u,endGap:h}}function pie(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:u,direction:h}=t,p=qS(n);function m(_,v){return Mf(_).filter(x=>x%v===0).map(x=>_.slice(x,x+v))}function w(_){return _.length?Mf(_).reduce((v,x,A)=>{const P=gs(v)||0,O=P===0,T=x===wh(_),S=s[c]-i[P][c],R=s[c]-i[x][u],I=!r&&O?h(o):0,N=!r&&T?h(a):0,k=Nt(R-N-(S+I));return A&&k>e+l&&v.push(x),T&&v.push(_.length),v},[]).map((v,x,A)=>{const P=Math.max(A[x-1]||0);return _.slice(P,v)}):[]}function g(_){return p?m(_,n):w(_)}return{groupSlides:g}}function mie(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:u,loop:h,duration:p,dragFree:m,dragThreshold:w,inViewThreshold:g,slidesToScroll:b,skipSnaps:_,containScroll:v,watchResize:x,watchSlides:A,watchDrag:P,watchFocus:O}=i,T=2,S=Yse(),R=S.measure(e),I=n.map(S.measure),N=Gse(l,c),k=N.measureSize(R),D=Zse(k),G=Wse(a,k),ae=!h&&!!v,te=h||!!v,{slideSizes:K,slideSizesWithGaps:F,startGap:j,endGap:Q}=hie(N,R,I,n,te,s),se=pie(N,k,b,h,R,I,j,Q,T),{snaps:q,snapsAligned:J}=iie(N,G,R,I,se),ie=-gs(q)+gs(F),{snapsContained:Ee,scrollContainLimit:$}=tie(k,ie,J,v,T),H=ae?Ee:J,{limit:ye}=nie(ie,H,h),Se=VF(wh(H),u,h),xe=Se.clone(),ge=Mf(n),ne=({dragHandler:sn,scrollBody:Yr,scrollBounds:Kn,options:{loop:Qn}})=>{Qn||Kn.constrain(sn.pointerDown()),Yr.seek()},Re=({scrollBody:sn,translate:Yr,location:Kn,offsetLocation:Qn,previousLocation:_r,scrollLooper:Zr,slideLooper:As,dragHandler:Uu,animation:Ta,eventHandler:to,scrollBounds:Aa,options:{loop:Rs}},Is)=>{const jn=sn.settled(),Xr=!Aa.shouldConstrain(),Ne=Rs?jn:jn&&Xr;Ne&&!Uu.pointerDown()&&(Ta.stop(),to.emit("settle")),Ne||to.emit("scroll");const tt=Kn.get()*Is+_r.get()*(1-Is);Qn.set(tt),Rs&&(Zr.loop(sn.direction()),As.loop()),Yr.to(Qn.get())},Fe=qse(r,s,()=>ne(Ts),sn=>Re(Ts,sn)),Ze=.68,Ke=H[Se.get()],bt=xd(Ke),L=xd(Ke),U=xd(Ke),z=xd(Ke),ue=Jse(bt,U,L,z,p,Ze),de=aie(h,H,ie,ye,z),oe=lie(Fe,Se,xe,ue,de,z,o),Ce=sie(ye),Ue=jf(),De=fie(e,n,o,g),{slideRegistry:ze}=oie(ae,v,H,$,se,ge),cn=cie(t,n,ze,oe,ue,Ue,o,O),Ts={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:R,slideRects:I,animation:Fe,axis:N,dragHandler:Kse(N,t,r,s,z,Qse(N,s),bt,Fe,oe,ue,de,Se,o,D,m,w,_,Ze,P),eventStore:Ue,percentOfView:D,index:Se,indexPrevious:xe,limit:ye,location:bt,offsetLocation:U,previousLocation:L,options:i,resizeHandler:Xse(e,o,s,n,N,x,S),scrollBody:ue,scrollBounds:eie(ye,U,z,ue,D),scrollLooper:rie(ie,ye,U,[bt,U,L,z]),scrollProgress:Ce,scrollSnapList:H.map(Ce.get),scrollSnaps:H,scrollTarget:de,scrollTo:oe,slideLooper:uie(N,k,ie,K,F,q,H,U,n),slideFocus:cn,slidesHandler:die(e,o,A),slidesInView:De,slideIndexes:ge,slideRegistry:ze,slidesToScroll:se,target:z,translate:FF(N,e)};return Ts}function gie(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(u=>u(e,c)),l}function i(c,u){return t[c]=r(c).concat([u]),l}function o(c,u){return t[c]=r(c).filter(h=>h!==u),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const vie={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function yie(t){function e(i,o){return LF(i,o||{})}function n(i){const o=i.breakpoints||{},a=Of(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>Of(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function wie(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function Ng(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=yie(s),o=wie(i),a=jf(),l=gie(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:h}=i,{on:p,off:m,emit:w}=l,g=N;let b=!1,_,v=c(vie,Ng.globalOptions),x=c(v),A=[],P,O,T;function S(){const{container:ge,slides:ne}=x;O=(w0(ge)?t.querySelector(ge):ge)||t.children[0];const Fe=w0(ne)?O.querySelectorAll(ne):ne;T=[].slice.call(Fe||O.children)}function R(ge){const ne=mie(t,O,T,r,s,ge,l);if(ge.loop&&!ne.slideLooper.canLoop()){const Re=Object.assign({},ge,{loop:!1});return R(Re)}return ne}function I(ge,ne){b||(v=c(v,ge),x=u(v),A=ne||A,S(),_=R(x),h([v,...A.map(({options:Re})=>Re)]).forEach(Re=>a.add(Re,"change",N)),x.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(xe),_.eventHandler.init(xe),_.resizeHandler.init(xe),_.slidesHandler.init(xe),_.options.loop&&_.slideLooper.loop(),O.offsetParent&&T.length&&_.dragHandler.init(xe),P=o.init(xe,A)))}function N(ge,ne){const Re=se();k(),I(c({startIndex:Re},ge),ne),l.emit("reInit")}function k(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),a.clear()}function D(){b||(b=!0,a.clear(),k(),l.emit("destroy"),l.clear())}function G(ge,ne,Re){!x.active||b||(_.scrollBody.useBaseFriction().useDuration(ne===!0?0:x.duration),_.scrollTo.index(ge,Re||0))}function ae(ge){const ne=_.index.add(1).get();G(ne,ge,-1)}function te(ge){const ne=_.index.add(-1).get();G(ne,ge,1)}function K(){return _.index.add(1).get()!==se()}function F(){return _.index.add(-1).get()!==se()}function j(){return _.scrollSnapList}function Q(){return _.scrollProgress.get(_.location.get())}function se(){return _.index.get()}function q(){return _.indexPrevious.get()}function J(){return _.slidesInView.get()}function ie(){return _.slidesInView.get(!1)}function Ee(){return P}function $(){return _}function H(){return t}function ye(){return O}function Se(){return T}const xe={canScrollNext:K,canScrollPrev:F,containerNode:ye,internalEngine:$,destroy:D,off:m,on:p,emit:w,plugins:Ee,previousScrollSnap:q,reInit:g,rootNode:H,scrollNext:ae,scrollPrev:te,scrollProgress:Q,scrollSnapList:j,scrollTo:G,selectedScrollSnap:se,slideNodes:Se,slidesInView:J,slidesNotInView:ie};return I(e,n),setTimeout(()=>l.emit("init"),0),xe}Ng.globalOptions=void 0;function QS(t={},e=[]){const n=y.useRef(t),r=y.useRef(e),[s,i]=y.useState(),[o,a]=y.useState(),l=y.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return y.useEffect(()=>{WS(n.current,t)||(n.current=t,l())},[t,l]),y.useEffect(()=>{$se(r.current,e)||(r.current=e,l())},[e,l]),y.useEffect(()=>{if(Bse()&&o){Ng.globalOptions=QS.globalOptions;const c=Ng(o,n.current,r.current);return i(c),()=>c.destroy()}else i(void 0)},[o,i]),[a,s]}QS.globalOptions=void 0;const UF=y.createContext(null);function yy(){const t=y.useContext(UF);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const BF=y.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...o},a)=>{const[l,c]=QS({...e,axis:t==="horizontal"?"x":"y"},r),[u,h]=y.useState(!1),[p,m]=y.useState(!1),w=y.useCallback(v=>{v&&(h(v.canScrollPrev()),m(v.canScrollNext()))},[]),g=y.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=y.useCallback(()=>{c==null||c.scrollNext()},[c]),_=y.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),g()):v.key==="ArrowRight"&&(v.preventDefault(),b())},[g,b]);return y.useEffect(()=>{!c||!n||n(c)},[c,n]),y.useEffect(()=>{if(c)return w(c),c.on("reInit",w),c.on("select",w),()=>{c==null||c.off("select",w)}},[c,w]),d.jsx(UF.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:b,canScrollPrev:u,canScrollNext:p},children:d.jsx("div",{ref:a,onKeyDownCapture:_,className:me("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});BF.displayName="Carousel";const $F=y.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=yy();return d.jsx("div",{ref:r,className:"overflow-hidden",children:d.jsx("div",{ref:n,className:me("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});$F.displayName="CarouselContent";const zF=y.forwardRef(({className:t,...e},n)=>{const{orientation:r}=yy();return d.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:me("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});zF.displayName="CarouselItem";const HF=y.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:a}=yy();return d.jsxs(Dt,{ref:s,variant:e,size:n,className:me("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[d.jsx(JH,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Previous slide"})]})});HF.displayName="CarouselPrevious";const WF=y.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:o,canScrollNext:a}=yy();return d.jsxs(Dt,{ref:s,variant:e,size:n,className:me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[d.jsx(GE,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Next slide"})]})});WF.displayName="CarouselNext";function _ie(){const t=["/placeholder.svg","/placeholder.svg","/placeholder.svg"],e=[{icon:m3,label:"Free Wi-Fi"},{icon:n3,label:"Parking Available"},{icon:XH,label:"Accessible"},{icon:e3,label:"Kids Haircuts"}];return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Classic Cuts Barbershop"}),d.jsxs("div",{className:"flex items-center gap-1 text-primary mb-4",children:[[1,2,3,4,5].map(n=>d.jsx(h3,{className:"w-4 h-4 fill-current"},n)),d.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"(128 reviews)"})]}),d.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:"Classic Cuts is your premier destination for traditional and modern grooming services. Our skilled barbers combine time-honored techniques with contemporary styles to deliver the perfect cut every time."})]}),d.jsx(vu,{to:"/book",className:"bg-primary text-white px-6 py-3 rounded-md font-semibold",children:"Book Appointment"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"w-full",children:[d.jsxs(BF,{className:"w-full",children:[d.jsx($F,{children:t.map((n,r)=>d.jsx(zF,{children:d.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg",children:d.jsx("img",{src:n,alt:`Barbershop image ${r+1}`,className:"w-full h-full object-cover"})})},r))}),d.jsx(HF,{}),d.jsx(WF,{})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 my-8",children:e.map(n=>d.jsxs("div",{className:"flex flex-col text-center justify-center items-center gap-3 p-4 border rounded-lg",children:[d.jsx(n.icon,{className:"w-7 h-7 text-primary"}),d.jsx("span",{className:"font-medium",children:n.label})]},n.label))})]}),d.jsxs(hy,{children:[d.jsx(py,{children:d.jsx(my,{children:"Contact Information"})}),d.jsxs(gy,{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(pb,{className:"w-5 h-5 text-muted-foreground mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Address"}),d.jsxs("p",{className:"text-muted-foreground",children:["123 Main Street",d.jsx("br",{}),"New York, NY 10001"]})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Dm,{className:"w-5 h-5 text-muted-foreground mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Opening Hours"}),d.jsxs("p",{className:"text-muted-foreground",children:["Monday - Friday: 9:00 AM - 8:00 PM",d.jsx("br",{}),"Saturday: 10:00 AM - 6:00 PM",d.jsx("br",{}),"Sunday: Closed"]})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(o3,{className:"w-5 h-5 text-muted-foreground mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Payment Methods"}),d.jsx("p",{className:"text-muted-foreground",children:"Credit Card, Debit Card, Cash"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(d3,{className:"w-5 h-5 text-muted-foreground mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Contact"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-muted-foreground",children:"+1 (555) 123-4567"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:d.jsx(l3,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:d.jsx(a3,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:d.jsx(u3,{className:"w-5 h-5"})})]})]})]})]})]})]})]})]})}var YS="Tabs",[bie,Qfe]=jr(YS,[cy]),qF=cy(),[Eie,ZS]=bie(YS),GF=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Jv(a),[h,p]=Li({prop:r,onChange:s,defaultProp:i});return d.jsx(Eie,{scope:n,baseId:ps(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(Me.div,{dir:u,"data-orientation":o,...c,ref:e})})});GF.displayName=YS;var KF="TabsList",QF=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=ZS(KF,n),o=qF(n);return d.jsx(mV,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});QF.displayName=KF;var YF="TabsTrigger",ZF=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=ZS(YF,n),a=qF(n),l=e4(o.baseId,r),c=t4(o.baseId,r),u=r===o.value;return d.jsx(gV,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(Me.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:fe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});ZF.displayName=YF;var XF="TabsContent",JF=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=ZS(XF,n),l=e4(a.baseId,r),c=t4(a.baseId,r),u=r===a.value,h=y.useRef(u);return y.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(wr,{present:s||u,children:({present:p})=>d.jsx(Me.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});JF.displayName=XF;function e4(t,e){return`${t}-trigger-${e}`}function t4(t,e){return`${t}-content-${e}`}var xie=GF,n4=QF,r4=ZF,s4=JF;const XS=xie,wy=y.forwardRef(({className:t,...e},n)=>d.jsx(n4,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wy.displayName=n4.displayName;const No=y.forwardRef(({className:t,...e},n)=>d.jsx(r4,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));No.displayName=r4.displayName;const Mo=y.forwardRef(({className:t,...e},n)=>d.jsx(s4,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Mo.displayName=s4.displayName;const Sie=()=>{const t=[{id:"services",name:"Services",icon:Pm,content:d.jsxs("div",{className:"py-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Servios"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"p-6 border rounded-lg",children:[d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Haircut"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Classic or modern cuts tailored to your style"}),d.jsx("p",{className:"font-semibold",children:"$30"})]}),d.jsxs("div",{className:"p-6 border rounded-lg",children:[d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Beard Trim"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Professional beard grooming and styling"}),d.jsx("p",{className:"font-semibold",children:"$20"})]})]})]})},{id:"book",name:"Book Now",icon:Dm,content:d.jsxs("div",{className:"py-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Book an Appointmeneqwdast"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Choose your preferred service and time slot to book your appointment."}),d.jsx(Dt,{children:"Schedule Now"})]})},{id:"location",name:"Find Us",icon:pb,content:d.jsxs("div",{className:"py-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Our Location"}),d.jsx("div",{className:"aspect-video w-full rounded-lg bg-muted flex items-center justify-center",children:"Map will be displayed here"})]})}];return d.jsxs("div",{className:"animate-fade-in",children:[d.jsx(_ie,{}),d.jsx("div",{className:"border-t border-border mt-8",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs(XS,{defaultValue:"services",className:"w-full",children:[d.jsx(wy,{className:"flex justify-center w-full h-16 bg-transparent",children:t.map(e=>d.jsxs(No,{value:e.id,className:"flex items-center space-x-2 px-6",children:[d.jsx(e.icon,{className:"w-4 h-4"}),d.jsx("span",{children:e.name})]},e.id))}),t.map(e=>d.jsx(Mo,{value:e.id,className:"mt-6",children:e.content},e.id))]})})}),d.jsx("section",{className:"bg-background py-24",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"text-center p-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:d.jsx(Pm,{className:"h-6 w-6 text-primary"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Expert Stylists"}),d.jsx("p",{className:"text-muted-foreground",children:"Our master barbers bring years of experience and expertise to every cut."})]}),d.jsxs("div",{className:"text-center p-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:d.jsx(Dm,{className:"h-6 w-6 text-primary"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Flexible Hours"}),d.jsx("p",{className:"text-muted-foreground",children:"Open early and late to accommodate your busy schedule."})]}),d.jsxs("div",{className:"text-center p-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:d.jsx(pb,{className:"h-6 w-6 text-primary"})}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Prime Location"}),d.jsx("p",{className:"text-muted-foreground",children:"Conveniently located in the heart of New York City."})]})]})})})]})},Cie=()=>{const t=Vu();return d.jsxs("div",{className:"container max-w-md mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Login"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Entre com suas credenciais para acessar sua conta"}),d.jsx(iL,{onSuccess:()=>t("/")})]})};var i4="AlertDialog",[Tie,Yfe]=jr(i4,[TM]),Xi=TM(),o4=t=>{const{__scopeAlertDialog:e,...n}=t,r=Xi(e);return d.jsx($M,{...r,...n,modal:!0})};o4.displayName=i4;var Aie="AlertDialogTrigger",a4=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xi(n);return d.jsx(zM,{...s,...r,ref:e})});a4.displayName=Aie;var Rie="AlertDialogPortal",l4=t=>{const{__scopeAlertDialog:e,...n}=t,r=Xi(e);return d.jsx(HM,{...r,...n})};l4.displayName=Rie;var Iie="AlertDialogOverlay",c4=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xi(n);return d.jsx(dx,{...s,...r,ref:e})});c4.displayName=Iie;var Dc="AlertDialogContent",[kie,Die]=Tie(Dc),u4=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Xi(n),o=y.useRef(null),a=et(e,o),l=y.useRef(null);return d.jsx(w6,{contentName:Dc,titleName:d4,docsSlug:"alert-dialog",children:d.jsx(kie,{scope:n,cancelRef:l,children:d.jsxs(fx,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:fe(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(BE,{children:r}),d.jsx(Nie,{contentRef:o})]})})})});u4.displayName=Dc;var d4="AlertDialogTitle",f4=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xi(n);return d.jsx(hx,{...s,...r,ref:e})});f4.displayName=d4;var h4="AlertDialogDescription",p4=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xi(n);return d.jsx(px,{...s,...r,ref:e})});p4.displayName=h4;var Pie="AlertDialogAction",m4=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xi(n);return d.jsx(mx,{...s,...r,ref:e})});m4.displayName=Pie;var g4="AlertDialogCancel",v4=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Die(g4,n),i=Xi(n),o=et(e,s);return d.jsx(mx,{...i,...r,ref:o})});v4.displayName=g4;var Nie=({contentRef:t})=>{const e=`\`${Dc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Dc}\` by passing a \`${h4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Dc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Mie=o4,Oie=a4,jie=l4,y4=c4,w4=u4,_4=m4,b4=v4,E4=f4,x4=p4;const Ak=Mie,Rk=Oie,Lie=jie,S4=y.forwardRef(({className:t,...e},n)=>d.jsx(y4,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));S4.displayName=y4.displayName;const b0=y.forwardRef(({className:t,...e},n)=>d.jsxs(Lie,{children:[d.jsx(S4,{}),d.jsx(w4,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));b0.displayName=w4.displayName;const E0=({className:t,...e})=>d.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});E0.displayName="AlertDialogHeader";const x0=({className:t,...e})=>d.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});x0.displayName="AlertDialogFooter";const S0=y.forwardRef(({className:t,...e},n)=>d.jsx(E4,{ref:n,className:me("text-lg font-semibold",t),...e}));S0.displayName=E4.displayName;const C0=y.forwardRef(({className:t,...e},n)=>d.jsx(x4,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));C0.displayName=x4.displayName;const T0=y.forwardRef(({className:t,...e},n)=>d.jsx(_4,{ref:n,className:me(pf(),t),...e}));T0.displayName=_4.displayName;const A0=y.forwardRef(({className:t,...e},n)=>d.jsx(b4,{ref:n,className:me(pf({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));A0.displayName=b4.displayName;const Ha=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",t),...e})}));Ha.displayName="Table";const Wa=y.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:me("[&_tr]:border-b",t),...e}));Wa.displayName="TableHeader";const qa=y.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",t),...e}));qa.displayName="TableBody";const Vie=y.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Vie.displayName="TableFooter";const xr=y.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));xr.displayName="TableRow";const Kt=y.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Kt.displayName="TableHead";const Qt=y.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Qt.displayName="TableCell";const Fie=y.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",t),...e}));Fie.displayName="TableCaption";const Uie=Xv({name:us().min(2,"Nome deve ter pelo menos 2 caracteres"),description:us().min(2,"Descrio deve ter pelo menos 2 caracteres"),preco:nk.number().min(0,"Preo deve ser maior que 0"),service_duration:nk.number().min(1,"Durao deve ser maior que 0")}),Bie=Xv({employee_name:us().min(2,"Nome deve ter pelo menos 2 caracteres"),services:dJ(us()).min(1,"Selecione pelo menos um servio")}),$ie=()=>{const{toast:t}=UE(),{updateDocument:e,deleteDocument:n}=MY(),{employees:r,loading:s}=b2(),[i,o]=y.useState(!0),[a,l]=y.useState(!1),[c,u]=y.useState({}),{services:h,loading:p}=cS(),[m,w]=y.useState([]),{user:g}=lS(),{webUsers:b}=uS(),_=b.find($=>$.user_id===(g==null?void 0:g.uid)),[v,x]=y.useState(!1),[A,P]=y.useState(!1),[O,T]=y.useState(null),[S,R]=y.useState(null),I=cg({resolver:dg(Uie),defaultValues:{name:"",description:"",preco:0,service_duration:1}}),N=cg({resolver:dg(Bie),defaultValues:{employee_name:"",services:[]}});if((_==null?void 0:_.isAdmin)===!1)return d.jsx(kee,{to:"/"});const k=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],D=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],G=async()=>{var $;try{const H={};if(($=r[0])!=null&&$.employees[0]){const ye=r[0].employees[0].employee_name,Se=await Ow(Ii(Fw,"calendar",ye));Se.exists()&&Se.data().calendar.forEach(ge=>{const Re=new Date(ge.day).getDay(),Fe=k[Re];ge.day_time.forEach(Ze=>{const Ke=Ze.hour.split(":")[0].padStart(2,"0"),bt=`${Fe}-${Ke}:00`;H[bt]=Ze.appointment_id!=="not_in_schedule"})})}u(H),o(!1)}catch(H){console.error("Erro ao carregar estados iniciais:",H),o(!1)}};y.useEffect(()=>{r.length>0&&!s&&G()},[r,s]);const ae=async($,H)=>{try{const ye=`${$}-${H}`,Se=H.split(":")[0].padStart(2,"0");u(xe=>({...xe,[ye]:!xe[ye]}));for(const xe of r)for(const ge of xe.employees){const ne=ge.employee_name,Re=await Ow(Ii(Fw,"calendar",ne));if(!Re.exists())continue;const Fe=Re.data(),Ze=Fe.calendar.map(Ke=>{const L=new Date(Ke.day).getDay();return k[L]!==$?Ke:{...Ke,day_time:Ke.day_time.map(z=>z.appointment_id!==""&&z.appointment_id!=="not_in_schedule"?z:z.hour.split(":")[0].padStart(2,"0")===Se?c[ye]?{appointment_id:"",client_id:"none",hour:z.hour,service:"none"}:{appointment_id:"not_in_schedule",client_id:"not_in_schedule",hour:z.hour,service:"not_in_schedule"}:z)}});await e("calendar",ne,{...Fe,calendar:Ze})}}catch(ye){console.error("Erro ao atualizar horrios:",ye),t({variant:"destructive",title:"Erro",description:"Erro ao atualizar horrio. Tente novamente."})}},te=async()=>{try{l(!0);for(const $ of r)for(const H of $.employees){const ye=H.employee_name,Se=await Ow(Ii(Fw,"calendar",ye));if(!Se.exists())continue;const xe=Se.data(),ge=xe.calendar.map(ne=>{const Fe=new Date(ne.day).getDay(),Ze=k[Fe];return{...ne,day_time:ne.day_time.map(Ke=>{if(Ke.appointment_id!==""&&Ke.appointment_id!=="not_in_schedule")return Ke;const bt=Ke.hour.split(":")[0].padStart(2,"0"),L=`${Ze}-${bt}:00`;return c[L]??Ze!=="Domingo"?{appointment_id:"",client_id:"none",hour:Ke.hour,service:"none"}:{appointment_id:"not_in_schedule",client_id:"not_in_schedule",hour:Ke.hour,service:"not_in_schedule"}})}});await e("calendar",ye,{...xe,calendar:ge})}t({title:"Sucesso!",description:"Horrios atualizados com sucesso."})}catch($){console.error("Erro ao atualizar horrios:",$),t({variant:"destructive",title:"Erro",description:"Erro ao atualizar horrios. Tente novamente."})}finally{l(!1)}},K=async $=>{try{await n("services",$),t({title:"Sucesso!",description:"Servio excludo com sucesso."})}catch{t({variant:"destructive",title:"Erro",description:"Erro ao excluir servio."})}},F=async $=>{try{await n("employees",$),t({title:"Sucesso!",description:"Funcionrio excludo com sucesso."})}catch{t({variant:"destructive",title:"Erro",description:"Erro ao excluir funcionrio."})}},j=async $=>{try{await e("services",$.name,{...$,service_id:$.name}),t({title:"Sucesso!",description:"Servio criado com sucesso."}),J(!1)}catch{t({variant:"destructive",title:"Erro",description:"Erro ao criar servio."})}},Q=async $=>{if(O)try{await e("services",O.service_id,{...$,service_id:O.service_id}),t({title:"Sucesso!",description:"Servio atualizado com sucesso."}),J(!1)}catch{t({variant:"destructive",title:"Erro",description:"Erro ao atualizar servio."})}},se=async $=>{try{const H={employee_id:$.employee_name,...$};await e("employees",$.employee_name,{employees:[H]}),t({title:"Sucesso!",description:"Funcionrio criado com sucesso."}),ie(!1)}catch{t({variant:"destructive",title:"Erro",description:"Erro ao criar funcionrio."})}},q=async $=>{if(S)try{const H={employee_id:S.employee_id,...$};await e("employees",S.employee_id,{employees:[H]}),t({title:"Sucesso!",description:"Funcionrio atualizado com sucesso."}),ie(!1)}catch{t({variant:"destructive",title:"Erro",description:"Erro ao atualizar funcionrio."})}};y.useEffect(()=>{var $;r.length>0&&w((($=r[0])==null?void 0:$.employees)||[])},[r]),y.useEffect(()=>{O&&I.reset({name:O.name,description:O.description,preco:O.preco,service_duration:O.service_duration})},[O]),y.useEffect(()=>{S&&N.reset({employee_name:S.employee_name,services:S.services})},[S]);const J=$=>{x($),$||(T(null),I.reset({name:"",description:"",preco:0,service_duration:1}))},ie=$=>{P($),$||(R(null),N.reset({employee_name:"",services:[]}))},Ee=$=>$.split("@")[0].slice(2);return s||p||i?d.jsx("div",{children:"Carregando..."}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("div",{className:"text-center mb-12",children:d.jsx("h1",{className:"font-display text-4xl font-bold text-gray-200 mb-4",children:"Gerenciamento"})}),d.jsxs(XS,{defaultValue:"schedule",className:"w-full",children:[d.jsxs(wy,{className:"flex justify-center w-full h-16 bg-transparent mb-8",children:[d.jsx(No,{value:"schedule",children:"Horrios"}),d.jsx(No,{value:"services",children:"Servios"}),d.jsx(No,{value:"team",children:"Equipe"}),d.jsx(No,{value:"users",children:"Usurios"})]}),d.jsxs(Mo,{value:"schedule",children:[d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ha,{children:[d.jsx(Wa,{children:d.jsxs(xr,{children:[d.jsx(Kt,{children:"Horrio"}),k.map($=>d.jsx(Kt,{className:"text-center",children:$},$))]})}),d.jsx(qa,{children:D.map($=>d.jsxs(xr,{children:[d.jsx(Qt,{className:"font-medium",children:$}),k.map(H=>d.jsx(Qt,{className:"text-center",children:d.jsx("input",{checked:c[`${H}-${$}`]??H!=="Domingo",onChange:()=>ae(H,$),type:"checkbox",className:"h-6 w-6 rounded border-border"})},`${H}-${$}`))]},$))})]})}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:te,disabled:a,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(kN,{className:"w-4 h-4 animate-spin"}),"Atualizando..."]}):"Salvar Alteraes"})})]}),d.jsxs(Mo,{value:"services",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Servios"}),d.jsxs(mf,{open:v,onOpenChange:J,children:[d.jsx(lR,{asChild:!0,children:d.jsxs(Dt,{children:[d.jsx(UA,{className:"mr-2 h-4 w-4"}),"Novo Servio"]})}),d.jsxs(Jc,{children:[d.jsxs(eu,{children:[d.jsx(tu,{children:O?"Editar Servio":"Novo Servio"}),d.jsxs(Vm,{children:["Preencha os campos abaixo para"," ",O?"editar o":"criar um novo"," servio."]})]}),d.jsx(ug,{...I,children:d.jsxs("form",{onSubmit:I.handleSubmit(O?Q:j),className:"space-y-4",children:[d.jsx(Cr,{control:I.control,name:"name",render:({field:$})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Nome"}),d.jsx(ir,{children:d.jsx(lr,{...$})}),d.jsx(or,{})]})}),d.jsx(Cr,{control:I.control,name:"description",render:({field:$})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Descrio"}),d.jsx(ir,{children:d.jsx(lr,{...$})}),d.jsx(or,{})]})}),d.jsx(Cr,{control:I.control,name:"preco",render:({field:$})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Preo"}),d.jsx(ir,{children:d.jsx(lr,{type:"number",...$})}),d.jsx(or,{})]})}),d.jsx(Cr,{control:I.control,name:"service_duration",render:({field:$})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Durao (em slots de 15 minutos)"}),d.jsx(ir,{children:d.jsx(lr,{type:"number",...$})}),d.jsx(or,{})]})}),d.jsx(Eb,{children:d.jsx(Dt,{type:"submit",children:O?"Salvar":"Criar"})})]})})]})]})]}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ha,{children:[d.jsx(Wa,{children:d.jsxs(xr,{children:[d.jsx(Kt,{children:"Nome"}),d.jsx(Kt,{children:"Descrio"}),d.jsx(Kt,{children:"Durao"}),d.jsx(Kt,{children:"Preo"}),d.jsx(Kt,{children:"Aes"})]})}),d.jsx(qa,{children:h.map($=>d.jsxs(xr,{children:[d.jsx(Qt,{children:$.name}),d.jsx(Qt,{children:$.description}),d.jsxs(Qt,{children:[$.service_duration*15,"min"]}),d.jsx(Qt,{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format($.preco)}),d.jsx(Qt,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Dt,{variant:"ghost",size:"icon",onClick:()=>{T($),x(!0)},children:d.jsx(FA,{className:"h-4 w-4"})}),d.jsxs(Ak,{children:[d.jsx(Rk,{asChild:!0,children:d.jsx(Dt,{variant:"ghost",size:"icon",children:d.jsx(mb,{className:"h-4 w-4"})})}),d.jsxs(b0,{children:[d.jsxs(E0,{children:[d.jsx(S0,{children:"Confirmar excluso"}),d.jsx(C0,{children:"Tem certeza que deseja excluir este servio?"})]}),d.jsxs(x0,{children:[d.jsx(A0,{children:"Cancelar"}),d.jsx(T0,{onClick:()=>K($.service_id),children:"Confirmar"})]})]})]})]})})]},$.service_id))})]})})]}),d.jsxs(Mo,{value:"team",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Equipe"}),d.jsxs(mf,{open:A,onOpenChange:ie,children:[d.jsx(lR,{asChild:!0,children:d.jsxs(Dt,{children:[d.jsx(UA,{className:"mr-2 h-4 w-4"}),"Novo Funcionrio"]})}),d.jsxs(Jc,{children:[d.jsxs(eu,{children:[d.jsx(tu,{children:S?"Editar Funcionrio":"Novo Funcionrio"}),d.jsxs(Vm,{children:["Preencha os campos abaixo para"," ",S?"editar o":"criar um novo"," ","funcionrio."]})]}),d.jsx(ug,{...N,children:d.jsxs("form",{onSubmit:N.handleSubmit(S?q:se),className:"space-y-4",children:[d.jsx(Cr,{control:N.control,name:"employee_name",render:({field:$})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Nome"}),d.jsx(ir,{children:d.jsx(lr,{...$})}),d.jsx(or,{})]})}),d.jsx(Cr,{control:N.control,name:"services",render:({field:$})=>d.jsxs(rr,{children:[d.jsx(sr,{children:"Servios"}),d.jsx(ir,{children:d.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(H=>d.jsx(Dt,{type:"button",variant:$.value.includes(H.name)?"default":"outline",onClick:()=>{const ye=$.value.includes(H.name)?$.value.filter(Se=>Se!==H.name):[...$.value,H.name];$.onChange(ye)},children:H.name},H.service_id))})}),d.jsx(or,{})]})}),d.jsx(Eb,{children:d.jsx(Dt,{type:"submit",children:S?"Salvar":"Criar"})})]})})]})]})]}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ha,{children:[d.jsx(Wa,{children:d.jsxs(xr,{children:[d.jsx(Kt,{children:"Nome"}),d.jsx(Kt,{children:"Servios"}),d.jsx(Kt,{children:"Aes"})]})}),d.jsx(qa,{children:m.map($=>d.jsxs(xr,{children:[d.jsx(Qt,{children:$.employee_name}),d.jsx(Qt,{children:$.services.join(", ")}),d.jsx(Qt,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Dt,{variant:"ghost",size:"icon",onClick:()=>{R($),P(!0)},children:d.jsx(FA,{className:"h-4 w-4"})}),d.jsxs(Ak,{children:[d.jsx(Rk,{asChild:!0,children:d.jsx(Dt,{variant:"ghost",size:"icon",children:d.jsx(mb,{className:"h-4 w-4"})})}),d.jsxs(b0,{children:[d.jsxs(E0,{children:[d.jsx(S0,{children:"Confirmar excluso"}),d.jsx(C0,{children:"Tem certeza que deseja excluir este funcionrio?"})]}),d.jsxs(x0,{children:[d.jsx(A0,{children:"Cancelar"}),d.jsx(T0,{onClick:()=>F($.employee_id),children:"Confirmar"})]})]})]})]})})]},$.employee_id))})]})})]}),d.jsxs(Mo,{value:"users",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h2",{className:"text-2xl font-bold",children:"Usurios"})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ha,{children:[d.jsx(Wa,{children:d.jsxs(xr,{children:[d.jsx(Kt,{children:"Nome"}),d.jsx(Kt,{children:"Email"}),d.jsx(Kt,{children:"Telefone"}),d.jsx(Kt,{children:"Admin"})]})}),d.jsx(qa,{children:b.map($=>d.jsxs(xr,{children:[d.jsx(Qt,{children:$.name}),d.jsx(Qt,{children:$.email}),d.jsx(Qt,{children:Ee($.phone)}),d.jsx(Qt,{children:d.jsx("div",{className:"flex items-center",children:$.isAdmin?d.jsx("span",{className:"text-green-500",children:"Sim"}):d.jsx("span",{className:"text-red-500",children:"No"})})})]},$.user_id))})]})})]})]})]}),d.jsx(BN,{})]})},zie=()=>{const t=Dl();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var JS="Checkbox",[Hie,Zfe]=jr(JS),[Wie,qie]=Hie(JS),C4=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=t,[p,m]=y.useState(null),w=et(e,A=>m(A)),g=y.useRef(!1),b=p?u||!!p.closest("form"):!0,[_=!1,v]=Li({prop:s,defaultProp:i,onChange:c}),x=y.useRef(_);return y.useEffect(()=>{const A=p==null?void 0:p.form;if(A){const P=()=>v(x.current);return A.addEventListener("reset",P),()=>A.removeEventListener("reset",P)}},[p,v]),d.jsxs(Wie,{scope:n,state:_,disabled:a,children:[d.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Xo(_)?"mixed":_,"aria-required":o,"data-state":R4(_),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:w,onKeyDown:fe(t.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:fe(t.onClick,A=>{v(P=>Xo(P)?!0:!P),b&&(g.current=A.isPropagationStopped(),g.current||A.stopPropagation())})}),b&&d.jsx(Gie,{control:p,bubbles:!g.current,name:r,value:l,checked:_,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Xo(i)?!1:i})]})});C4.displayName=JS;var T4="CheckboxIndicator",A4=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=qie(T4,n);return d.jsx(wr,{present:r||Xo(i.state)||i.state===!0,children:d.jsx(Me.span,{"data-state":R4(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});A4.displayName=T4;var Gie=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=y.useRef(null),a=oL(n),l=JN(e);y.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&m){const w=new Event("click",{bubbles:r});u.indeterminate=Xo(n),m.call(u,Xo(n)?!1:n),u.dispatchEvent(w)}},[a,n,r]);const c=y.useRef(Xo(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Xo(t){return t==="indeterminate"}function R4(t){return Xo(t)?"indeterminate":t?"checked":"unchecked"}var I4=C4,Kie=A4;const k4=y.forwardRef(({className:t,...e},n)=>d.jsx(I4,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(Kie,{className:me("flex items-center justify-center text-current"),children:d.jsx(Ba,{className:"h-4 w-4"})})}));k4.displayName=I4.displayName;var _y,Ie,D4,P4,wu,La,Ik,N4,M4,Mg={},O4=[],Qie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Oo(t,e){for(var n in e)t[n]=e[n];return t}function j4(t){var e=t.parentNode;e&&e.removeChild(t)}function V(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?_y.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return tm(t,o,r,s,null)}function tm(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++D4};return s==null&&Ie.vnode!=null&&Ie.vnode(i),i}function zn(){return{current:null}}function Ct(t){return t.children}function Yie(t,e,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in e||Og(t,i,null,n[i],r);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||Og(t,i,e[i],n[i],r)}function kk(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Qie.test(e)?n:n+"px"}function Og(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||kk(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||kk(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?Pk:Dk,i):t.removeEventListener(e,i?Pk:Dk,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Dk(t){wu=!0;try{return this.l[t.type+!1](Ie.event?Ie.event(t):t)}finally{wu=!1}}function Pk(t){wu=!0;try{return this.l[t.type+!0](Ie.event?Ie.event(t):t)}finally{wu=!1}}function kr(t,e){this.props=t,this.context=e}function Lf(t,e){if(e==null)return t.__?Lf(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Lf(t):null}function L4(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return L4(t)}}function Zie(t){wu?setTimeout(t):N4(t)}function R0(t){(!t.__d&&(t.__d=!0)&&La.push(t)&&!jg.__r++||Ik!==Ie.debounceRendering)&&((Ik=Ie.debounceRendering)||Zie)(jg)}function jg(){var t,e,n,r,s,i,o,a;for(La.sort(function(l,c){return l.__v.__b-c.__v.__b});t=La.shift();)t.__d&&(e=La.length,r=void 0,s=void 0,o=(i=(n=t).__v).__e,(a=n.__P)&&(r=[],(s=Oo({},i)).__v=i.__v+1,eC(a,i,s,n.__n,a.ownerSVGElement!==void 0,i.__h!=null?[o]:null,r,o??Lf(i),i.__h),$4(r,i),i.__e!=o&&L4(i)),La.length>e&&La.sort(function(l,c){return l.__v.__b-c.__v.__b}));jg.__r=0}function V4(t,e,n,r,s,i,o,a,l,c){var u,h,p,m,w,g,b,_=r&&r.__k||O4,v=_.length;for(n.__k=[],u=0;u<e.length;u++)if((m=n.__k[u]=(m=e[u])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?tm(null,m,null,null,m):Array.isArray(m)?tm(Ct,{children:m},null,null,null):m.__b>0?tm(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(p=_[u])===null||p&&m.key==p.key&&m.type===p.type)_[u]=void 0;else for(h=0;h<v;h++){if((p=_[h])&&m.key==p.key&&m.type===p.type){_[h]=void 0;break}p=null}eC(t,m,p=p||Mg,s,i,o,a,l,c),w=m.__e,(h=m.ref)&&p.ref!=h&&(b||(b=[]),p.ref&&b.push(p.ref,null,m),b.push(h,m.__c||w,m)),w!=null?(g==null&&(g=w),typeof m.type=="function"&&m.__k===p.__k?m.__d=l=F4(m,l,t):l=U4(t,m,p,_,w,l),typeof n.type=="function"&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=t&&(l=Lf(p))}for(n.__e=g,u=v;u--;)_[u]!=null&&(typeof n.type=="function"&&_[u].__e!=null&&_[u].__e==n.__d&&(n.__d=B4(r).nextSibling),H4(_[u],_[u]));if(b)for(u=0;u<b.length;u++)z4(b[u],b[++u],b[++u])}function F4(t,e,n){for(var r,s=t.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=t,e=typeof r.type=="function"?F4(r,e,n):U4(n,r,r,s,r.__e,e));return e}function Lg(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Lg(n,e)}):e.push(t)),e}function U4(t,e,n,r,s,i){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(s),o=null;else{for(a=i,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==s)break e;t.insertBefore(s,i),o=i}return o!==void 0?o:s.nextSibling}function B4(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=B4(n)))return r}return null}function eC(t,e,n,r,s,i,o,a,l){var c,u,h,p,m,w,g,b,_,v,x,A,P,O,T,S=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,i=[a]),(c=Ie.__b)&&c(e);try{e:if(typeof S=="function"){if(b=e.props,_=(c=S.contextType)&&r[c.__c],v=c?_?_.props.value:c.__:r,n.__c?g=(u=e.__c=n.__c).__=u.__E:("prototype"in S&&S.prototype.render?e.__c=u=new S(b,v):(e.__c=u=new kr(b,v),u.constructor=S,u.render=Jie),_&&_.sub(u),u.props=b,u.state||(u.state={}),u.context=v,u.__n=r,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),S.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Oo({},u.__s)),Oo(u.__s,S.getDerivedStateFromProps(b,u.__s))),p=u.props,m=u.state,u.__v=e,h)S.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(S.getDerivedStateFromProps==null&&b!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(b,v),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(b,u.__s,v)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=b,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(R){R&&(R.__=e)}),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(b,u.__s,v),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,m,w)})}if(u.context=v,u.props=b,u.__P=t,A=Ie.__r,P=0,"prototype"in S&&S.prototype.render){for(u.state=u.__s,u.__d=!1,A&&A(e),c=u.render(u.props,u.state,u.context),O=0;O<u._sb.length;O++)u.__h.push(u._sb[O]);u._sb=[]}else do u.__d=!1,A&&A(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++P<25);u.state=u.__s,u.getChildContext!=null&&(r=Oo(Oo({},r),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(w=u.getSnapshotBeforeUpdate(p,m)),T=c!=null&&c.type===Ct&&c.key==null?c.props.children:c,V4(t,Array.isArray(T)?T:[T],e,n,r,s,i,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),g&&(u.__E=u.__=null),u.__e=!1}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Xie(n.__e,e,n,r,s,i,o,l);(c=Ie.diffed)&&c(e)}catch(R){e.__v=null,(l||i!=null)&&(e.__e=a,e.__h=!!l,i[i.indexOf(a)]=null),Ie.__e(R,e,n)}}function $4(t,e){Ie.__c&&Ie.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Ie.__e(r,n.__v)}})}function Xie(t,e,n,r,s,i,o,a){var l,c,u,h=n.props,p=e.props,m=e.type,w=0;if(m==="svg"&&(s=!0),i!=null){for(;w<i.length;w++)if((l=i[w])&&"setAttribute"in l==!!m&&(m?l.localName===m:l.nodeType===3)){t=l,i[w]=null;break}}if(t==null){if(m===null)return document.createTextNode(p);t=s?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,p.is&&p),i=null,a=!1}if(m===null)h===p||a&&t.data===p||(t.data=p);else{if(i=i&&_y.call(t.childNodes),c=(h=n.props||Mg).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!a){if(i!=null)for(h={},w=0;w<t.attributes.length;w++)h[t.attributes[w].name]=t.attributes[w].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(Yie(t,p,h,s,a),u)e.__k=[];else if(w=e.props.children,V4(t,Array.isArray(w)?w:[w],e,n,r,s&&m!=="foreignObject",i,o,i?i[0]:n.__k&&Lf(n,0),a),i!=null)for(w=i.length;w--;)i[w]!=null&&j4(i[w]);a||("value"in p&&(w=p.value)!==void 0&&(w!==t.value||m==="progress"&&!w||m==="option"&&w!==h.value)&&Og(t,"value",w,h.value,!1),"checked"in p&&(w=p.checked)!==void 0&&w!==t.checked&&Og(t,"checked",w,h.checked,!1))}return t}function z4(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Ie.__e(r,n)}}function H4(t,e,n){var r,s;if(Ie.unmount&&Ie.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||z4(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){Ie.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&H4(r[s],e,n||typeof t.type!="function");n||t.__e==null||j4(t.__e),t.__=t.__e=t.__d=void 0}function Jie(t,e,n){return this.constructor(t,n)}function Vf(t,e,n){var r,s,i;Ie.__&&Ie.__(t,e),s=(r=!1)?null:e.__k,i=[],eC(e,t=e.__k=V(Ct,null,[t]),s||Mg,Mg,e.ownerSVGElement!==void 0,s?null:e.firstChild?_y.call(e.childNodes):null,i,s?s.__e:e.firstChild,r),$4(i,t)}function eoe(t,e){var n={__c:e="__cC"+M4++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,R0(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}_y=O4.slice,Ie={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},D4=0,P4=function(t){return t!=null&&t.constructor===void 0},wu=!1,kr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Oo({},this.state),typeof t=="function"&&(t=t(Oo({},n),this.props)),t&&Oo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),R0(this))},kr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),R0(this))},kr.prototype.render=Ct,La=[],N4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,jg.__r=0,M4=0;var Ls,e_,Nk,W4=[],t_=[],Mk=Ie.__b,Ok=Ie.__r,jk=Ie.diffed,Lk=Ie.__c,Vk=Ie.unmount;function toe(){for(var t;t=W4.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(nm),t.__H.__h.forEach(I0),t.__H.__h=[]}catch(e){t.__H.__h=[],Ie.__e(e,t.__v)}}Ie.__b=function(t){Ls=null,Mk&&Mk(t)},Ie.__r=function(t){Ok&&Ok(t);var e=(Ls=t.__c).__H;e&&(e_===Ls?(e.__h=[],Ls.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=t_,n.__N=n.i=void 0})):(e.__h.forEach(nm),e.__h.forEach(I0),e.__h=[])),e_=Ls},Ie.diffed=function(t){jk&&jk(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(W4.push(e)!==1&&Nk===Ie.requestAnimationFrame||((Nk=Ie.requestAnimationFrame)||noe)(toe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==t_&&(n.__=n.__V),n.i=void 0,n.__V=t_})),e_=Ls=null},Ie.__c=function(t,e){e.some(function(n){try{n.__h.forEach(nm),n.__h=n.__h.filter(function(r){return!r.__||I0(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Ie.__e(r,n.__v)}}),Lk&&Lk(t,e)},Ie.unmount=function(t){Vk&&Vk(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{nm(r)}catch(s){e=s}}),n.__H=void 0,e&&Ie.__e(e,n.__v))};var Fk=typeof requestAnimationFrame=="function";function noe(t){var e,n=function(){clearTimeout(r),Fk&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Fk&&(e=requestAnimationFrame(n))}function nm(t){var e=Ls,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ls=e}function I0(t){var e=Ls;t.__c=t.__(),Ls=e}function roe(t,e){for(var n in e)t[n]=e[n];return t}function Uk(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Bk(t){this.props=t}(Bk.prototype=new kr).isPureReactComponent=!0,Bk.prototype.shouldComponentUpdate=function(t,e){return Uk(this.props,t)||Uk(this.state,e)};var $k=Ie.__b;Ie.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),$k&&$k(t)};var soe=Ie.__e;Ie.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}soe(t,e,n,r)};var zk=Ie.unmount;function q4(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=roe({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return q4(r,e,n)})),t}function G4(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return G4(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function n_(){this.__u=0,this.t=null,this.__b=null}function K4(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function yp(){this.u=null,this.o=null}Ie.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),zk&&zk(t)},(n_.prototype=new kr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=K4(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=G4(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},n_.prototype.componentWillUnmount=function(){this.t=[]},n_.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=q4(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&V(Ct,null,t.fallback);return s&&(s.__h=null),[V(Ct,null,e.__a?null:t.children),s]};var Hk=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function ioe(t){return this.getChildContext=function(){return t.context},t.children}function ooe(t){var e=this,n=t.i;e.componentWillUnmount=function(){Vf(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Vf(V(ioe,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function aoe(t,e){var n=V(ooe,{__v:t,i:e});return n.containerInfo=e,n}(yp.prototype=new kr).__a=function(t){var e=this,n=K4(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),Hk(e,t,r)):s()};n?n(i):i()}},yp.prototype.render=function(t){this.u=null,this.o=new Map;var e=Lg(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},yp.prototype.componentDidUpdate=yp.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Hk(t,n,e)})};var loe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,coe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,uoe=typeof document<"u",doe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};kr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(kr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Wk=Ie.event;function foe(){}function hoe(){return this.cancelBubble}function poe(){return this.defaultPrevented}Ie.event=function(t){return Wk&&(t=Wk(t)),t.persist=foe,t.isPropagationStopped=hoe,t.isDefaultPrevented=poe,t.nativeEvent=t};var qk={configurable:!0,get:function(){return this.class}},Gk=Ie.vnode;Ie.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var i in r={},n){var o=n[i];uoe&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!doe(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&coe.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Lg(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Lg(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(qk.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",qk))}t.$$typeof=loe,Gk&&Gk(t)};var Kk=Ie.__r;Ie.__r=function(t){Kk&&Kk(t),t.__c};const Q4=[],k0=new Map;function tC(t){Q4.push(t),k0.forEach(e=>{Z4(e,t)})}function moe(t){t.isConnected&&t.getRootNode&&Y4(t.getRootNode())}function Y4(t){let e=k0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=voe();n&&(e.nonce=n);const r=t===document?document.head:t,s=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,s)}k0.set(t,e),goe(e)}}function goe(t){for(const e of Q4)Z4(t,e)}function Z4(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((s,i)=>{s=s.trim(),s&&n.insertRule(s+"}",r+i)})}let r_;function voe(){return r_===void 0&&(r_=yoe()),r_}function yoe(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Y4(document);var woe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';tC(woe);class nC{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function rC(t){t.parentNode&&t.parentNode.removeChild(t)}function kn(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(_oe(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function _oe(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function boe(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let s=0;s<n.length;s+=1){let i=n[s].querySelectorAll(e);for(let o=0;o<i.length;o+=1)r.push(i[o])}return r}const Eoe=/(top|left|right|bottom|width|height)$/i;function Wd(t,e){for(let n in e)X4(t,n,e[n])}function X4(t,e,n){n==null?t.style[e]="":typeof n=="number"&&Eoe.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function J4(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let Qk=0;function by(){return Qk+=1,"fc-dom-"+Qk}function Ey(t){t.preventDefault()}function xoe(t,e){return n=>{let r=kn(n.target,t);r&&e.call(r,n,r)}}function eU(t,e,n,r){let s=xoe(n,r);return t.addEventListener(e,s),()=>{t.removeEventListener(e,s)}}function Soe(t,e,n,r){let s;return eU(t,"mouseover",e,(i,o)=>{if(o!==s){s=o,n(i,o);let a=l=>{s=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const Yk=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Coe(t,e){let n=r=>{e(r),Yk.forEach(s=>{t.removeEventListener(s,n)})};Yk.forEach(r=>{t.addEventListener(r,n)})}function tU(t){return Object.assign({onClick:t},nU(t))}function nU(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let Zk=0;function Ml(){return Zk+=1,String(Zk)}function sC(){document.body.classList.add("fc-not-allowed")}function iC(){document.body.classList.remove("fc-not-allowed")}function Toe(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Ey)}function Aoe(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Ey)}function Roe(t){t.addEventListener("contextmenu",Ey)}function Ioe(t){t.removeEventListener("contextmenu",Ey)}function koe(t){let e=[],n=[],r,s;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)s=n[r],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function Doe(t,e,n){let r,s;for(r=0;r<n.length;r+=1)if(s=Poe(t,e,n[r]),s)return s;return 0}function Poe(t,e,n){return n.func?n.func(t,e):Noe(t[n.field],e[n.field])*(n.order||1)}function Noe(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Pc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function qd(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,s,i)=>r.replace("$"+i,s||""),t):n}function Moe(t,e){return t-e}function rm(t){return t%1===0}function Ooe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const Xk=["years","months","days","milliseconds"],joe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function nt(t,e){return typeof t=="string"?Loe(t):typeof t=="object"&&t?Jk(t):typeof t=="number"?Jk({[e||"milliseconds"]:t}):null}function Loe(t){let e=joe.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Jk(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function Voe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function D0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function Foe(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function Uoe(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function Boe(t){return Nc(t)/365}function $oe(t){return Nc(t)/30}function Nc(t){return ds(t)/864e5}function ds(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function oC(t,e){let n=null;for(let r=0;r<Xk.length;r+=1){let s=Xk[r];if(e[s]){let i=t[s]/e[s];if(!rm(i)||n!==null&&n!==i)return null;n=i}else if(t[s])return null}return n}function P0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function fa(t,e,n){if(t===e)return!0;let r=t.length,s;if(r!==e.length)return!1;for(s=0;s<r;s+=1)if(!(n?n(t[s],e[s]):t[s]===e[s]))return!1;return!0}const zoe=["sun","mon","tue","wed","thu","fri","sat"];function e1(t,e){let n=jo(t);return n[2]+=e*7,dr(n)}function Dn(t,e){let n=jo(t);return n[2]+=e,dr(n)}function ha(t,e){let n=jo(t);return n[6]+=e,dr(n)}function Hoe(t,e){return Ol(t,e)/7}function Ol(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Woe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function qoe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Goe(t,e){return(e.valueOf()-t.valueOf())/1e3}function Koe(t,e){let n=wt(t),r=wt(e);return{years:0,months:0,days:Math.round(Ol(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function Qoe(t,e){let n=Vg(t,e);return n!==null&&n%7===0?n/7:null}function Vg(t,e){return Lo(t)===Lo(e)?Math.round(Ol(t,e)):null}function wt(t){return dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Yoe(t){return dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Zoe(t){return dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Xoe(t){return dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Joe(t,e,n){let r=t.getUTCFullYear(),s=s_(t,r,e,n);if(s<1)return s_(t,r-1,e,n);let i=s_(t,r+1,e,n);return i>=1?Math.min(s,i):s}function s_(t,e,n,r){let s=dr([e,0,1+eae(e,n,r)]),i=wt(t),o=Math.round(Ol(s,i));return Math.floor(o/7)+1}function eae(t,e,n){let r=7+e-n;return-((7+dr([t,0,r]).getUTCDay()-e)%7)+r-1}function t1(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function n1(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function jo(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function dr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function rU(t){return!isNaN(t.valueOf())}function Lo(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function sU(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",lC(e,!0)))),r}function aC(t){return t.toISOString().replace(/T.*$/,"")}function tae(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function nae(t){return Pc(t.getUTCHours(),2)+":"+Pc(t.getUTCMinutes(),2)+":"+Pc(t.getUTCSeconds(),2)}function lC(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=Math.round(r%60);return e?`${n+Pc(s,2)}:${Pc(i,2)}`:`GMT${n}${s}${i?`:${Pc(i,2)}`:""}`}function Pe(t,e,n){let r,s;return function(...i){if(!r)s=t.apply(this,i);else if(!fa(r,i)){let o=t.apply(this,i);(!e||!e(o,s))&&(s=o)}return r=i,s}}function sm(t,e,n){let r,s;return i=>(r?li(r,i)||(s=t.call(this,i)):s=t.call(this,i),r=i,s)}const r1={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Fg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},wp=/\s*([ap])\.?m\.?/i,rae=/,/g,sae=/\s+/g,iae=/\u200e/g,oae=/UTC|GMT/;class aae{constructor(e){let n={},r={},s=0;for(let i in e)i in r1?(r[i]=e[i],s=Math.max(r1[i],s)):(n[i]=e[i],i in Fg&&(s=Math.max(Fg[i],s)));this.standardDateProps=n,this.extendedSettings=r,this.severity=s,this.buildFormattingFunc=Pe(s1)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,s){let{standardDateProps:i,extendedSettings:o}=this,a=hae(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let h=pae(i,l),p=s1(h,o,r),m=p(e),w=p(n),g=mae(c,m,u,w),b=o.separator||s||r.defaultSeparator||"";return g?g.before+m+b+w+g.after:c+b+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function s1(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?s=>lC(s.timeZoneOffset):r===0&&e.week?s=>fae(n.computeWeekNumber(s.marker),n.weekText,n.weekTextLong,n.locale,e.week):lae(t,e,n)}function lae(t,e,n){t=Object.assign({},t),e=Object.assign({},e),cae(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),s;if(e.omitZeroMinute){let i=Object.assign({},t);delete i.minute,s=new Intl.DateTimeFormat(n.locale.codes,i)}return i=>{let{marker:o}=i,a;s&&!o.getUTCMinutes()?a=s:a=r;let l=a.format(o);return uae(l,i,t,e,n)}}function cae(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function uae(t,e,n,r,s){return t=t.replace(iae,""),n.timeZoneName==="short"&&(t=dae(t,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":lC(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(rae,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(wp,"").trim():r.meridiem==="narrow"?t=t.replace(wp,(i,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(wp,(i,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(wp,i=>i.toLocaleLowerCase())),t=t.replace(sae," "),t=t.trim(),t}function dae(t,e){let n=!1;return t=t.replace(oae,()=>(n=!0,e)),n||(t+=` ${e}`),t}function fae(t,e,n,r,s){let i=[];return s==="long"?i.push(n):(s==="short"||s==="narrow")&&i.push(e),(s==="long"||s==="short")&&i.push(" "),i.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&i.reverse(),i.join("")}function hae(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Lo(t)!==Lo(e)?1:0}function pae(t,e){let n={};for(let r in t)(!(r in Fg)||Fg[r]<=e)&&(n[r]=t[r]);return n}function mae(t,e,n,r){let s=0;for(;s<t.length;){let i=t.indexOf(e,s);if(i===-1)break;let o=t.substr(0,i);s=i+e.length;let a=t.substr(s),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let h=n.substr(l);if(o===u&&a===h)return{before:o,after:a}}}return null}function i1(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Ug(t,e,n,r){let s=i1(t,n.calendarSystem),i=e?i1(e,n.calendarSystem):null;return{date:s,start:s,end:i,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class gae{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Ug(e,null,n,r))}formatRange(e,n,r,s){return r.cmdFormatter(this.cmdStr,Ug(e,n,r,s))}}class vae{constructor(e){this.func=e}format(e,n,r){return this.func(Ug(e,null,n,r))}formatRange(e,n,r,s){return this.func(Ug(e,n,r,s))}}function Mt(t){return typeof t=="object"&&t?new aae(t):typeof t=="string"?new gae(t):typeof t=="function"?new vae(t):null}const o1={navLinkDayClick:W,navLinkWeekClick:W,duration:nt,bootstrapFontAwesome:W,buttonIcons:W,customButtons:W,defaultAllDayEventDuration:nt,defaultTimedEventDuration:nt,nextDayThreshold:nt,scrollTime:nt,scrollTimeReset:Boolean,slotMinTime:nt,slotMaxTime:nt,dayPopoverFormat:Mt,slotDuration:nt,snapDuration:nt,headerToolbar:W,footerToolbar:W,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Mt,dayHeaderClassNames:W,dayHeaderContent:W,dayHeaderDidMount:W,dayHeaderWillUnmount:W,dayCellClassNames:W,dayCellContent:W,dayCellDidMount:W,dayCellWillUnmount:W,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:W,weekNumbers:Boolean,weekNumberClassNames:W,weekNumberContent:W,weekNumberDidMount:W,weekNumberWillUnmount:W,editable:Boolean,viewClassNames:W,viewDidMount:W,viewWillUnmount:W,nowIndicator:Boolean,nowIndicatorClassNames:W,nowIndicatorContent:W,nowIndicatorDidMount:W,nowIndicatorWillUnmount:W,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:W,locale:W,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:W,eventOrder:koe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:W,contentHeight:W,direction:String,weekNumberFormat:Mt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:W,initialDate:W,now:W,eventDataTransform:W,stickyHeaderDates:W,stickyFooterScrollbar:W,viewHeight:W,defaultAllDay:Boolean,eventSourceFailure:W,eventSourceSuccess:W,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:W,eventConstraint:W,eventAllow:W,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:W,eventContent:W,eventDidMount:W,eventWillUnmount:W,selectConstraint:W,selectOverlap:W,selectAllow:W,droppable:Boolean,unselectCancel:String,slotLabelFormat:W,slotLaneClassNames:W,slotLaneContent:W,slotLaneDidMount:W,slotLaneWillUnmount:W,slotLabelClassNames:W,slotLabelContent:W,slotLabelDidMount:W,slotLabelWillUnmount:W,dayMaxEvents:W,dayMaxEventRows:W,dayMinWidth:Number,slotLabelInterval:nt,allDayText:String,allDayClassNames:W,allDayContent:W,allDayDidMount:W,allDayWillUnmount:W,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Mt,rerenderDelay:Number,moreLinkText:W,moreLinkHint:W,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:W,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:nt,hiddenDays:W,fixedWeekCount:Boolean,validRange:W,visibleRange:W,titleFormat:W,eventInteractive:Boolean,noEventsText:String,viewHint:W,navLinkHint:W,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:W,moreLinkClassNames:W,moreLinkContent:W,moreLinkDidMount:W,moreLinkWillUnmount:W,monthStartFormat:Mt,handleCustomRendering:W,customRenderingMetaMap:W,customRenderingReplaces:Boolean},Gd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},a1={datesSet:W,eventsSet:W,eventAdd:W,eventChange:W,eventRemove:W,windowResize:W,eventClick:W,eventMouseEnter:W,eventMouseLeave:W,select:W,unselect:W,loading:W,_unmount:W,_beforeprint:W,_afterprint:W,_noEventDrop:W,_noEventResize:W,_resize:W,_scrollRequest:W},l1={buttonText:W,buttonHints:W,views:W,plugins:W,initialEvents:W,events:W,eventSources:W},Oa={headerToolbar:ja,footerToolbar:ja,buttonText:ja,buttonHints:ja,buttonIcons:ja,dateIncrement:ja,plugins:_p,events:_p,eventSources:_p,resources:_p};function ja(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?li(t,e):t===e}function _p(t,e){return Array.isArray(t)&&Array.isArray(e)?fa(t,e):t===e}const yae={type:String,component:W,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:W,usesMinMaxTime:Boolean,classNames:W,content:W,didMount:W,willUnmount:W};function i_(t){return uC(t,Oa)}function cC(t,e){let n={},r={};for(let s in e)s in t&&(n[s]=e[s](t[s]));for(let s in t)s in e||(r[s]=t[s]);return{refined:n,extra:r}}function W(t){return t}const{hasOwnProperty:Bg}=Object.prototype;function uC(t,e){let n={};if(e){for(let r in e)if(e[r]===ja){let s=[];for(let i=t.length-1;i>=0;i-=1){let o=t[i][r];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){n[r]=o;break}}s.length&&(n[r]=uC(s))}}for(let r=t.length-1;r>=0;r-=1){let s=t[r];for(let i in s)i in n||(n[i]=s[i])}return n}function bl(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function qi(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function iU(t){let e={};for(let n of t)e[n]=!0;return e}function dC(t){let e=[];for(let n in t)e.push(t[n]);return e}function li(t,e){if(t===e)return!0;for(let n in t)if(Bg.call(t,n)&&!(n in e))return!1;for(let n in e)if(Bg.call(e,n)&&t[n]!==e[n])return!1;return!0}const wae=/^on[A-Z]/;function _ae(t,e){const n=N0(t,e);for(let r of n)if(!wae.test(r))return!1;return!0}function N0(t,e){let n=[];for(let r in t)Bg.call(t,r)&&(r in e||n.push(r));for(let r in e)Bg.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function o_(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&bae(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function bae(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function Eae(t,e=0,n,r=1){let s=[];n==null&&(n=Object.keys(t).length);for(let i=e;i<n;i+=r){let o=t[i];o!==void 0&&s.push(o)}return s}let oU={};function xae(t,e){oU[t]=e}function Sae(t){return new oU[t]}class Cae{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return dr(e)}markerToArray(e){return jo(e)}}xae("gregory",Cae);const Tae=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Aae(t){let e=Tae.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(rU(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class Rae{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=Sae(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):dr(t1(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=dr(e)),n===null||!rU(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Aae(e);if(n===null)return null;let{marker:r}=n,s=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):s=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Lo(e)===Lo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Lo(e)===Lo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=Qoe(e,n),r!==null?{unit:"week",value:r}:(r=Vg(e,n),r!==null?{unit:"day",value:r}:(r=Woe(e,n),rm(r)?{unit:"hour",value:r}:(r=qoe(e,n),rm(r)?{unit:"minute",value:r}:(r=Goe(e,n),rm(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let s;return r.years&&(s=this.diffWholeYears(e,n),s!==null)?s/Boe(r):r.months&&(s=this.diffWholeMonths(e,n),s!==null)?s/$oe(r):r.days&&(s=Vg(e,n),s!==null)?s/Nc(r):(n.valueOf()-e.valueOf())/ds(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?wt(e):n==="hour"?Yoe(e):n==="minute"?Zoe(e):n==="second"?Xoe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Joe(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,s={}){return s.isEndExclusive&&(n=ha(n,-1)),r.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(n)},this,s.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),sU(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?dr(t1(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):dr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-n1(jo(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(jo(e)):null}toDate(e,n){return this.timeZone==="local"?n1(jo(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(jo(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class _h{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}_h.prototype.classes={};_h.prototype.iconClasses={};_h.prototype.baseIconClass="";_h.prototype.iconOverridePrefix="";function $g(t){t();let e=Ie.debounceRendering,n=[];function r(s){n.push(s)}for(Ie.debounceRendering=r,Vf(V(Iae,{}),document.createElement("div"));n.length;)n.shift()();Ie.debounceRendering=e}class Iae extends kr{render(){return V("div",{})}componentDidMount(){this.setState({})}}function aU(t){let e=eoe(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,s=n.apply(this,arguments);if(r){let i=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&i.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{i.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{i.splice(i.indexOf(o),1),a&&a.call(o)}}}return s},e}class kae{constructor(e,n,r,s){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=s,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ji=aU({});function Dae(t,e,n,r,s,i,o,a,l,c,u,h,p){return{dateEnv:s,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:i,isRtl:n.direction==="rtl",addResizeHandler(m){c.on("_resize",m)},removeResizeHandler(m){c.off("_resize",m)},createScrollResponder(m){return new kae(m,c,nt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class jl extends kr{shouldComponentUpdate(e,n){return this.debug&&console.log(N0(e,this.props),N0(n,this.state)),!o_(this.props,e,this.propEquality)||!o_(this.state,n,this.stateEquality)}safeSetState(e){o_(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}jl.addPropsEquality=Pae;jl.addStateEquality=Nae;jl.contextType=Ji;jl.prototype.propEquality={};jl.prototype.stateEquality={};class ht extends jl{}ht.contextType=Ji;function Pae(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Nae(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Gi(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class fC extends ht{constructor(){super(...arguments),this.id=Ml(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!M0(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Gi(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:s,defaultGenerator:i,renderProps:o}=e,a=lU(e,[],this.handleEl);let l=!1,c,u=[],h;if(s!=null){const p=typeof s=="function"?s(o,V):s;if(p===!0)l=!0;else{const m=p&&typeof p=="object";m&&"html"in p?a.dangerouslySetInnerHTML={__html:p.html}:m&&"domNodes"in p?u=Array.prototype.slice.call(p.domNodes):(m?P4(p):typeof p!="function")?c=p:h=p}}else l=!M0(e.generatorName,r);return l&&i&&(c=i(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=h,V(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:s}=this,{handleCustomRendering:i,customRenderingMetaMap:o}=s.options;if(i){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(Mae)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!fa(e,n)){n.forEach(rC);for(let s of e)r.appendChild(s);this.currentDomNodes=e}}}fC.addPropsEquality({elClasses:fa,elStyle:li,elAttrs:_ae,renderProps:li});function M0(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function lU(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function Mae(t){return!!t}const cU=aU(0);class Lr extends kr{constructor(){super(...arguments),this.InnerContent=Oae.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Gi(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=jae(e.classNameGenerator,e.renderProps);if(e.children){const r=lU(e,n,this.handleEl),s=e.children(this.InnerContent,e.renderProps,r);return e.elTag?V(e.elTag,r,s):s}else return V(fC,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Lr.contextType=cU;function Oae(t,e){const n=t.props;return V(fC,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function jae(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class zg extends ht{render(){let{props:e,context:n}=this,{options:r}=n,s={view:n.viewApi};return V(Lr,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...uU(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function uU(t){return[`fc-${t.type}-view`,"fc-view"]}function Lae(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function c1(t,e){let n=[],{start:r}=e,s,i;for(t.sort(Vae),s=0;s<t.length;s+=1)i=t[s],i.start>r&&n.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<e.end&&n.push({start:r,end:e.end}),n}function Vae(t,e){return t.start.valueOf()-e.start.valueOf()}function El(t,e){let{start:n,end:r}=t,s=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(s={start:n,end:r}),s}function Fae(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function hC(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function xy(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Pi(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Uae(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function dU(t){let e=Math.floor(Ol(t.start,t.end))||1,n=wt(t.start),r=Dn(n,e);return{start:n,end:r}}function fU(t,e=nt(0)){let n=null,r=null;if(t.end){r=wt(t.end);let s=t.end.valueOf()-r.valueOf();s&&s>=ds(e)&&(r=Dn(r,1))}return t.start&&(n=wt(t.start),r&&r<=n&&(r=Dn(n,1))),{start:n,end:r}}function hc(t,e,n,r){return r==="year"?nt(n.diffWholeYears(t,e),"year"):r==="month"?nt(n.diffWholeMonths(t,e),"month"):Koe(t,e)}function Bae(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function $ae(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):bh(t.now,e)}function bh(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class hU{constructor(e){this.props=e,this.nowDate=bh(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:s}=this.props,i=s.subtract(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,r)}buildNext(e,n,r){let{dateEnv:s}=this.props,i=s.add(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,r)}build(e,n,r=!0){let{props:s}=this,i,o,a,l,c,u;return i=this.buildValidRange(),i=this.trimHiddenDays(i),r&&(e=Uae(e,i)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,s.showNonCurrentDates||(c=El(c,o.range)),c=this.adjustActiveRange(c),c=El(c,i),u=hC(o.range,i),Pi(l,e)||(e=l.start),{currentDate:e,validRange:i,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,s=null,i=null,o=null,a;return r.duration?(s=r.duration,i=r.durationUnit,o=this.buildRangeFromDuration(e,n,s,i)):(a=this.props.dayCount)?(i="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),i=P0(s).unit,o=this.buildRangeFromDuration(e,n,s,i)),{duration:s,unit:i,range:o}}getFallbackDuration(){return nt({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:s,slotMaxTime:i}=this.props,{start:o,end:a}=e;return r&&(Nc(s)<0&&(o=wt(o),o=n.add(o,s)),Nc(i)>1&&(a=wt(a),a=Dn(a,-1),a=n.add(a,i))),{start:o,end:a}}buildRangeFromDuration(e,n,r,s){let{dateEnv:i,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:h}=this.props;h&&ds(h)<ds(r)?o=P0(h).unit:o=s}Nc(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=wt(a));function u(){a=i.startOf(e,o),l=i.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:s,dateAlignment:i}=this.props,o=0,a=e,l;i&&(a=s.startOf(a,i)),a=wt(a),a=this.skipHiddenDays(a,n),l=a;do l=Dn(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,s=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,i=this.refineRange(s);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?nt(1,r):e||nt({days:1}))}refineRange(e){if(e){let n=Lae(e,this.props.dateEnv);return n&&(n=fU(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(n[s]=e.indexOf(s)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=Dn(e,n);return e}}function pC(t,e,n,r){return{instanceId:Ml(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function zae(t,e,n,r){for(let s=0;s<r.length;s+=1){let i=r[s].parse(t,n);if(i){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=i.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}function xl(t,e,n){let{dateEnv:r,pluginHooks:s,options:i}=n,{defs:o,instances:a}=t;a=bl(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let h=Hae(c,u,e,r,s.recurringTypes);for(let p of h){let m=pC(l,{start:p,end:r.add(p,u)});a[m.instanceId]=m}}}return{defs:o,instances:a}}function Hae(t,e,n,r,s){let o=s[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(wt)),o}const im={id:String,groupId:String,title:String,url:String,interactive:Boolean},pU={start:W,end:W,date:W,allDay:Boolean},Wae=Object.assign(Object.assign(Object.assign({},im),pU),{extendedProps:W});function mU(t,e,n,r,s=mC(n),i,o){let{refined:a,extra:l}=gU(t,n,s),c=Gae(e,n),u=zae(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let p=O0(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,i);return p.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:p,instance:null}}let h=qae(a,c,n,r);if(h){let p=O0(a,l,e?e.sourceId:"",h.allDay,h.hasEnd,n,i),m=pC(p.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return o&&p.publicId&&o[p.publicId]&&(m.instanceId=o[p.publicId]),{def:p,instance:m}}return null}function gU(t,e,n=mC(e)){return cC(t,n)}function mC(t){return Object.assign(Object.assign(Object.assign({},Hg),Wae),t.pluginHooks.eventRefiners)}function O0(t,e,n,r,s,i,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Ml(),sourceId:n,allDay:r,hasEnd:s,interactive:t.interactive,ui:Wg(t,i),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of i.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function qae(t,e,n,r){let{allDay:s}=t,i,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(i=n.dateEnv.createMarkerMeta(u),i)o=i.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),s==null&&(e!=null?s=e:s=(!i||i.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),s&&o&&(o=wt(o)),l&&(c=l.marker,s&&(c=wt(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:a,range:{start:o,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Gae(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Ff(t,e,n,r,s,i){let o=Dr(),a=mC(n);for(let l of t){let c=mU(l,e,n,r,a,s,i);c&&j0(c,o)}return o}function j0(t,e=Dr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function gC(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],s=Sy(t,i=>Kae(r,i));return s.defs[r.defId]=r,s.instances[n.instanceId]=n,s}return Dr()}function Kae(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Dr(){return{defs:{},instances:{}}}function vC(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Sy(t,e){let n=bl(t.defs,e),r=bl(t.instances,s=>n[s.defId]);return{defs:n,instances:r}}function Qae(t,e){let{defs:n,instances:r}=t,s={},i={};for(let o in n)e.defs[o]||(s[o]=n[o]);for(let o in r)!e.instances[o]&&s[r[o].defId]&&(i[o]=r[o]);return{defs:s,instances:i}}function Yae(t,e){return Array.isArray(t)?Ff(t,null,e,!0):typeof t=="object"&&t?Ff([t],null,e,!0):t!=null?String(t):null}function u1(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Hg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:W,overlap:W,allow:W,className:u1,classNames:u1,color:String,backgroundColor:String,borderColor:String,textColor:String},Zae={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Wg(t,e){let n=Yae(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function vU(t){return t.reduce(Xae,Zae)}function Xae(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Jae={id:String,defaultAllDay:Boolean,url:String,format:String,events:W,eventDataTransform:W,success:W,failure:W};function yU(t,e,n=wU(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:s,extra:i}=cC(r,n),o=ele(s,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Ml(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Wg(s,e),extendedProps:i}}return null}function wU(t){return Object.assign(Object.assign(Object.assign({},Hg),Jae),t.pluginHooks.eventSourceRefiners)}function ele(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let i=n[r].parseMeta(t);if(i)return{sourceDefId:r,meta:i}}return null}function tle(t,e,n,r,s){switch(e.type){case"RECEIVE_EVENTS":return nle(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return rle(t,n[e.sourceId],e.rawEvents,r.activeRange,s);case"ADD_EVENTS":return sle(t,e.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return vC(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?xl(t,r.activeRange,s):t;case"REMOVE_EVENTS":return Qae(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return bU(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Sy(t,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Dr();default:return t}}function nle(t,e,n,r,s,i){if(e&&n===e.latestFetchId){let o=Ff(_U(s,e,i),e,i);return r&&(o=xl(o,r,i)),vC(bU(t,e.sourceId),o)}return t}function rle(t,e,n,r,s){const{defIdMap:i,instanceIdMap:o}=ole(t);let a=Ff(_U(n,e,s),e,s,!1,i,o);return xl(a,r,s)}function _U(t,e,n){let r=n.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(t=d1(t,s)),r&&(t=d1(t,r)),t}function d1(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let s=e(r);s?n.push(s):s==null&&n.push(r)}}return n}function sle(t,e,n,r){return n&&(e=xl(e,n,r)),vC(t,e)}function f1(t,e,n){let{defs:r}=t,s=qi(t.instances,i=>r[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:n.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:n.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:i.forcedEndTzo}));return{defs:r,instances:s}}function bU(t,e){return Sy(t,n=>n.sourceId!==e)}function ile(t,e){return{defs:t.defs,instances:bl(t.instances,n=>!e[n.instanceId])}}function ole(t){const{defs:e,instances:n}=t,r={},s={};for(let i in e){const o=e[i],{publicId:a}=o;a&&(r[a]=i)}for(let i in n){const o=n[i],a=e[o.defId],{publicId:l}=a;l&&(s[l]=i)}return{defIdMap:r,instanceIdMap:s}}class Cy{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){ale(this.handlers,e,n)}off(e,n){lle(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],s=this.options&&this.options[e],i=[].concat(s||[],r);for(let o of i)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function ale(t,e,n){(t[e]||(t[e]=[])).push(n)}function lle(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const cle={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function ule(t,e){return Ff(dle(t),null,e)}function dle(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},cle),n)),e}function EU(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},yC(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function fle(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function yC(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,Tle(t,e.dateEnv)),n}function h1(t,e,n){let{dateEnv:r,options:s}=n,i=e;return t?(i=wt(i),i=r.add(i,s.defaultAllDayEventDuration)):i=r.add(i,s.defaultTimedEventDuration),i}function wC(t,e,n,r){let s=qg(t.defs,e),i=Dr();for(let o in t.defs){let a=t.defs[o];i.defs[o]=hle(a,s[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=i.defs[a.defId];i.instances[o]=ple(a,l,s[a.defId],n,r)}return i}function hle(t,e,n,r){let s=n.standardProps||{};s.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},t),s),{ui:Object.assign(Object.assign({},t.ui),s.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function ple(t,e,n,r,s){let{dateEnv:i}=s,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=dU(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:i.add(l.range.start,r.datesDelta),end:i.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:i.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:h1(e.allDay,l.range.start,s)}),e.allDay&&(l.range={start:wt(l.range.start),end:wt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=h1(e.allDay,l.range.start,s)),l}class Xl{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class kt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in pU)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=im[e](n),this.mutate({standardProps:{publicId:n}});else if(e in im)n=im[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Hg){let r=Hg[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,s=r.createMarker(e);if(s&&this._instance){let i=this._instance.range,o=hc(i.start,s,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,s;if(!(e!=null&&(s=r.createMarker(e),!s))&&this._instance)if(s){let i=hc(this._instance.range.end,s,r,n.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:s}=this._context,i={allDay:r.allDay},o=s.createMarker(e),a;if(o&&!(n!=null&&(a=s.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=dU(l));let c=hc(l.start,o,s,r.granularity);if(a){let u=hc(l.end,a,s,r.granularity);Voe(c,u)?this.mutate({datesDelta:c,standardProps:i}):this.mutate({startDelta:c,endDelta:u,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:c,standardProps:i})}}moveStart(e){let n=nt(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=nt(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=nt(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:s}=n;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=s),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,s=Mt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,s,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,s,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,s=this._context,{eventStore:i}=s.getCurrentData(),o=gC(i,n.instanceId);o=wC(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let l=new kt(s,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:el(o,s,n),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,n=xU(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Xl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:s,endStr:i}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),s&&(o.start=s),i&&(o.end=i),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function xU(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function el(t,e,n){let{defs:r,instances:s}=t,i=[],o=n?n.instanceId:"";for(let a in s){let l=s[a],c=r[l.defId];l.instanceId!==o&&i.push(new kt(e,c,l))}return i}function p1(t,e,n,r){let s={},i={},o={},a=[],l=[],c=qg(t.defs,e);for(let u in t.defs){let h=t.defs[u];c[h.defId].display==="inverse-background"&&(h.groupId?(s[h.groupId]=[],o[h.groupId]||(o[h.groupId]=h)):i[u]=[])}for(let u in t.instances){let h=t.instances[u],p=t.defs[h.defId],m=c[p.defId],w=h.range,g=!p.allDay&&r?fU(w,r):w,b=El(g,n);b&&(m.display==="inverse-background"?p.groupId?s[p.groupId].push(b):i[h.defId].push(b):m.display!=="none"&&(m.display==="background"?a:l).push({def:p,ui:m,instance:h,range:b,isStart:g.start&&g.start.valueOf()===b.start.valueOf(),isEnd:g.end&&g.end.valueOf()===b.end.valueOf()}))}for(let u in s){let h=s[u],p=c1(h,n);for(let m of p){let w=o[u],g=c[w.defId];a.push({def:w,ui:g,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let u in i){let h=i[u],p=c1(h,n);for(let m of p)a.push({def:t.defs[u],ui:c[u],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function mle(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function m1(t,e){t.fcSeg=e}function _u(t){return t.fcSeg||t.parentNode.fcSeg||null}function qg(t,e){return qi(t,n=>SU(n,e))}function SU(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),vU(n)}function CU(t,e){let n=t.map(gle);return n.sort((r,s)=>Doe(r,s,e)),n.map(r=>r._seg)}function gle(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,s=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:s,end:i,duration:i-s,allDay:Number(n.allDay),_seg:t})}function vle(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:s,ui:i}=t.eventRange,o=i.startEditable;for(let a of r)o=a(o,s,i,e);return o}function yle(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function wle(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function TU(t,e,n,r,s,i,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,h=t.eventRange.def,p=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=s!==!1);let m=p.range.start,w=p.range.end,g=t.start||t.eventRange.range.start,b=t.end||t.eventRange.range.end,_=wt(m).valueOf()===wt(g).valueOf(),v=wt(ha(w,-1)).valueOf()===wt(ha(b,-1)).valueOf();return c&&!h.allDay&&(_||v)?(g=_?m:g,b=v?w:b,u&&h.hasEnd?a.formatRange(g,b,e,{forcedStartTzo:p.forcedStartTzo,forcedEndTzo:p.forcedEndTzo}):a.format(g,e,{forcedTzo:p.forcedStartTzo})):""}function Jo(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Pi(e,r.start)}}function _le(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function AU(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function RU(t,e){let{def:n,instance:r}=t.eventRange,{url:s}=n;if(s)return{href:s};let{emitter:i,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!i.hasHandlers("eventClick"))),a?nU(l=>{i.trigger("eventClick",{el:l.target,event:new kt(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const ble={start:W,end:W,allDay:Boolean};function Ele(t,e,n){let r=xle(t,e),{range:s}=r;if(!s.start)return null;if(!s.end){if(n==null)return null;s.end=e.add(s.start,n)}return r}function xle(t,e){let{refined:n,extra:r}=cC(t,ble),s=n.start?e.createMarkerMeta(n.start):null,i=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:o},r)}function Sle(t,e){return Fae(t.range,e.range)&&t.allDay===e.allDay&&Cle(t,e)}function Cle(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function Tle(t,e){return Object.assign(Object.assign({},kU(t.range,e,t.allDay)),{allDay:t.allDay})}function IU(t,e,n){return Object.assign(Object.assign({},kU(t,e,n)),{timeZone:e.timeZone})}function kU(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function Ale(t,e,n){let r=gU({editable:!1},n),s=O0(r.refined,r.extra,"",t.allDay,!0,n);return{def:s,ui:SU(s,e),instance:pC(s.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Rle(t,e,n){let r=!1,s=function(a){r||(r=!0,e(a))},i=function(a){r||(r=!0,n(a))},o=t(s,i);o&&typeof o.then=="function"&&o.then(s,i)}class g1 extends Error{constructor(e,n){super(e),this.response=n}}function Ile(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(s=>{if(s.ok)return s.json().then(i=>[i,s],()=>{throw new g1("Failure parsing JSON",s)});throw new g1("Request failed",s)})}let a_;function DU(){return a_==null&&(a_=kle()),a_}function kle(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class Dle extends ht{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{$g(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{$g(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,s=r||n.height==="auto"||n.contentHeight==="auto",i=!s&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return DU()||o.push("fc-liquid-hack"),e.children(o,i,s,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Fu{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Ple(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function _C(t){return{[t.component.uid]:t}}const L0={};class Nle{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),s;n=n||"day",s=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),i,o;for(let a in n)s.push(a);for(i=0;i<s.length;i+=1)if(o=n[s[i]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:bh(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=nt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Mt(n))}formatRange(e,n,r){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(n),Mt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let s=this.getCurrentData(),i=Ele(r,s.dateEnv,nt({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),EU(i,null,s))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),fle(e,n))}addEvent(e,n){if(e instanceof kt){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:j0({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),s;if(n instanceof Xl)s=n.internalEventSource;else if(typeof n=="boolean")n&&([s]=dC(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;s=o.internalEventSource}let i=mU(e,s,r,!1);if(i){let o=new kt(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:j0(i)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:xU(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:s}=n.eventStore;e=String(e);for(let i in r){let o=r[i];if(o.publicId===e){if(o.recurringDef)return new kt(n,o,null);for(let a in s){let l=s[a];if(l.defId===o.defId)return new kt(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return el(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let s in n)r.push(new Xl(e,n[s]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let s in r)if(r[s].publicId===e)return new Xl(n,r[s]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Xl)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=yU(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Xl(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=nt(e);n&&this.trigger("_scrollRequest",{time:n})}}function Mle(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function PU(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function Ole(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function jle(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Lle(t,e){return{left:t.left-e.left,top:t.top-e.top}}const l_=Dr();class Vle{constructor(){this.getKeysForEventDefs=Pe(this._getKeysForEventDefs),this.splitDateSelection=Pe(this._splitDateSpan),this.splitEventStore=Pe(this._splitEventStore),this.splitIndividualUi=Pe(this._splitIndividualUi),this.splitEventDrag=Pe(this._splitInteraction),this.splitEventResize=Pe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),s=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=qi(n,(u,h)=>this.eventUiBuilders[h]||Pe(Fle));for(let u in n){let h=n[u],p=o[u]||l_,m=this.eventUiBuilders[u];c[u]={businessHours:h.businessHours||e.businessHours,dateSelection:s[u]||null,eventStore:p,eventUiBases:m(e.eventUiBases[""],h.ui,i[u]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let s of r)n[s]=e}return n}_getKeysForEventDefs(e){return qi(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:s}=e,i={};for(let o in r)for(let a of n[o])i[a]||(i[a]=Dr()),i[a].defs[o]=r[o];for(let o in s){let a=s[o];for(let l of n[a.defId])i[l]&&(i[l].instances[o]=a)}return i}_splitIndividualUi(e,n){let r={};for(let s in e)if(s)for(let i of n[s])r[i]||(r[i]={}),r[i][s]=e[s];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),s=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,s),o=a=>{n[a]||(n[a]={affectedEvents:r[a]||l_,mutatedEvents:i[a]||l_,isEvent:e.isEvent})};for(let a in r)o(a);for(let a in i)o(a)}return n}}function Fle(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let s={"":vU(r)};return n&&Object.assign(s,n),s}function NU(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Pi(r.activeRange,t)),isOther:!!(r&&!Pi(r.currentRange,t)),isToday:!!(e&&Pi(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function bC(t,e){let n=["fc-day",`fc-day-${zoe[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const Ule=Mt({year:"numeric",month:"long",day:"numeric"}),Ble=Mt({week:"long"});function Gg(t,e,n="day",r=!0){const{dateEnv:s,options:i,calendarApi:o}=t;let a=s.format(e,n==="week"?Ble:Ule);if(i.navLinks){let l=s.toDate(e);const c=u=>{let h=n==="day"?i.navLinkDayClick:n==="week"?i.navLinkWeekClick:null;typeof h=="function"?h.call(o,s.toDate(e),u):(typeof h=="string"&&(n=h),o.zoomTo(e,n))};return Object.assign({title:qd(i.navLinkHint,[a,l],a),"data-navlink":""},r?tU(c):{onClick:c})}return{"aria-label":a}}let c_=null;function $le(){return c_===null&&(c_=zle()),c_}function zle(){let t=document.createElement("div");Wd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return rC(t),n}let u_;function Hle(){return u_||(u_=Wle()),u_}function Wle(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=MU(t);return document.body.removeChild(t),e}function MU(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function qle(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,s=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=MU(t),l=a.y-r-s,c=a.x-i-o,u={borderLeft:r,borderRight:s,borderTop:i,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return $le()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function Gle(t,e=!1,n){let r=EC(t),s=qle(t,e),i={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return e&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function EC(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Kle(t){let e=OU(t),n=t.getBoundingClientRect();for(let r of e){let s=PU(n,r.getBoundingClientRect());if(s)n=s;else return null}return n}function OU(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class bu{constructor(e,n,r,s){this.els=n;let i=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(i.left),s&&this.buildElVerticals(i.top)}buildElHorizontals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.left-e),r.push(i.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.top-e),r.push(i.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}topToIndex(e){let{tops:n,bottoms:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return bp(this.tops||[],e.tops||[])&&bp(this.bottoms||[],e.bottoms||[])&&bp(this.lefts||[],e.lefts||[])&&bp(this.rights||[],e.rights||[])}}function bp(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class xC{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Qle extends xC{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Yle extends xC{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ui extends ht{constructor(){super(...arguments),this.uid=Ml()}prepareHits(){}queryHit(e,n,r,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!kn(e,".fc-event-mirror")}isValidDateDownEl(e){return!kn(e,".fc-event:not(.fc-bg-event)")&&!kn(e,".fc-more-link")&&!kn(e,"a[data-navlink]")&&!kn(e,".fc-popover")}}class jU{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},n),{span:SC(n.span,e.touchingEntry.span)});r.push(s),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let s=e.span,i=n.span;s.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:i.start}},r),s.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:s.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:s}=this;n.lateral===-1?(d_(s,n.level,n.levelCoord),d_(r,n.level,[e])):d_(r[n.level],n.lateral,e),this.stackCnts[tl(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:s,stackCnts:i}=this,o=n.length,a=0,l=-1,c=-1,u=null,h=0;for(let w=0;w<o;w+=1){const g=n[w];if(!s&&g>=a+this.getEntryThickness(e))break;let b=r[w],_,v=F0(b,e.span.start,V0),x=v[0]+v[1];for(;(_=b[x])&&_.span.start<e.span.end;){let A=g+this.getEntryThickness(_);A>a&&(a=A,u=_,l=w,c=x),A===a&&(h=Math.max(h,i[tl(_)]+1)),x+=1}}let p=0;if(u)for(p=l+1;p<o&&n[p]<a;)p+=1;let m=-1;return p<o&&n[p]===a&&(m=F0(r[p],e.span.end,V0)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:h,levelCoord:a,level:p,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,s=[];for(let i=0;i<r;i+=1){let o=e[i],a=n[i];for(let l of o)s.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return s}}function V0(t){return t.span.end}function tl(t){return t.index+":"+t.span.start}function Zle(t){let e=[];for(let n of t){let r=[],s={span:n.span,entries:[n]};for(let i of e)SC(i.span,s.span)?s={entries:i.entries.concat(s.entries),span:Xle(i.span,s.span)}:r.push(i);r.push(s),e=r}return e}function Xle(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function SC(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function d_(t,e,n){t.splice(e,0,n)}function F0(t,e,n){let r=0,s=t.length;if(!s||e<n(t[r]))return[0,0];if(e>n(t[s-1]))return[s,0];for(;r<s;){let i=Math.floor(r+(s-r)/2),o=n(t[i]);if(e<o)s=i;else if(e>o)r=i+1;else return[i,1]}return[r,0]}class Jle{constructor(e,n){this.emitter=new Cy}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const CC={};function ece(t,e){return!t||e>10?Mt({weekday:"short"}):e>1?Mt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Mt({weekday:"long"})}const LU="fc-col-header-cell";function VU(t){return t.text}class tce extends ht{render(){let{dateEnv:e,options:n,theme:r,viewApi:s}=this.context,{props:i}=this,{date:o,dateProfile:a}=i,l=NU(o,i.todayRange,null,a),c=[LU].concat(bC(l,r)),u=e.format(o,i.dayHeaderFormat),h=!l.isDisabled&&i.colCnt>1?Gg(this.context,o):{},p=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:s},i.extraRenderProps),{text:u}),l);return V(Lr,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":l.isDisabled?void 0:aC(o)},i.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:VU,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},m=>V("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&V(m,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const nce=Mt({weekday:"long"});class rce extends ht{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:s,options:i}=this.context,o=Dn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:s}),e.extraRenderProps),{text:l});return V(Lr,{elTag:"th",elClasses:[LU,...bC(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:VU,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},u=>V("div",{className:"fc-scrollgrid-sync-inner"},V(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,nce)}})))}}class Eh extends kr{constructor(e,n){super(e,n),this.initialNowDate=bh(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=ha(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=n.dateEnv.startOf(r,e.unit),i=n.dateEnv.add(s,nt(1,e.unit)),o=i.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:s,todayRange:v1(s)},nextState:{nowDate:i,todayRange:v1(i)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Eh.contextType=Ji;function v1(t){let e=wt(t),n=Dn(e,1);return{start:e,end:n}}class FU extends ht{constructor(){super(...arguments),this.createDayHeaderFormatter=Pe(sce)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:s,renderIntro:i}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,n.length);return V(Eh,{unit:"day"},(a,l)=>V("tr",{role:"row"},i&&i("day"),n.map(c=>s?V(tce,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):V(rce,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function sce(t,e,n){return t||ece(e,n)}class UU{constructor(e,n){let r=e.start,{end:s}=e,i=[],o=[],a=-1;for(;r<s;)n.isHiddenDay(r)?i.push(a+.5):(a+=1,i.push(a),o.push(r)),r=Dn(r,1);this.dates=o,this.indices=i,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Dn(e.end,-1)),s=Math.max(0,n),i=Math.min(this.cnt-1,r);return s=Math.ceil(s),i=Math.floor(i),s<=i?{firstIndex:s,lastIndex:i,isStart:n===s,isEnd:r===i}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Ol(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class BU{constructor(e,n){let{dates:r}=e,s,i,o;if(n){for(i=r[0].getUTCDay(),s=1;s<r.length&&r[s].getUTCDay()!==i;s+=1);o=Math.ceil(r.length/s)}else o=1,s=r.length;this.rowCnt=o,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let s=0;s<this.colCnt;s+=1)r.push(this.buildCell(n,s));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),s=[];if(r){let{firstIndex:i,lastIndex:o}=r,a=i;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);s.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===i,isEnd:r.isEnd&&c-1===o}),a=c}}return s}}class $U{constructor(){this.sliceBusinessHours=Pe(this._sliceBusinessHours),this.sliceDateSelection=Pe(this._sliceDateSpan),this.sliceEventStore=Pe(this._sliceEventStore),this.sliceEventDrag=Pe(this._sliceInteraction),this.sliceEventResize=Pe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,s,...i){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,s,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,s,...i),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...i),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...i),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,s,...i){return this._sliceDateSpan({range:{start:e,end:ha(e,1)},allDay:!1},n,r,{},s,...i)}_sliceBusinessHours(e,n,r,s,...i){return e?this._sliceEventStore(xl(e,Ep(n,!!r),s),{},n,r,...i).bg:[]}_sliceEventStore(e,n,r,s,...i){if(e){let o=p1(e,n,Ep(r,!!s),s);return{bg:this.sliceEventRanges(o.bg,i),fg:this.sliceEventRanges(o.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,s,...i){if(!e)return null;let o=p1(e.mutatedEvents,n,Ep(r,!!s),s);return{segs:this.sliceEventRanges(o.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,s,i,...o){if(!e)return[];let a=Ep(n,!!r),l=El(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=Ale(e,s,i),u=this.sliceRange(e.range,...o);for(let h of u)h.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let s of e)r.push(...this.sliceEventRange(s,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Dn(r.start,1)});let s=this.sliceRange(r,...n);for(let i of s)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return s}}function Ep(t,e){let n=t.activeRange;return e?n:{start:ha(n.start,t.slotMinTime.milliseconds),end:ha(n.end,t.slotMaxTime.milliseconds-864e5)}}function zU(t,e,n){let{instances:r}=t.mutatedEvents;for(let s in r)if(!xy(e.validRange,r[s].range))return!1;return HU({eventDrag:t},n)}function ice(t,e,n){return xy(e.validRange,t.range)?HU({dateSelection:t},n):!1}function HU(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||oce)(r,e)}function oce(t,e,n={},r){return!(t.eventDrag&&!ace(t,e,n,r)||t.dateSelection&&!lce(t,e,n,r))}function ace(t,e,n,r){let s=e.getCurrentData(),i=t.eventDrag,o=i.mutatedEvents,a=o.defs,l=o.instances,c=qg(a,i.isEvent?t.eventUiBases:{"":s.selectionConfig});r&&(c=qi(c,r));let u=ile(t.eventStore,i.affectedEvents.instances),h=u.defs,p=u.instances,m=qg(h,t.eventUiBases);for(let w in l){let g=l[w],b=g.range,_=c[g.defId],v=a[g.defId];if(!WU(_.constraints,b,u,t.businessHours,e))return!1;let{eventOverlap:x}=e.options,A=typeof x=="function"?x:null;for(let O in p){let T=p[O];if(hC(b,T.range)&&(m[T.defId].overlap===!1&&i.isEvent||_.overlap===!1||A&&!A(new kt(e,h[T.defId],T),new kt(e,v,g))))return!1}let P=s.eventStore;for(let O of _.allows){let T=Object.assign(Object.assign({},n),{range:g.range,allDay:v.allDay}),S=P.defs[v.defId],R=P.instances[w],I;if(S?I=new kt(e,S,R):I=new kt(e,v),!O(yC(T,e),I))return!1}}return!0}function lce(t,e,n,r){let s=t.eventStore,i=s.defs,o=s.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!WU(c.constraints,l,s,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,h=typeof u=="function"?u:null;for(let p in o){let m=o[p];if(hC(l,m.range)&&(c.overlap===!1||h&&!h(new kt(e,i[m.defId],m),null)))return!1}for(let p of c.allows){let m=Object.assign(Object.assign({},n),a);if(!p(yC(m,e),null))return!1}return!0}function WU(t,e,n,r,s){for(let i of t)if(!uce(cce(i,e,n,r,s),e))return!1;return!0}function cce(t,e,n,r,s){return t==="businessHours"?f_(xl(r,e,s)):typeof t=="string"?f_(Sy(n,i=>i.groupId===t)):typeof t=="object"&&t?f_(xl(t,e,s)):[]}function f_(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function uce(t,e){for(let n of t)if(xy(n,e))return!0;return!1}const xp=/^(visible|hidden)$/;class dce extends ht{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Gi(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,s=n&&r,i=["fc-scroller"];return n&&(r?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),V("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(xp.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(xp.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return xp.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return xp.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ti{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:s,currentMap:i}=this,o=!1,a=!1;n!==null?(o=r in i,i[r]=n,s[r]=(s[r]||0)+1,a=!0):(s[r]-=1,s[r]||(delete i[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return Eae(this.currentMap,e,n,r)}getAll(){return dC(this.currentMap)}}function fce(t){let e=boe(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,Ooe(r));return Math.ceil(n)}function qU(t,e){return t.liquid&&e.liquid}function hce(t,e){return e.maxHeight!=null||qU(t,e)}function pce(t,e,n,r){let{expandRows:s}=n;return typeof e.content=="function"?e.content(n):V("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:s?n.clientHeight:""}},n.tableColGroupNode,V(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function mce(t,e){return fa(t,e,li)}function gce(t,e){let n=[];for(let r of t){let s=r.span||1;for(let i=0;i<s;i+=1)n.push(V("col",{style:{width:r.width==="shrink"?vce(e):r.width||"",minWidth:r.minWidth||""}}))}return V("colgroup",{},...n)}function vce(t){return t??4}function yce(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function wce(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function _ce(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function U0(t){return V("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Kg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function GU(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class TC extends ht{constructor(){super(...arguments),this.processCols=Pe(e=>e,mce),this.renderMicroColGroup=Pe(gce),this.scrollerRefs=new Ti,this.scrollerElRefs=new Ti(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,s=e.sections||[],i=this.processCols(e.cols),o=this.renderMicroColGroup(i,n.shrinkWidth),a=wce(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=s.length,c=0,u,h=[],p=[],m=[];for(;c<l&&(u=s[c]).type==="header";)h.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=s[c]).type==="body";)p.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=s[c]).type==="footer";)m.push(this.renderSection(u,o,!0)),c+=1;let w=!DU();const g={role:"rowgroup"};return V("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!w&&h.length)&&V("thead",g,...h),!!(!w&&p.length)&&V("tbody",g,...p),!!(!w&&m.length)&&V("tfoot",g,...m),w&&V("tbody",g,...h,...p,...m))}renderSection(e,n,r){return"outerContent"in e?V(Ct,{key:e.key},e.outerContent):V("tr",{key:e.key,role:"presentation",className:_ce(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,s){if("outerContent"in r)return r.outerContent;let{props:i}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=hce(i,e),u=qU(i,e),h=i.liquid?o?"scroll":c?"auto":"hidden":"visible",p=e.key,m=pce(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&a[p]!==void 0?a[p]:null,clientHeight:l[p]!==void 0?l[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return V(s?"th":"td",{ref:r.elRef,role:"presentation"},V("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},V(dce,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:h,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,n){let r=bce(this.props.sections,n);r&&Gi(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return yce(this.props.cols)?fce(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Hle(),{scrollerRefs:n,scrollerElRefs:r}=this,s=!1,i={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){s=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;i[l]=Math.floor(u.getBoundingClientRect().width-(s?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:i,scrollerClientHeights:o}}}TC.addStateEquality({scrollerClientWidths:li,scrollerClientHeights:li});function bce(t,e){for(let n of t)if(n.key===e)return n;return null}class AC extends ht{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&m1(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{eventRange:i}=s,{ui:o}=i,a={event:new kt(n,i.def,i.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&vle(s,n),isStartResizable:!e.disableResizing&&yle(s,n),isEndResizable:!e.disableResizing&&wle(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return V(Lr,Object.assign({},e,{elRef:this.handleEl,elClasses:[..._le(a),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&m1(this.el,this.props.seg)}}class KU extends ht{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{ui:i}=s.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=TU(s,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return V(AC,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:RU(s,n),defaultGenerator:Ece,timeText:a}),(l,c)=>V(Ct,null,V(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&V("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&V("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Ece(t){return V("div",{className:"fc-event-main-frame"},t.timeText&&V("div",{className:"fc-event-time"},t.timeText),V("div",{className:"fc-event-title-container"},V("div",{className:"fc-event-title fc-sticky"},t.event.title||V(Ct,null,""))))}const RC=t=>V(Ji.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return V(Lr,Object.assign({},t,{elTag:t.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),xce=Mt({day:"numeric"});class IC extends ht{constructor(){super(...arguments),this.refineRenderProps=sm(Sce)}render(){let{props:e,context:n}=this,{options:r}=n,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return V(Lr,Object.assign({},e,{elClasses:[...bC(s,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":aC(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function kC(t){return!!(t.dayCellContent||M0("dayCellContent",t))}function Sce(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:s}=t,i=NU(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,s?t.monthStartFormat:xce):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},i),{isMonthStart:s,dayNumberText:o}),t.extraRenderProps)}class QU extends ht{render(){let{props:e}=this,{seg:n}=e;return V(AC,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Cce,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Cce(t){let{title:e}=t.event;return e&&V("div",{className:"fc-event-title"},t.event.title)}function YU(t){return V("div",{className:`fc-${t}`})}const ZU=t=>V(Ji.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:s}=t,i=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(s),a=n.format(s,i);return V(Lr,Object.assign({},t,{renderProps:{num:o,text:a,date:s},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Tce,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function Tce(t){return t.text}const h_=10;class Ace extends ht{constructor(){super(...arguments),this.state={titleId:by()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Gi(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=J4(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:s}=this,i=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return aoe(V("div",Object.assign({},r.extraAttrs,{id:r.id,className:i.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),V("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},V("span",{className:"fc-popover-title",id:s.titleId},r.title),V("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),V("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:s}=this,i=Kle(n);if(i){let o=s.getBoundingClientRect(),a=r?kn(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,l=e?i.right-o.width:i.left;a=Math.max(a,h_),l=Math.min(l,document.documentElement.clientWidth-h_-o.width),l=Math.max(l,h_);let c=s.offsetParent.getBoundingClientRect();Wd(s,{top:a-c.top,left:l-c.left})}}}class Rce extends ui{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:s,todayRange:i,dateProfile:o}=r,a=n.format(s,e.dayPopoverFormat);return V(IC,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:i},(l,c,u)=>V(Ace,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},kC(e)&&V(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,s){let{rootEl:i,props:o}=this;return e>=0&&e<r&&n>=0&&n<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:r,bottom:s},layer:1}:null}}class XU extends ht{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:by()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Gi(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:s}=r.options,i=y1(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new kt(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof s=="function"&&(s=s({date:i,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&r.calendarApi.zoomTo(i,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return V(Ji.Consumer,null,r=>{let{viewApi:s,options:i,calendarApi:o}=r,{moreLinkText:a}=i,{moreCnt:l}=e,c=y1(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,h=qd(i.moreLinkHint,[l],u),p={num:l,shortText:`+${l}`,text:u,view:s};return V(Ct,null,!!e.moreCnt&&V(Lr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),tU(this.handleClick)),{title:h,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||Ice,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),n.isPopoverOpen&&V(Rce,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=kn(this.linkEl,".fc-view-harness"))}}function Ice(t){return t.text}function y1(t){if(t.allDayDate)return{start:t.allDayDate,end:Dn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:JU(e),end:Dce(e)}}function JU(t){return t.reduce(kce).eventRange.range.start}function kce(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Dce(t){return t.reduce(Pce).eventRange.range.end}function Pce(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Nce{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Mce extends Nce{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const Oce=[],eB={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},tB=Object.assign(Object.assign({},eB),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function jce(t){let e=t.length>0?t[0].code:"en",n=Oce.concat(t),r={en:tB};for(let s of n)r[s.code]=s;return{map:r,defaultCode:e}}function nB(t,e){return typeof t=="object"&&!Array.isArray(t)?rB(t.code,[t.code],t):Lce(t,e)}function Lce(t,e){let n=[].concat(t||[]),r=Vce(n,e)||tB;return rB(t,n,r)}function Vce(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let s=r.length;s>0;s-=1){let i=r.slice(0,s).join("-");if(e[i])return e[i]}}return null}function rB(t,e,n){let r=uC([eB,n],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:t,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function eo(t){return{id:Ml(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Fce(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(i){for(let o of i){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,s(o.deps),r=Bce(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&s(t),s(e),r}function Uce(){let t=[],e=[],n;return(r,s)=>((!n||!fa(r,t)||!fa(s,e))&&(n=Fce(r,s)),t=r,e=s,n)}function Bce(t,e){return{premiumReleaseDate:$ce(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function $ce(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Ca extends _h{}Ca.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ca.prototype.baseIconClass="fc-icon";Ca.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ca.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ca.prototype.iconOverrideOption="buttonIcons";Ca.prototype.iconOverrideCustomButtonOption="icon";Ca.prototype.iconOverridePrefix="fc-icon-";function zce(t,e){let n={},r;for(r in t)B0(r,n,t,e);for(r in e)B0(r,n,t,e);return n}function B0(t,e,n,r){if(e[t])return e[t];let s=Hce(t,e,n,r);return s&&(e[t]=s),s}function Hce(t,e,n,r){let s=n[t],i=r[t],o=u=>s&&s[u]!==null?s[u]:i&&i[u]!==null?i[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=B0(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),i?i.rawOptions:{})}:null}function w1(t){return qi(t,Wce)}function Wce(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=_1(e):n&&!(n.prototype instanceof ht)&&(n=_1(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function _1(t){return e=>V(Ji.Consumer,null,n=>V(Lr,{elTag:"div",elClasses:uU(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function qce(t,e,n,r){let s=w1(t),i=w1(e.views),o=zce(s,i);return qi(o,a=>Gce(a,i,e,n,r))}function Gce(t,e,n,r,s){let i=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(i&&(o=Kce(i),o)){let p=P0(o);a=p.unit,p.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=p=>{let m=p.buttonText||{},w=t.defaults.buttonTextKey;return w!=null&&m[w]!=null?m[w]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null},h=p=>{let m=p.buttonHints||{},w=t.defaults.buttonTextKey;return w!=null&&m[w]!=null?m[w]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(s)||t.defaults.buttonText||u(Gd)||t.type,buttonTitleOverride:h(r)||h(n)||t.overrides.buttonHint,buttonTitleDefault:h(s)||t.defaults.buttonHint||h(Gd)}}let b1={};function Kce(t){let e=JSON.stringify(t),n=b1[e];return n===void 0&&(n=nt(t),b1[e]=n),n}function Qce(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Yce(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Zce(t,e,n,r){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(s=r.buildPrev(t,n),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(t,n),s.isValid)return s;break}return t}function Xce(t,e,n){let r=e?e.activeRange:null;return iB({},iue(t,n),r,n)}function Jce(t,e,n,r){let s=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return iB(t,e.sources,s,r);case"REMOVE_EVENT_SOURCE":return tue(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?oB(t,s,r):t;case"FETCH_EVENT_SOURCES":return DC(t,e.sourceIds?iU(e.sourceIds):aB(t,r),s,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return sue(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function eue(t,e,n){let r=e?e.activeRange:null;return DC(t,aB(t,n),r,!0,n)}function sB(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function iB(t,e,n,r){let s={};for(let i of e)s[i.sourceId]=i;return n&&(s=oB(s,n,r)),Object.assign(Object.assign({},t),s)}function tue(t,e){return bl(t,n=>n.sourceId!==e)}function oB(t,e,n){return DC(t,bl(t,r=>nue(r,e,n)),e,!1,n)}function nue(t,e,n){return lB(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function DC(t,e,n,r,s){let i={};for(let o in t){let a=t[o];e[o]?i[o]=rue(a,n,r,s):i[o]=a}return i}function rue(t,e,n,r){let{options:s,calendarApi:i}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Ml();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;s.eventSourceSuccess&&(c=s.eventSourceSuccess.call(i,c,l.response)||c),t.success&&(c=t.success.call(i,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function sue(t,e,n,r){let s=t[e];return s&&n===s.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):t}function aB(t,e){return bl(t,n=>lB(n,e))}function iue(t,e){let n=wU(e),r=[].concat(t.eventSources||[]),s=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let i of r){let o=yU(i,e,n);o&&s.push(o)}return s}function lB(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function oue(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function aue(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function lue(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function cue(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function uue(t,e,n,r,s){let i=t.headerToolbar?E1(t.headerToolbar,t,e,n,r,s):null,o=t.footerToolbar?E1(t.footerToolbar,t,e,n,r,s):null;return{header:i,footer:o}}function E1(t,e,n,r,s,i){let o={},a=[],l=!1;for(let c in t){let u=t[c],h=due(u,e,n,r,s,i);o[c]=h.widgets,a.push(...h.viewsWithButtons),l=l||h.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function due(t,e,n,r,s,i){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},h=e.buttonHints||{},p=t?t.split(" "):[],m=[],w=!1;return{widgets:p.map(b=>b.split(",").map(_=>{if(_==="title")return w=!0,{buttonName:_};let v,x,A,P,O,T;if(v=a[_])A=S=>{v.click&&v.click.call(S.target,S,S.target)},(P=r.getCustomButtonIconClass(v))||(P=r.getIconClass(_,o))||(O=v.text),T=v.hint||v.text;else if(x=s[_]){m.push(_),A=()=>{i.changeView(_)},(O=x.buttonTextOverride)||(P=r.getIconClass(_,o))||(O=x.buttonTextDefault);let S=x.buttonTextOverride||x.buttonTextDefault;T=qd(x.buttonTitleOverride||x.buttonTitleDefault||e.viewHint,[S,_],S)}else if(i[_])if(A=()=>{i[_]()},(O=l[_])||(P=r.getIconClass(_,o))||(O=c[_]),_==="prevYear"||_==="nextYear"){let S=_==="prevYear"?"prev":"next";T=qd(u[S]||h[S],[c.year||"year","year"],c[_])}else T=S=>qd(u[_]||h[_],[c[S]||S,S],c[_]);return{buttonName:_,buttonClick:A,buttonIcon:P,buttonText:O,buttonHint:T}})),viewsWithButtons:m,hasTitle:w}}class fue{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let hue={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const pue=eo({name:"array-event-source",eventSourceDefs:[hue]});let mue={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,s=t.eventSource.meta;Rle(s.bind(null,IU(t.range,r)),i=>e({rawEvents:i}),n)}};const gue=eo({name:"func-event-source",eventSourceDefs:[mue]}),vue={method:String,extraParams:W,startParam:String,endParam:String,timeZoneParam:String};let yue={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,s=_ue(r,t.range,t.context);Ile(r.method,r.url,s).then(([i,o])=>{e({rawEvents:i,response:o})},n)}};const wue=eo({name:"json-event-source",eventSourceRefiners:vue,eventSourceDefs:[yue]});function _ue(t,e,n){let{dateEnv:r,options:s}=n,i,o,a,l,c={};return i=t.startParam,i==null&&(i=s.startParam),o=t.endParam,o==null&&(o=s.endParam),a=t.timeZoneParam,a==null&&(a=s.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[i]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const bue={daysOfWeek:W,startTime:nt,endTime:nt,duration:nt,startRecur:W,endRecur:W};let Eue={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=Foe(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=El(e,{start:t.startRecur,end:t.endRecur});return r?Sue(t.daysOfWeek,t.startTime,r,n):[]}};const xue=eo({name:"simple-recurring-event",recurringTypes:[Eue],eventRefiners:bue});function Sue(t,e,n,r){let s=t?iU(t):null,i=wt(n.start),o=n.end,a=[];for(;i<o;){let l;(!s||s[i.getUTCDay()])&&(e?l=r.add(i,e):l=i,a.push(l)),i=Dn(i,1)}return a}const Cue=eo({name:"change-handler",optionChangeHandlers:{events(t,e){x1([t],e)},eventSources:x1}});function x1(t,e){let n=dC(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let s of t){let i=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===s){n.splice(o,1),i=!0;break}i||r.push(s)}for(let s of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)e.calendarApi.addEventSource(s)}function Tue(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},IU(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Aue(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",el(t,e))}const Rue=[pue,gue,wue,xue,Cue,eo({name:"misc",isLoadingFuncs:[t=>sB(t.eventSources)],propSetHandlers:{dateProfile:Tue,eventStore:Aue}})];class Iue{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new nC(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function kue(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Mt(e.titleFormat||Due(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Due(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Vg(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class Pue{constructor(e){this.computeCurrentViewData=Pe(this._computeCurrentViewData),this.organizeRawLocales=Pe(jce),this.buildLocale=Pe(nB),this.buildPluginHooks=Uce(),this.buildDateEnv=Pe(Nue),this.buildTheme=Pe(Mue),this.parseToolbars=Pe(uue),this.buildViewSpecs=Pe(qce),this.buildDateProfileGenerator=sm(Oue),this.buildViewApi=Pe(jue),this.buildViewUiProps=sm(Fue),this.buildEventUiBySource=Pe(Lue,li),this.buildEventUiBases=Pe(Vue),this.parseContextBusinessHours=sm(Uue),this.buildTitle=Pe(kue),this.emitter=new Cy,this.actionRunner=new Iue(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),s=r.calendarOptions.initialView||r.pluginHooks.initialView,i=this.computeCurrentViewData(s,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let o=$ae(r.calendarOptions,r.dateEnv),a=i.dateProfileGenerator.build(o);Pi(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let p of r.pluginHooks.contextInit)p(l);let c=Xce(r.calendarOptions,a,l),u={dynamicOptionOverrides:n,currentViewType:s,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:Dr(),renderableEventStore:Dr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},h=Object.assign(Object.assign({},l),u);for(let p of r.pluginHooks.reducers)Object.assign(u,p(null,null,h));p_(u,l)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:s}=this,i=Yce(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,i,n.calendarApi),a=Qce(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,i);n.calendarApi.currentDataManager=this,s.setThisContext(n.calendarApi),s.setOptions(l.options);let c={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:h}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(h=l.dateProfileGenerator.build(u)),u=Bae(u,e),h=Zce(h,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Pi(h.currentRange,u))&&(u=h.currentRange.start);let p=Jce(r.eventSources,e,h,c),m=tle(r.eventStore,e,p,h,c),g=sB(p)&&!l.options.progressiveEventRendering&&r.renderableEventStore||m,{eventUiSingleBase:b,selectionConfig:_}=this.buildViewUiProps(c),v=this.buildEventUiBySource(p),x=this.buildEventUiBases(g.defs,b,v),A={dynamicOptionOverrides:i,currentViewType:a,currentDate:u,dateProfile:h,eventSources:p,eventStore:m,renderableEventStore:g,selectionConfig:_,eventUiBases:x,businessHours:this.parseContextBusinessHours(c),dateSelection:oue(r.dateSelection,e),eventSelection:aue(r.eventSelection,e),eventDrag:lue(r.eventDrag,e),eventResize:cue(r.eventResize,e)},P=Object.assign(Object.assign({},c),A);for(let S of o.pluginHooks.reducers)Object.assign(A,S(r,e,P));let O=p_(r,c),T=p_(A,c);!O&&T?s.trigger("loading",!0):O&&!T&&s.trigger("loading",!1),this.state=A,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,s=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(n.currentViewType,s,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,i.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),i),n),a=s.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=s.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=eue(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=f1(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=f1(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:i,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);S1(l);let c=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,i,a,s.defaultRangeSeparator),u=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),h=this.buildTheme(s,i),p=this.parseToolbars(s,this.stableOptionOverrides,h,u,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:i,dateEnv:c,viewSpecs:u,theme:h,toolbarConfig:p,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:s}=i_([Gd,e,n]),i=this.organizeRawLocales(r),o=i.map,a=this.buildLocale(s||i.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],Rue),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o1),a1),l1),l.listenerRefiners),l.optionRefiners),u={},h=i_([Gd,a,e,n]),p={},m=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,g=!1;for(let b in h)this.optionsForRefining.indexOf(b)===-1&&(h[b]===m[b]||Oa[b]&&b in m&&Oa[b](m[b],h[b]))?p[b]=w[b]:c[b]?(p[b]=c[b](h[b]),g=!0):u[b]=m[b];return g&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:i,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,s){let i=n.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(i,n.pluginHooks,n.localeDefaults,r,s);S1(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:i,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,s,i){let o=i_([Gd,e.optionDefaults,r,s,e.optionOverrides,i]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o1),a1),l1),yae),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,h=!1,p={};for(let m in o)o[m]===c[m]||Oa[m]&&Oa[m](o[m],c[m])?l[m]=u[m]:(o[m]===this.currentCalendarOptionsInput[m]||Oa[m]&&Oa[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(l[m]=this.currentCalendarOptionsRefined[m]):a[m]?l[m]=a[m](o[m]):p[m]=o[m],h=!0);return h&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function Nue(t,e,n,r,s,i,o,a){let l=nB(e||o.defaultCode,o.map);return new Rae({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:a})}function Mue(t,e){let n=e.themeClasses[t.themeSystem]||Ca;return new n(t)}function Oue(t){let e=t.dateProfileGeneratorClass||hU;return new e(t)}function jue(t,e,n){return new fue(t,e,n)}function Lue(t){return qi(t,e=>e.ui)}function Vue(t,e,n){let r={"":e};for(let s in t){let i=t[s];i.sourceId&&n[i.sourceId]&&(r[s]=n[i.sourceId])}return r}function Fue(t){let{options:e}=t;return{eventUiSingleBase:Wg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Wg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function p_(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function Uue(t){return ule(t.options.businessHours,t)}function S1(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class Bue extends ht{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return V("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,s=[],i=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:h}=o;if(a==="title")i=!1,s.push(V("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let p=a===n.activeButton,m=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",w=[`fc-${a}-button`,r.getClass("button")];p&&w.push(r.getClass("buttonActive")),s.push(V("button",{type:"button",title:typeof h=="function"?h(n.navUnit):h,disabled:m,"aria-pressed":p,className:w.join(" "),onClick:l},c||(u?V("span",{className:u,role:"img"}):"")))}}if(s.length>1){let o=i&&r.getClass("buttonGroup")||"";return V("div",{className:o},...s)}return s[0]}}class C1 extends ht{render(){let{model:e,extraClassName:n}=this.props,r=!1,s,i,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,s=o.left):s=o.start,o.right?(r=!0,i=o.right):i=o.end,V("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",a||[]),this.renderSection("end",i||[]))}renderSection(e,n){let{props:r}=this;return V(Bue,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class $ue extends ht{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Gi(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,s=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",o="";return r?n.availableWidth!==null?i=n.availableWidth/r:o=`${1/r*100}%`:i=e.height||"",V("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:i,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class zue extends Fu{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:s}=this,{context:i}=s,o=_u(r);if(o&&s.isValidSegDownEl(n.target)){let a=kn(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:r,event:new kt(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=eU(e.el,"click",".fc-event",this.handleSegClick)}}class Hue extends Fu{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{_u(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=Soe(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:s}=this,{context:i}=s,o=_u(r);(!n||s.isValidSegDownEl(n.target))&&i.emitter.trigger(e,{el:r,event:new kt(i,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi})}}class Wue extends jl{constructor(){super(...arguments),this.buildViewContext=Pe(Dae),this.buildViewPropTransformers=Pe(Gue),this.buildToolbarProps=Pe(que),this.headerRef=zn(),this.footerRef=zn(),this.interactionsStore={},this.state={viewLabelId:by()},this.registerInteractiveComponent=(e,n)=>{let r=Ple(e,n),o=[zue,Hue].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,L0[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete L0[e.uid]},this.resizeRunner=new nC(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,s=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,bh(e.options.now,e.dateEnv),e.viewTitle),i=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?i=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return V(Ji.Provider,{value:l},n.header&&V(C1,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},s)),V($ue,{liquid:i,height:o,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&V(C1,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let s in r)n[s]!==e[s]&&r[s](n[s],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return V(Ct,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of i)Object.assign(s,a.transform(s,e));let o=r.component;return V(o,Object.assign({},s))}}function que(t,e,n,r,s,i){let o=n.build(s,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:i,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Pi(e.currentRange,s),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function Gue(t){return t.map(e=>new e)}let Kue=class extends Nle{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;$g(()=>{Vf(V(Dle,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(s,i,o,a)=>(this.setClassNames(s),this.setHeight(i),V(cU.Provider,{value:this.customContentRenderId},V(Wue,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Vf(null,this.el),this.setClassNames([]),this.setHeight(""))},moe(e),this.el=e,this.renderRunner=new nC(this.handleRenderRequest),new Pue({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){$g(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!fa(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){X4(this.el,"height",e)}};class Que extends ui{constructor(){super(...arguments),this.headerElRef=zn()}renderSimpleLayout(e,n){let{props:r,context:s}=this,i=[],o=Kg(s.options);return e&&i.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),V(zg,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},V(TC,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,n,r,s){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&Kg(a.options),c=!o.forPrint&&GU(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:U0}]}),V(zg,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},V(i,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:s}]}],sections:u}))}}function Sp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Cp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function T1(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const cB=Mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function uB(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class dB extends ht{render(){let{props:e}=this;return V(KU,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:cB,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class fB extends ht{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,i=r.eventTimeFormat||cB,o=TU(s,i,n,!0,e.defaultDisplayEventEnd);return V(AC,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:RU(e.seg,n),defaultGenerator:Yue,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function Yue(t){return V(Ct,null,V("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&V("div",{className:"fc-event-time"},t.timeText),V("div",{className:"fc-event-title"},t.event.title||V(Ct,null,"")))}class Zue extends ht{constructor(){super(...arguments),this.compileSegs=Pe(Xue)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return V(XU,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return V(Ct,null,n.map(i=>{let o=i.eventRange.instance.instanceId;return V("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},uB(i)?V(fB,Object.assign({seg:i,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Jo(i,e.todayRange))):V(dB,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Jo(i,e.todayRange))))}))}})}}function Xue(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const Jue=Mt({week:"narrow"});class ede extends ui{constructor(){super(...arguments),this.rootElRef=zn(),this.state={dayNumberId:by()},this.handleRootEl=e=>{Gi(this.rootElRef,e),Gi(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:s}=this,{options:i,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&nde(a,l.currentRange,o);return V(IC,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:tde,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,h)=>V("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&V(ZU,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Gg(e,a,"week"),date:a,defaultFormat:Jue}),!h.isDisabled&&(n.showDayNumber||kC(i)||n.forceDayTop)?V("div",{className:"fc-daygrid-day-top"},V(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Gg(e,a)),{id:r.dayNumberId})})):n.showDayNumber?V("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},V("a",{className:"fc-daygrid-day-number"},"")):void 0,V("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,V("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},V(Zue,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:s,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),V("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function tde(t){return t.dayNumberText||V(Ct,null,"")}function nde(t,e,n){const{start:r,end:s}=e,i=ha(s,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(i),c=n.getMonth(i);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<s.valueOf())}function hB(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function pB(t){return hB(t)+":"+t.lastCol}function rde(t,e,n,r,s,i,o){let a=new ode(_=>{let v=t[_.index].eventRange.instance.instanceId+":"+_.span.start+":"+(_.span.end-1);return s[v]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=i,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let _=0;_<t.length;_+=1){let v=t[_],x=pB(v);s[x]!=null?l.push({index:_,span:{start:v.firstCol,end:v.lastCol+1}}):c.push(v)}let u=a.addSegs(l),h=a.toRects(),{singleColPlacements:p,multiColPlacements:m,leftoverMargins:w}=sde(h,t,o),g=[],b=[];for(let _ of c){m[_.firstCol].push({seg:_,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let v=_.firstCol;v<=_.lastCol;v+=1)p[v].push({seg:Mc(_,v,v+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<o.length;_+=1)g.push(0);for(let _ of u){let v=t[_.index],x=_.span;m[x.start].push({seg:Mc(v,x.start,x.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=x.start;A<x.end;A+=1)g[A]+=1,p[A].push({seg:Mc(v,A,A+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<o.length;_+=1)b.push(w[_]);return{singleColPlacements:p,multiColPlacements:m,moreCnts:g,moreMarginTops:b}}function sde(t,e,n){let r=ide(t,n.length),s=[],i=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,h=0;for(let m of l){let w=e[m.index];c.push({seg:Mc(w,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-u}),u=m.levelCoord+m.thickness}let p=[];u=0,h=0;for(let m of l){let w=e[m.index],g=m.span.end-m.span.start>1,b=m.span.start===a;h+=m.levelCoord-u,u=m.levelCoord+m.thickness,g?(h+=m.thickness,b&&p.push({seg:Mc(w,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):b&&(p.push({seg:Mc(w,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:h}),h=0)}s.push(c),i.push(p),o.push(h)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:o}}function ide(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let s=r.span.start;s<r.span.end;s+=1)n[s].push(r);return n}function Mc(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let s=t.eventRange,i=s.range,o=El(i,{start:r[e].date,end:Dn(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:t.isStart&&o.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===i.end.valueOf()})}class ode extends jU{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,s=i=>!this.forceHidden[tl(i)];for(let i=0;i<r.length;i+=1)r[i]=r[i].filter(s);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:s,forceHidden:i}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=tl(o);if(!i[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:SC(o.span,n.span)}),h=tl(u);i[h]=!0,s[a][l]=u,r.push(u),this.splitEntry(o,n,r)}else i[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class mB extends ui{constructor(){super(...arguments),this.cellElRefs=new Ti,this.frameElRefs=new Ti,this.fgElRefs=new Ti,this.segHarnessRefs=new Ti,this.rootElRef=zn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:s}=r,i=e.cells.length,o=Cp(e.businessHourSegs,i),a=Cp(e.bgEventSegs,i),l=Cp(this.getHighlightSegs(),i),c=Cp(this.getMirrorSegs(),i),{singleColPlacements:u,multiColPlacements:h,moreCnts:p,moreMarginTops:m}=rde(CU(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return V("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,b)=>{let _=this.renderFgSegs(b,e.forPrint?u[b]:h[b],e.todayRange,w),v=this.renderFgSegs(b,ade(c[b],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return V(ede,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:p[b],moreMarginTop:m[b],singlePlacements:u[b],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:V(Ct,null,V(Ct,null,_),V(Ct,null,v)),bgContent:V(Ct,null,this.renderFillSegs(l[b],"highlight"),this.renderFillSegs(o[b],"non-business"),this.renderFillSegs(a[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!li(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,s,i,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,h=this.props.cells.length===1,p=i||o||a,m=[];if(u)for(let w of n){let{seg:g}=w,{instanceId:b}=g.eventRange.instance,_=w.isVisible&&!s[b],v=w.isAbsolute,x="",A="";v&&(l.isRtl?(A=0,x=u.lefts[g.lastCol]-u.lefts[g.firstCol]):(x=0,A=u.rights[g.firstCol]-u.rights[g.lastCol])),m.push(V("div",{className:"fc-daygrid-event-harness"+(v?" fc-daygrid-event-harness-abs":""),key:hB(g),ref:p?null:this.segHarnessRefs.createRef(pB(g)),style:{visibility:_?"":"hidden",marginTop:v?"":w.marginTop,top:v?w.absoluteTop:"",left:x,right:A}},uB(g)?V(fB,Object.assign({seg:g,isDragging:i,isSelected:b===c,defaultDisplayEventEnd:h},Jo(g,r))):V(dB,Object.assign({seg:g,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:b===c,defaultDisplayEventEnd:h},Jo(g,r)))))}return m}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:s}=this.props,{framePositions:i}=this.state,o=[];if(i)for(let a of e){let l=r?{right:0,left:i.lefts[a.lastCol]-i.lefts[a.firstCol]}:{left:0,right:i.rights[a.firstCol]-i.rights[a.lastCol]};o.push(V("div",{key:AU(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?V(QU,Object.assign({seg:a},Jo(a,s))):YU(n)))}return V(Ct,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:s}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>s.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new bu(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new bu(c,l,!0,!1)})}}const i=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let s=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,s)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}mB.addStateEquality({segHeights:li});function ade(t,e){if(!t.length)return[];let n=lde(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function lde(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class cde extends ui{constructor(){super(...arguments),this.splitBusinessHourSegs=Pe(Sp),this.splitBgEventSegs=Pe(Sp),this.splitFgEventSegs=Pe(Sp),this.splitDateSelectionSegs=Pe(Sp),this.splitEventDrag=Pe(T1),this.splitEventResize=Pe(T1),this.rowRefs=new Ti}render(){let{props:e,context:n}=this,r=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,r),i=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return V(Eh,{unit:"day"},(h,p)=>V(Ct,null,e.cells.map((m,w)=>V(mB,{ref:this.rowRefs.createRef(w),key:m.length?m[0].date.toISOString():w,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:s[w],eventSelection:e.eventSelection,bgEventSegs:i[w].filter(ude),fgEventSegs:o[w],dateSelectionSegs:a[w],eventDrag:l[w],eventResize:c[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new bu(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new bu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:s}=this,i=r.leftToIndex(e),o=s.topToIndex(n);if(o!=null&&i!=null){let a=this.props.cells[o][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,i),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,i),rect:{left:r.lefts[i],right:r.rights[i],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,s=Dn(r,1);return{start:r,end:s}}}function ude(t){return t.eventRange.def.allDay}class dde extends ui{constructor(){super(...arguments),this.elRef=zn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:s}=e,i=r===!0||n===!0;i&&!s&&(i=!1,n=null,r=null);let o=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return V("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},V("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,V("tbody",{role:"presentation"},V(cde,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=fde(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),s=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function fde(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${tae(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${aC(e.currentDate)}"]`)),n}class hde extends $U{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class gB extends ui{constructor(){super(...arguments),this.slicer=new hde,this.tableRef=zn()}render(){let{props:e,context:n}=this;return V(dde,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class pde extends Que{constructor(){super(...arguments),this.buildDayTableModel=Pe(mde),this.headerRef=zn(),this.tableRef=zn()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,s=this.buildDayTableModel(r.dateProfile,n),i=e.dayHeaders&&V(FU,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=a=>V(gB,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,o)}}function mde(t,e){let n=new UU(t.renderRange,e);return new BU(n,/year|month|week/.test(t.currentRangeUnit))}class gde extends hU{buildRenderRange(e,n,r){let s=super.buildRenderRange(e,n,r),{props:i}=this;return vde({currentRange:s,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function vde(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:s}=n,i;if(t.snapToWeek&&(r=e.startOfWeek(r),i=e.startOfWeek(s),i.valueOf()!==s.valueOf()&&(s=e1(i,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(Dn(n.end,-1))),a=Math.ceil(Hoe(o,s));s=e1(s,6-a)}return{start:r,end:s}}var yde=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';tC(yde);var wde=eo({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:pde,dateProfileGeneratorClass:gde},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});CC.touchMouseIgnoreWait=500;let $0=0,Qg=0,z0=!1;class vB{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&_de(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let s=n.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,bde()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:r-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new Cy,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ede()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),xde()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||kn(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){z0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?kn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return $0||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(z0=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,s=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:s}}createEventFromTouch(e,n){let r=e.touches,s,i,o=0,a=0;return r&&r.length?(s=r[0].pageX,i=r[0].pageY):(s=e.pageX,i=e.pageY),n?(this.origPageX=s,this.origPageY=i):(o=s-this.origPageX,a=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:o,deltaY:a}}}function _de(t){return t.button===0&&!t.ctrlKey}function bde(){$0+=1,setTimeout(()=>{$0-=1},CC.touchMouseIgnoreWait)}function Ede(){Qg+=1,Qg===1&&window.addEventListener("touchmove",yB,{passive:!1})}function xde(){Qg-=1,Qg||window.removeEventListener("touchmove",yB,{passive:!1})}function yB(t){z0&&t.preventDefault()}class Sde{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Wd(r,{left:s.left,top:s.top}),Coe(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(rC(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Wd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Wd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class wB extends xC{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class _B extends wB{constructor(e,n){super(new Qle(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Gle(this.scrollController.el)}}class Cde extends wB{constructor(e){super(new Yle,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const A1=typeof performance=="function"?performance.now:Date.now;class Tde{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=A1();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,s=n-window.scrollY,i=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(A1()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:s}=this,i=s-e.distance,o=i*i/(s*s)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,s=null,i=this.scrollCaches||[];for(let o of i){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,h=a.bottom-n;l>=0&&c>=0&&u>=0&&h>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>u)&&(s={scrollCache:o,name:"top",distance:u}),h<=r&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>h)&&(s={scrollCache:o,name:"bottom",distance:h}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>l)&&(s={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>c)&&(s={scrollCache:o,name:"right",distance:c}))}return s}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Cde(!1):new _B(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class xh extends Jle{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Toe(document.body),Roe(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let i=this.minDistance,o,{deltaX:a,deltaY:l}=s;o=a*a+l*l,o>=i*i&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,Aoe(document.body),Ioe(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new vB(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Sde,this.autoScroller=new Tde}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Ade{constructor(e){this.el=e,this.origRect=EC(e),this.scrollCaches=OU(e).map(n=>new _B(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let s of this.scrollCaches)if(!Rde(s.getEventTarget())&&!Mle(r,s.clientRect))return!1;return!0}}function Rde(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Ty{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):s.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Cy}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,s=e.subjectEl,i;s instanceof HTMLElement&&(i=EC(s),r=Ole(r,i));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&i){let a=PU(i,o.rect);a&&(r=jle(a))}this.coordAdjust=Lle(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Ay(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=qi(this.droppableStore,e=>(e.component.prepareHits(),new Ade(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:s}=this,i=null;for(let o in r){let a=r[o].component,l=s[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),h=e-c,p=n-u,{origRect:m}=l,w=m.right-m.left,g=m.bottom-m.top;if(h>=0&&h<w&&p>=0&&p<g){let b=a.queryHit(h,p,w,g);b&&xy(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(h+c-window.scrollX,p+u-window.scrollY)))&&(!i||b.layer>i.layer)&&(b.componentId=o,b.context=a.context,b.rect.left+=c,b.rect.right+=c,b.rect.top+=u,b.rect.bottom+=u,i=b)}}}return i}}function Ay(t,e){return!t&&!e?!0:!!t!=!!e?!1:Sle(t.dateSpan,e.dateSpan)}function bB(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Ide(t,e.dateEnv)),n}function Ide(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class kde extends Fu{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:s}=this,i=r.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=r=>{let{component:s}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Ay(o,a)){let{context:l}=s,c=Object.assign(Object.assign({},bB(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new xh(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Ty(this.dragging,_C(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Dde extends Fu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?Pde(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let h=this.hitDragging.initialHit;o.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,o)||(c=Nde(h,o,l.pluginHooks.dateSelectionTransformers)),(!c||!ice(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?sC():iC(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(EU(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,s=this.dragging=new xh(e.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Ty(this.dragging,_C(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Pde(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Nde(t,e,n){let r=t.dateSpan,s=e.dateSpan,i=[r.range.start,r.range.end,s.range.start,s.range.end];i.sort(Moe);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:i[0],end:i[3]},o.allDay=r.allDay,o}class Sh extends Fu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:h}=l.context,p=l.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=_u(o.subjectEl),g=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=gC(p.getCurrentData().eventStore,g),c.minDistance=o.isTouch?0:h.eventDragMinDistance,c.delay=o.isTouch&&g!==l.props.eventSelection?Ode(l):null,h.fixedMirrorParent?u.parentNode=h.fixedMirrorParent:u.parentNode=kn(a,".fc"),u.revertDuration=h.dragRevertDuration;let b=l.isValidSegDownEl(a)&&!kn(a,".fc-event-resizer");c.setIgnoreMove(!b),this.isDragging=b&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new kt(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,h=null,p=null,m=null,w=!1,g={affectedEvents:l,mutatedEvents:Dr(),isEvent:!0};if(o){h=o.context;let b=h.options;u===h||b.editable&&b.droppable?(p=Mde(c,o,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(m=wC(l,h.getCurrentData().eventUiBases,p,h),g.mutatedEvents=m,zU(g,o.dateProfile,h)||(w=!0,p=null,m=null,g.mutatedEvents=Dr()))):h=null}this.displayDrag(h,g),w?sC():iC(),a||(u===h&&Ay(c,o)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=p,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,h=this.eventRange.def,p=this.eventRange.instance,m=new kt(a,h,p),w=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:l}),u){if(c===a){let _=new kt(a,g.defs[h.defId],p?g.instances[p.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let v={oldEvent:m,event:_,relatedEvents:el(g,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:w})}},x={};for(let A of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(x,A(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},v),x),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",v)}else if(c){let _={event:m,relatedEvents:el(w,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:w})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},_),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:w}),a.emitter.trigger("eventRemove",_);let v=g.defs[h.defId],x=g.instances[p.instanceId],A=new kt(c,v,x);c.dispatch({type:"MERGE_EVENTS",eventStore:g});let P={event:A,relatedEvents:el(g,c,x),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};c.emitter.trigger("eventAdd",P),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},bB(b.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:b.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},P),{draggedEl:o.subjectEl,view:b.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,s=this.dragging=new xh(e.el);s.pointer.selector=Sh.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Ty(this.dragging,L0);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,s=this.receivingContext;s&&s!==e&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Dr(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Sh.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Mde(t,e,n,r){let s=t.dateSpan,i=e.dateSpan,o=s.range.start,a=i.range.start,l={};s.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?o=wt(n):o=n);let c=hc(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let h of r)h(u,t,e);return u}function Ode(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class jde extends Fu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:o}=this,a=this.querySegEl(i),l=_u(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=i=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=gC(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(i);this.draggingSegEl=l,this.draggingSeg=_u(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new kt(o,a.def,a.instance),jsEvent:i.origEvent,view:o.viewApi})},this.handleHitUpdate=(i,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,h=this.eventRange.instance,p=null,m=null,w=!1,g={affectedEvents:c,mutatedEvents:Dr(),isEvent:!0};i&&(i.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,i)||(p=Lde(u,i,a.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),p&&(m=wC(c,l.getCurrentData().eventUiBases,p,l),g.mutatedEvents=m,zU(g,i.dateProfile,l)||(w=!0,p=null,m=null,g.mutatedEvents=null)),m?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),w?sC():iC(),o||(p&&Ay(u,i)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=m)},this.handleDragEnd=i=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new kt(o,a,l),u=this.relevantEvents,h=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:i.origEvent,view:o.viewApi}),this.validMutation){let p=new kt(o,h.defs[a.defId],l?h.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:h});let m={oldEvent:c,event:p,relatedEvents:el(h,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||nt(0),endDelta:this.validMutation.endDelta||nt(0),jsEvent:i.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new xh(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let s=this.hitDragging=new Ty(this.dragging,_C(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return kn(e.subjectEl,".fc-event")}}function Lde(t,e,n,r){let s=t.context.dateEnv,i=t.dateSpan.range.start,o=e.dateSpan.range.start,a=hc(i,o,s,t.largeUnit);if(n){if(s.add(r.start,a)<r.end)return{startDelta:a}}else if(s.add(r.end,a)>r.start)return{endDelta:a};return null}class Vde{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let s=this.context.options.unselectCancel,i=J4(r.origEvent);this.matchesCancel=!!kn(i,s),this.matchesEvent=!!kn(i,Sh.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:s}=this,{documentPointer:i}=this,o=s.getCurrentData();if(!i.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=s.options.unselectAuto;a&&(!a||!this.matchesCancel)&&s.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new vB(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Fde={fixedMirrorParent:W},Ude={dateClick:W,eventDragStart:W,eventDragStop:W,eventDrop:W,eventResizeStart:W,eventResizeStop:W,eventResize:W,drop:W,eventReceive:W,eventLeave:W};CC.dataAttrPrefix="";var Bde=eo({name:"@fullcalendar/interaction",componentInteractions:[kde,Dde,Sh,jde],calendarInteractions:[Vde],elementDraggingImpl:xh,optionRefiners:Fde,listenerRefiners:Ude});const $de=parseInt(String(X.version).split(".")[0]),zde=$de<18;class EB extends y.Component{constructor(){super(...arguments),this.elRef=y.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(X.createElement(Hde,{key:n.id,customRendering:n}));return X.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Mce;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Kue(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{ei.flushSync(()=>{})});let n;e.subscribe(r=>{const s=Date.now(),i=!n;(zde||i||this.isUpdating||this.isUnmounting||s-n<100?xB:ei.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=s,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}EB.act=xB;class Hde extends y.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return ei.createPortal(r,e.containerEl)}}function xB(t){t()}class Wde extends Vle{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?mle(e)?["timed","allDay"]:["allDay"]:["timed"]}}const qde=Mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function SB(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return V(Ji.Consumer,null,n=>{if(!t.isLabeled)return V("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:s,viewApi:i}=n,o=s.slotLabelFormat==null?qde:Array.isArray(s.slotLabelFormat)?Mt(s.slotLabelFormat[0]):Mt(s.slotLabelFormat),a={level:0,time:t.time,date:r.toDate(t.date),view:i,text:r.format(t.date,o)};return V(Lr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:Gde,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},l=>V("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},V(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Gde(t){return t.text}class Kde extends ht{render(){return this.props.slatMetas.map(e=>V("tr",{key:e.key},V(SB,Object.assign({},e))))}}const Qde=Mt({week:"short"}),Yde=5;class Zde extends ui{constructor(){super(...arguments),this.allDaySplitter=new Wde,this.headerElRef=zn(),this.rootElRef=zn(),this.scrollerElRef=zn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:s}=this.props,i=s.renderRange,a=Ol(i.start,i.end)===1?Gg(this.context,i.start,"week"):{};return r.weekNumbers&&e==="day"?V(ZU,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:Qde},l=>V("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},V(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):V("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},V("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,s={text:n.allDayText,view:r};return V(Lr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:Xde,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},i=>V("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},V(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:s,props:i}=this,o=[],a=Kg(s.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:V("tr",{role:"presentation",className:"fc-scrollgrid-section"},V("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),V(zg,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},V(TC,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,s,i,o,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,h=!u.forPrint&&Kg(c.options),p=!u.forPrint&&GU(c.options),m=[];e&&m.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>V("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>V("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:n}]}),m.push({key:"all-day-divider",type:"body",outerContent:V("tr",{role:"presentation",className:"fc-scrollgrid-section"},V("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let w=c.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:g=>V("div",{className:"fc-timegrid-axis-chunk"},V("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,V("tbody",null,V(Kde,{slatMetas:o}))),V("div",{className:"fc-timegrid-now-indicator-container"},V(Eh,{unit:w?"minute":"day"},b=>{let _=w&&a&&a.safeComputeTop(b);return typeof _=="number"?V(RC,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:_},isAxis:!0,date:b}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),p&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:U0},{key:"cols",content:U0}]}),V(zg,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},V(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:i}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=Yde),{dayMaxEvents:e,dayMaxEventRows:n}}}function Xde(t){return t.text}class Jde{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Pi(n.currentRange,e)){let r=wt(e),s=e.valueOf()-r.valueOf();if(s>=ds(n.slotMinTime)&&s<ds(n.slotMaxTime))return this.computeTimeTop(nt(s))}return null}computeDateTop(e,n){return n||(n=wt(e)),this.computeTimeTop(nt(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,s=n.els.length,i=(e.milliseconds-ds(r.slotMinTime))/ds(this.slotDuration),o,a;return i=Math.max(0,i),i=Math.min(s,i),o=Math.floor(i),o=Math.min(o,s-1),a=i-o,n.tops[o]+n.getHeight(o)*a}}class efe extends ht{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:s}=e;return V("tbody",null,e.slatMetas.map((i,o)=>{let a={time:i.time,date:n.dateEnv.toDate(i.date),view:n.viewApi};return V("tr",{key:i.key,ref:s.createRef(i.key)},e.axis&&V(SB,Object.assign({},i)),V(Lr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class tfe extends ht{constructor(){super(...arguments),this.rootElRef=zn(),this.slatElRefs=new Ti}render(){let{props:e,context:n}=this;return V("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},V("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,V(efe,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new Jde(new bu(this.rootElRef.current,nfe(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function nfe(t,e){return e.map(n=>t[n.key])}function ad(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function R1(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class rfe extends ht{render(){let{props:e}=this;return V(XU,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>TB(e.hiddenSegs,e),defaultGenerator:sfe,forceTimed:!0},n=>V(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function sfe(t){return t.shortText}function ife(t,e,n){let r=new jU;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let s=r.addSegs(t),i=Zle(s),o=ofe(r);return o=ufe(o,1),{segRects:dfe(o),hiddenGroups:i}}function ofe(t){const{entriesByLevel:e}=t,n=PC((r,s)=>r+":"+s,(r,s)=>{let i=cfe(t,r,s),o=I1(i,n),a=e[r][s];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return I1(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function I1(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:s}=t,i=r,o=[];for(;i<s;)o.push(e(n,i)),i+=1;return o.sort(afe),[o.map(lfe),o[0][1]]}function afe(t,e){return e[1]-t[1]}function lfe(t){return t[0]}function cfe(t,e,n){let{levelCoords:r,entriesByLevel:s}=t,i=s[e][n],o=r[e]+i.thickness,a=r.length,l=e;for(;l<a&&r[l]<o;l+=1);for(;l<a;l+=1){let c=s[l],u,h=F0(c,i.span.start,V0),p=h[0]+h[1],m=p;for(;(u=c[m])&&u.span.start<i.span.end;)m+=1;if(p<m)return{level:l,lateralStart:p,lateralEnd:m}}return null}function ufe(t,e){const n=PC((r,s,i)=>tl(r),(r,s,i)=>{let{nextLevelNodes:o,thickness:a}=r,l=a+i,c=a/l,u,h=[];if(!o.length)u=e;else for(let m of o)if(u===void 0){let w=n(m,s,l);u=w[0],h.push(w[1])}else{let w=n(m,u,0);h.push(w[1])}let p=(u-s)*c;return[u-p,Object.assign(Object.assign({},r),{thickness:p,nextLevelNodes:h})]});return t.map(r=>n(r,0,0)[1])}function dfe(t){let e=[];const n=PC((s,i,o)=>tl(s),(s,i,o)=>{let a=Object.assign(Object.assign({},s),{levelCoord:i,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=r(s.nextLevelNodes,i+s.thickness,o+1)+1});function r(s,i,o){let a=0;for(let l of s)a=Math.max(n(l,i,o),a);return a}return r(t,0,0),e}function PC(t,e){const n={};return(...r)=>{let s=t(...r);return s in n?n[s]:n[s]=e(...r)}}function k1(t,e,n=null,r=0){let s=[];if(n)for(let i=0;i<t.length;i+=1){let o=t[i],a=n.computeDateTop(o.start,e),l=Math.max(a+(r||0),n.computeDateTop(o.end,e));s.push({start:Math.round(a),end:Math.round(l)})}return s}function ffe(t,e,n,r){let s=[],i=[];for(let c=0;c<t.length;c+=1){let u=e[c];u?s.push({index:c,thickness:1,span:u}):i.push(t[c])}let{segRects:o,hiddenGroups:a}=ife(s,n,r),l=[];for(let c of o)l.push({seg:t[c.index],rect:c});for(let c of i)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}const hfe=Mt({hour:"numeric",minute:"2-digit",meridiem:!1});class CB extends ht{render(){return V(KU,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:hfe}))}}class pfe extends ht{constructor(){super(...arguments),this.sortEventSegs=Pe(CU)}render(){let{props:e,context:n}=this,{options:r}=n,s=r.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return V(IC,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>V("div",{className:"fc-timegrid-col-frame"},V("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),V("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),V("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),V("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),kC(r)&&V(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,s,i,o){let{props:a}=this;return a.forPrint?TB(e,a):this.renderPositionedFgSegs(e,n,r,s,i,o)}renderPositionedFgSegs(e,n,r,s,i,o){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:h,slatCoords:p,eventSelection:m,todayRange:w,nowDate:g}=this.props,b=r||s||i,_=k1(e,h,p,u),{segPlacements:v,hiddenGroups:x}=ffe(e,_,c,a);return V(Ct,null,this.renderHiddenGroups(x,e),v.map(A=>{let{seg:P,rect:O}=A,T=P.eventRange.instance.instanceId,S=b||!!(!n[T]&&O),R=m_(O&&O.span),I=!b&&O?this.computeSegHStyle(O):{left:0,right:0},N=!!O&&O.stackForward>0,k=!!O&&O.span.end-O.span.start<l;return V("div",{className:"fc-timegrid-event-harness"+(N?" fc-timegrid-event-harness-inset":""),key:o||T,style:Object.assign(Object.assign({visibility:S?"":"hidden"},R),I)},V(CB,Object.assign({seg:P,isDragging:r,isResizing:s,isDateSelecting:i,isSelected:T===m,isShort:k},Jo(P,w,g))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:s,todayRange:i,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c}=this.props;return V(Ct,null,e.map(u=>{let h=m_(u.span),p=mfe(u.entries,n);return V(rfe,{key:sU(JU(p)),hiddenSegs:p,top:h.top,bottom:h.bottom,extraDateSpan:r,dateProfile:s,todayRange:i,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c})}))}renderFillSegs(e,n){let{props:r,context:s}=this,o=k1(e,r.date,r.slatCoords,s.options.eventMinHeight).map((a,l)=>{let c=e[l];return V("div",{key:AU(c.eventRange),className:"fc-timegrid-bg-harness",style:m_(a)},n==="bg-event"?V(QU,Object.assign({seg:c},Jo(c,r.todayRange,r.nowDate))):YU(n))});return V(Ct,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((s,i)=>V(RC,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(s.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,s=r.slotEventOverlap,i=e.levelCoord,o=e.levelCoord+e.thickness,a,l;s&&(o=Math.min(1,i+(o-i)*2)),n?(a=1-o,l=i):(a=i,l=1-o);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return s&&!e.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c}}function TB(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:s,eventResize:i}){let o=(s?s.affectedInstances:null)||(i?i.affectedInstances:null)||{};return V(Ct,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return V("div",{key:l,style:{visibility:o[l]?"hidden":""}},V(CB,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===r,isShort:!1},Jo(a,e,n))))}))}function m_(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function mfe(t,e){return t.map(n=>e[n.index])}class gfe extends ht{constructor(){super(...arguments),this.splitFgEventSegs=Pe(ad),this.splitBgEventSegs=Pe(ad),this.splitBusinessHourSegs=Pe(ad),this.splitNowIndicatorSegs=Pe(ad),this.splitDateSelectionSegs=Pe(ad),this.splitEventDrag=Pe(R1),this.splitEventResize=Pe(R1),this.rootElRef=zn(),this.cellElRefs=new Ti}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,s),o=this.splitBgEventSegs(e.bgEventSegs,s),a=this.splitBusinessHourSegs(e.businessHourSegs,s),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),c=this.splitDateSelectionSegs(e.dateSelectionSegs,s),u=this.splitEventDrag(e.eventDrag,s),h=this.splitEventResize(e.eventResize,s);return V("div",{className:"fc-timegrid-cols",ref:this.rootElRef},V("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,V("tbody",{role:"presentation"},V("tr",{role:"row"},e.axis&&V("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},V("div",{className:"fc-timegrid-col-frame"},V("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&V(RC,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((p,m)=>V(pfe,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:i[m],bgEventSegs:o[m],businessHourSegs:a[m],nowIndicatorSegs:l[m],dateSelectionSegs:c[m],eventDrag:u[m],eventResize:h[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new bu(this.rootElRef.current,vfe(this.cellElRefs.currentMap,e.cells),!0,!1))}}function vfe(t,e){return e.map(n=>t[n.key])}class yfe extends ui{constructor(){super(...arguments),this.processSlotOptions=Pe(wfe),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let s=r.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),n(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return V("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},V(tfe,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),V(gfe,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:s}=this.context,{colCoords:i}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),u=i.leftToIndex(e),h=a.positions.topToIndex(n);if(u!=null&&h!=null){let p=this.props.cells[u],m=a.positions.tops[h],w=a.positions.getHeight(h),g=(n-m)/w,b=Math.floor(g*c),_=h*c+b,v=this.props.cells[u].date,x=D0(o.slotMinTime,Uoe(l,_)),A=r.add(v,x),P=r.add(A,l);return{dateProfile:o,dateSpan:Object.assign({range:{start:A,end:P},allDay:!1},p.extraDateSpan),dayEl:i.els[u],rect:{left:i.lefts[u],right:i.rights[u],top:m,bottom:m+w},layer:0}}return null}}function wfe(t,e){let n=e||t,r=oC(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class _fe extends $U{sliceRange(e,n){let r=[];for(let s=0;s<n.length;s+=1){let i=El(e,n[s]);i&&r.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:s})}return r}}class bfe extends ui{constructor(){super(...arguments),this.buildDayRanges=Pe(Efe),this.slicer=new _fe,this.timeColsRef=zn()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:s}=e,{nowIndicator:i,nextDayThreshold:o}=n.options,a=this.buildDayRanges(s,r,n.dateEnv);return V(Eh,{unit:i?"minute":"day"},(l,c)=>V(yfe,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:i&&this.slicer.sliceNowDate(l,r,o,n,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Efe(t,e,n){let r=[];for(let s of t.headerDates)r.push({start:n.add(s,e.slotMinTime),end:n.add(s,e.slotMaxTime)});return r}const D1=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function xfe(t,e,n,r,s){let i=new Date(0),o=t,a=nt(0),l=n||Sfe(r),c=[];for(;ds(o)<ds(e);){let u=s.add(i,o),h=oC(a,l)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:nae(u),isLabeled:h}),o=D0(o,r),a=D0(a,r)}return c}function Sfe(t){let e,n,r;for(e=D1.length-1;e>=0;e-=1)if(n=nt(D1[e]),r=oC(n,t),r!==null&&r>1)return n;return t}class Cfe extends Zde{constructor(){super(...arguments),this.buildTimeColsModel=Pe(Tfe),this.buildSlatMetas=Pe(xfe)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:s}=this,{dateProfile:i}=s,o=this.buildTimeColsModel(i,r),a=this.allDaySplitter.splitProps(s),l=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:c}=e,u=!c,h=c,p=e.dayHeaders&&V(FU,{dates:o.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(g=>V(gB,Object.assign({},a.allDay,{dateProfile:i,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),w=g=>V(bfe,Object.assign({},a.timed,{dayTableModel:o,dateProfile:i,axis:u,slotDuration:e.slotDuration,slatMetas:l,forPrint:s.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(p,m,w,o.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(p,m,w)}}function Tfe(t,e){let n=new UU(t.renderRange,e);return new BU(n,!1)}var Afe='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';tC(Afe);const Rfe={allDaySlot:Boolean};var Ife=eo({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Rfe,views:{timeGrid:{component:Cfe,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});const kfe=({isOpen:t,onOpenChange:e,event:n})=>{if(!n)return null;const r=n.extendedProps.service==="day_off",s=n.extendedProps.service==="out_of_office";return d.jsx(mf,{open:t,onOpenChange:e,children:d.jsxs(Jc,{className:"sm:max-w-[425px]",children:[d.jsx(eu,{children:d.jsx(tu,{className:me("text-lg font-semibold pb-2",r&&"text-gray-500",s&&"text-orange-500",!r&&!s&&"text-primary"),children:r?"Dia de Folga":s?"Horrio Indisponvel":"Agendamento"})}),d.jsx("div",{className:"flex flex-col gap-4",children:r?d.jsx("p",{className:"text-gray-500",children:"Este dia est marcado como folga."}):s?d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{className:"text-orange-500",children:"Este horrio est indisponvel."}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:"Perodo:"}),d.jsxs("span",{children:[n.extendedProps.startHour," s"," ",n.extendedProps.endHour]})]})]}):d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:"Servio:"}),d.jsx("span",{children:n.extendedProps.service})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:"Horrio:"}),d.jsx("span",{children:n.extendedProps.hour})]}),n.extendedProps.client_id&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:"Cliente:"}),d.jsx("span",{children:n.extendedProps.client_id})]})]})})]})})},Dfe=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState([]),[o,a]=y.useState(!0),[l,c]=y.useState([]),[u,h]=y.useState(!0),[p,m]=y.useState(!1),[w,g]=y.useState(""),[b,_]=y.useState(!1),[v,x]=y.useState({}),[A,P]=y.useState(null),[O,T]=y.useState(!1),[S,R]=y.useState(null),[I,N]=y.useState(!1),k=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"];y.useEffect(()=>{(async()=>{try{const Q=bs(gn,"calendar"),q=(await ii(Q)).docs.map(J=>({id:J.id,...J.data()}));e(q),q.length>0&&r(q[0].id)}catch(Q){console.error("Erro ao buscar calendrio:",Q)}finally{a(!1)}})()},[]),y.useEffect(()=>{(async()=>{try{const Q=bs(gn,"services"),q=(await ii(Q)).docs.map(J=>({service_id:J.id,...J.data()}));c(q)}catch(Q){console.error("Erro ao buscar servios:",Q)}finally{h(!1)}})()},[]),y.useEffect(()=>{if(!n||!t.length||!l.length)return;const j=t.find(q=>q.id===n);if(!j)return;const se=j.calendar.flatMap(q=>{var Ee;if(((Ee=q.day_time[0])==null?void 0:Ee.appointment_id)==="day_off")return[{id:crypto.randomUUID(),title:"Dia de Folga",date:q.day.replace(/\//g,"-"),start:`${q.day.replace(/\//g,"-")}T00:00:00`,end:`${q.day.replace(/\//g,"-")}T23:59:59`,allDay:!0,extendedProps:{service:"day_off"}}];const ie=new Map;return q.day_time.forEach($=>{if($.appointment_id==="out_of_office"){const H=$.hour.split(":")[0];ie.has(H)||ie.set(H,$)}}),[...Array.from(ie.values()).map($=>({id:crypto.randomUUID(),title:"Horrio Indisponvel",date:q.day.replace(/\//g,"-"),start:`${q.day.replace(/\//g,"-")}T${$.hour}`,end:`${q.day.replace(/\//g,"-")}T${$.hour.split(":")[0]}:59`,extendedProps:{service:"out_of_office",startHour:$.hour,endHour:`${$.hour.split(":")[0]}:59`}})),...q.day_time.filter($=>$.service!=="none"&&$.appointment_id!=="day_off"&&$.appointment_id!=="out_of_office").map($=>{const H=l.find(ge=>ge.description===$.service),ye=((H==null?void 0:H.service_duration)||1)*15,Se=new Date(`${q.day.replace(/\//g,"-")}T${$.hour}`),xe=new Date(Se.getTime()+ye*6e4);return{id:$.appointment_id||crypto.randomUUID(),title:`${$.service} - ${$.hour}`,date:q.day.replace(/\//g,"-"),start:Se.toISOString(),end:xe.toISOString(),extendedProps:{client_id:$.client_id,hour:$.hour,service:$.service}}})]}).reduce((q,J)=>q.find(Ee=>Ee.id===J.id)?q:q.concat([J]),[]);i(se)},[n,t,l]);const D=j=>{R(j.event),N(!0)};if(o)return d.jsx("div",{children:"Carregando..."});const G=j=>{const Q=j.event.extendedProps.service==="day_off",se=j.event.extendedProps.service==="out_of_office";return d.jsx("div",{className:`cursor-pointer w-full h-full p-2 rounded ${Q?"bg-gray-500 text-white":se?"bg-orange-500 text-white":"bg-primary text-white"}`,children:Q?d.jsx("strong",{children:"Dia de Folga"}):se?d.jsx("strong",{children:"Horrio Indisponvel"}):d.jsxs(d.Fragment,{children:[j.event.extendedProps.hour&&d.jsx("p",{children:j.event.extendedProps.hour}),d.jsx("strong",{children:j.event.extendedProps.service})]})})},ae=async j=>{var Ee;const Q=t.find($=>$.id===n);if(!Q)return;const se=j.dateStr;g(se);const q=Q.calendar.find($=>$.day===se.replace(/-/g,"/")),J=((Ee=q==null?void 0:q.day_time[0])==null?void 0:Ee.appointment_id)==="day_off";_(J);const ie={};q==null||q.day_time.forEach($=>{const H=$.hour.split(":")[0]+":00";ie[H]=$.appointment_id!=="out_of_office"&&$.appointment_id!=="day_off"&&$.appointment_id!=="not_in_schedule"}),x(ie),m(!0)},te=async j=>{if(!(!n||!w||O))try{T(!0),P(j);const Q=t.find(ie=>ie.id===n);if(!Q)return;const se=j.split(":")[0],q=Q.calendar.map(ie=>ie.day===w.replace(/-/g,"/")?{...ie,day_time:ie.day_time.map(Ee=>{if(Ee.hour.split(":")[0]===se){const $=!v[j];return{...Ee,appointment_id:$?"":"out_of_office",client_id:$?"none":"out_of_office",service:$?"none":"out_of_office"}}return Ee})}:ie),J=Ii(gn,"calendar",n);await Hb(J,{calendar:q}),e(ie=>ie.map(Ee=>Ee.id===n?{...Ee,calendar:q}:Ee)),x(ie=>({...ie,[j]:!ie[j]}))}catch(Q){console.error("Erro ao atualizar horrio:",Q),alert("Erro ao atualizar o horrio. Tente novamente.")}finally{T(!1),P(null)}},K=async()=>{if(!(!n||!w||O))try{T(!0);const j=t.find(q=>q.id===n);if(!j)return;const Q=j.calendar.map(q=>q.day===w.replace(/-/g,"/")?{...q,day_time:q.day_time.map(J=>({...J,appointment_id:b?"":"day_off",client_id:b?"none":"day_off",service:b?"none":"day_off"}))}:q),se=Ii(gn,"calendar",n);if(await Hb(se,{calendar:Q}),e(q=>q.map(J=>J.id===n?{...J,calendar:Q}:J)),b){const q={};k.forEach(J=>{q[J]=!0}),x(q)}}catch(j){console.error("Erro ao atualizar dia:",j),alert("Erro ao atualizar o dia. Tente novamente.")}finally{T(!1)}},F=new Date(w);return F.setDate(F.getDate()+1),d.jsxs("div",{children:[d.jsxs("div",{className:"w-[240px] mb-10 flex flex-col gap-3",children:[d.jsx(bS,{children:"Profissional:"}),d.jsxs($d,{value:n,onValueChange:j=>r(j),children:[d.jsx(Ic,{children:d.jsx(zd,{placeholder:"Selecione um profissional"})}),d.jsx(kc,{children:t.map(j=>d.jsx(Do,{value:j.id,children:j.id},j.id))})]})]}),d.jsx(mf,{open:p,onOpenChange:m,children:d.jsxs(Jc,{className:"flex flex-col gap-4 max-w-3xl h-[80vh] overflow-y-auto",children:[d.jsx(eu,{children:d.jsxs(tu,{children:["Configurar Dia"," ",w&&new Date(F).toLocaleDateString("pt-BR")]})}),d.jsxs(XS,{defaultValue:"config",className:"w-full",children:[d.jsxs(wy,{className:"grid w-full grid-cols-2",children:[d.jsx(No,{value:"config",children:"Configurao"}),d.jsx(No,{value:"events",children:"Eventos do Dia"})]}),d.jsx(Mo,{value:"config",children:d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(k4,{id:"dayOff",checked:b,disabled:O,onCheckedChange:()=>{_(!b),K()}}),d.jsx("label",{htmlFor:"dayOff",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Marcar como dia de folga"})]}),!b&&d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ha,{children:[d.jsx(Wa,{children:d.jsxs(xr,{children:[d.jsx(Kt,{className:"text-center",children:"Horrio"}),d.jsx(Kt,{className:"text-center",children:"Disponvel"})]})}),d.jsx(qa,{children:k.map(j=>d.jsxs(xr,{children:[d.jsx(Qt,{className:"text-center font-medium",children:j}),d.jsx(Qt,{className:"text-center",children:A===j?d.jsx(kN,{className:"h-4 w-4 animate-spin mx-auto"}):d.jsx("input",{type:"checkbox",checked:v[j]??!0,onChange:()=>te(j),disabled:O,className:"h-4 w-4 rounded border-border"})})]},j))})]})})]})}),d.jsx(Mo,{value:"events",children:d.jsx("div",{className:"flex flex-col gap-4",children:(()=>{const j=t.find(J=>J.id===n),Q=j==null?void 0:j.calendar.find(J=>J.day===(w==null?void 0:w.replace(/-/g,"/"))),se=Q==null?void 0:Q.day_time.filter(J=>J.service!=="none"&&J.appointment_id!=="day_off"&&J.appointment_id!=="out_of_office"&&J.appointment_id!=="not_in_schedule"),q=se?Array.from(new Map(se.map(J=>[J.appointment_id,J])).values()):[];return q.length?d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ha,{children:[d.jsx(Wa,{children:d.jsxs(xr,{children:[d.jsx(Kt,{children:"Horrio"}),d.jsx(Kt,{children:"Servio"}),d.jsx(Kt,{children:"Cliente"})]})}),d.jsx(qa,{children:q.map((J,ie)=>d.jsxs(xr,{children:[d.jsx(Qt,{className:"font-medium",children:J.hour}),d.jsx(Qt,{children:J.service}),d.jsx(Qt,{children:J.client_id||"No informado"})]},ie))})]})}):d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum evento agendado para este dia"})})()})})]})]})}),d.jsx(kfe,{isOpen:I,onOpenChange:N,event:S}),d.jsx(EB,{plugins:[wde,Ife,Bde],nowIndicator:!0,initialView:"dayGridMonth",events:s,eventClick:D,editable:!1,selectable:!0,eventContent:G,dateClick:ae,dayCellClassNames:()=>"cursor-pointer",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"}})]})},Pfe=()=>d.jsxs("div",{className:"animate-fade-in max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"font-display text-4xl font-bold text-gray-200 mb-4",children:"Horrios"}),d.jsx("p",{className:"text-xl text-gray-400",children:"Calendrio com horrios marcados"})]}),d.jsx(Dfe,{})]}),Nfe=()=>{const{services:t}=cS(),e=r=>{const s=r*15;if(s>=60){const i=Math.floor(s/60),o=s%60;return`${i}h${o>0?` ${o}min`:""}`}return`${s}min`},n=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r);return d.jsxs("div",{className:"animate-fade-in max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"font-display text-4xl font-bold text-gray-200 mb-4",children:"Nossos servios"}),d.jsx("p",{className:"text-xl text-gray-400",children:"Escolha o servio que melhor atende s suas necess"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(r=>d.jsxs(hy,{className:"flex flex-col justify-between border-2 hover:border-primary transition-colors duration-200",children:[d.jsxs(py,{children:[d.jsx(my,{className:"text-2xl",children:r.name}),d.jsx(jF,{className:"text-lg",children:r.description})]}),d.jsxs(gy,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-gray-600",children:e(r.service_duration)}),d.jsx("span",{className:"text-2xl font-semibold text-primary",children:n(r.preco)})]}),d.jsx(Dt,{asChild:!0,className:"w-full bg-primary hover:bg-primary-hover",children:d.jsxs(vu,{to:"/book",children:["Book Now",d.jsx(GE,{className:"ml-2 h-5 w-5"})]})})]})]},r.description))})]})},Mfe=()=>{const t=Vu();return d.jsxs("div",{className:"container max-w-md mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create an account"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Enter your information to create a new account"}),d.jsx(HL,{onSuccess:()=>t("/")})]})},Ofe=()=>{var i;const[t,e]=y.useState([]),[n,r]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const a=bs(gn,"employees"),c=(await ii(a)).docs.map(u=>{const h=u.data();return{employee_id:u.id,employees:h.employees}});e(c)}catch(a){console.error("Error fetching employees: ",a)}finally{r(!1)}})()},[]);const s=((i=t[0])==null?void 0:i.employees)||[];return d.jsxs("div",{className:"animate-fade-in max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"font-display text-4xl font-bold text-gray-200 mb-4",children:"Conhea nosso time"}),d.jsx("p",{className:"text-xl text-gray-400",children:"Barbeiros experientes prontos para te atender"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(o=>d.jsxs(hy,{className:"flex flex-col justify-between border-2 hover:border-primary transition-colors duration-200",children:[d.jsxs(py,{children:[d.jsx(IN,{className:"h-12 w-12"}),d.jsx(my,{className:"text-2xl",children:o.employee_name})]}),d.jsxs(gy,{children:[o.services.map((a,l)=>d.jsxs("li",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Pm,{className:"h-4 w-4 mr-2"}),a]},l)),d.jsx(Dt,{asChild:!0,className:"w-full bg-primary hover:bg-primary-hover mt-5",children:d.jsxs(vu,{to:"/book",children:["Book with ",o.employee_name.split(" ")[0],d.jsx(GE,{className:"ml-2 h-5 w-5"})]})})]})]},o.employee_id))})]})},jfe=new pte,Lfe=()=>d.jsx(gte,{client:jfe,children:d.jsx(Cz,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:d.jsx(yte,{children:d.jsxs(_W,{children:[d.jsx(BN,{}),d.jsx(rH,{}),d.jsx(Uee,{children:d.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[d.jsx(Wne,{}),d.jsx("div",{className:"pt-16",children:d.jsxs(Pee,{children:[d.jsx(Vr,{path:"/",element:d.jsx(Sie,{})}),d.jsx(Vr,{path:"/auth",element:d.jsx(qee,{})}),d.jsx(Vr,{path:"/services",element:d.jsx(Nfe,{})}),d.jsx(Vr,{path:"/team",element:d.jsx(Ofe,{})}),d.jsx(Vr,{path:"/book",element:d.jsx(Vse,{})}),d.jsx(Vr,{path:"/login",element:d.jsx(Cie,{})}),d.jsx(Vr,{path:"/signup",element:d.jsx(Mfe,{})}),d.jsx(Vr,{path:"/schedules",element:d.jsx(Pfe,{})}),d.jsx(Vr,{path:"/management",element:d.jsx($ie,{})}),d.jsx(Vr,{path:"/appointments",element:d.jsx(vX,{})}),d.jsx(Vr,{path:"*",element:d.jsx(zie,{})})]})})]})})]})})})});tN(document.getElementById("root")).render(d.jsx(Lfe,{}));
